
ーーーーーーーーSearch the target string501ーーーーーーーーーーーーーーー
 
search_string:
 //TODOthesebytesshouldbeversioned
 
predict_string:
 //TODOthesebytesshouldbeversioned 

line_no || similarity 

387 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/shufflehandler/ShuffleHandler.java 

under_code:
DataOutputBuffer port_dob = new DataOutputBuffer();
 

ーーーーーーーーSearch the target string502ーーーーーーーーーーーーーーー
 
search_string:
 //TODO1.0miniClusterisslowthistesttimesout,makeitwork
 
predict_string:
 //TODO1.0miniClusterisslowthistesttimesout,makeitwork 

line_no || similarity 

210 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/core/src/test/java/org/apache/hive/hcatalog/mapreduce/TestHCatDynamicPartitioned.java 

under_code:
// renaming test to make test framework skip it
 

ーーーーーーーーSearch the target string503ーーーーーーーーーーーーーーー
 
search_string:
 /**Senddroppedtablenotifications.Subscriberscanreceivethesenotificationsfor*droppedtablesbylisteningontopic"HCAT"withmessageselectorstring*{@valueorg.apache.hive.hcatalog.common.HCatConstants#HCAT_EVENT}=*{@valueorg.apache.hive.hcatalog.common.HCatConstants#HCAT_DROP_TABLE_EVENT}*</br>*TODO:DataNucleus2.0.3,currentlyusedbytheHiveMetaStoreforpersistence,hasbeen*foundtothrowNPEwhenserializingobjectsthatcontainnull.Forthisreasonweoverride*somefieldsintheStorageDescriptorofthisnotification.Thisshouldbefixedafter*HIVE-2084"Upgradedatanucleusfrom2.0.3to3.0.1"isresolved.*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string504ーーーーーーーーーーーーーーー
 
search_string:
 /**ThisutilityisdesignedtohelpwithupgradingtoHive3.0.On-disklayoutfortransactional*tableshaschangedin3.0andrequirepre-processingbeforeupgradetoensuretheyarereadable*byHive3.0.Sometransactionaltables(identifiedbythisutility)requireMajorcompaction*toberunonthembeforeupgradingto3.0.Oncethiscompactionstarts,nomore*update/delete/mergestatementsmaybeexecutedonthesetablesuntilupgradeisfinished.**Additionally,anewtypeoftransactionaltableswasaddedin3.0-insert-onlytables.These*tablessupportACIDsemanticsandworkwithanyInput/OutputFormat.AnyManagedtablesmay*bemadeinsert-onlytransactionaltable.Thesetablesdon'tsupportUpdate/Delete/Mergecommands.**Thisutilityworksin2modes:preUpgradeandpostUpgrade.*InpreUpgrademodeithastohave2.xHivejarsontheclasspath.Itwillperformanalysison*existingtransactionaltables,determinewhichrequirecompactionandgenerateasetofSQL*commandstolaunchallofthesecompactions.**Notethatdependingonthenumberoftables/partitionsandamountofdatainthemcompactions*maytakeasignificantamountoftimeandresources.Thescriptoutputbythisutilityincludes*someheuristicsthatmayhelpestimatethetimerequired.Ifnoscriptisproduced,noaction*isneeded.ForcompactionstorunaninstanceofstandaloneHiveMetastoremustberunning.*Pleasemakesurehive.compactor.worker.threadsissufficientlyhigh-thisspecifiesthelimit*ofconcurrentcompactionsthatmayberun.EachcompactionjobisaMap-Reducejob.*hive.compactor.job.queuemaybeusedtosetaYarnqueueamewhereallcompactionjobswillbe*submitted.**InpostUpgrademode,Hive3.0jars/hive-site.xmlshouldbeontheclasspath.Thisutilitywill*findallthetablesthatmaybemadetransactional(withfulCRUDsupport)andgenerate*AlterTablecommandstodoso.ItwillalsofindalltablesthatmaynotsupportfullCRUD*butcanbemadeinsert-onlytransactionaltablesandgeneratecorrespondingAlterTablecommands.**TODO:renamefiles**"execute"optionmaybesuppliedinbothmodestohavetheutilityautomaticallyexecutethe*equivalentofthegeneratedcommands**"location"optionmaybesuppliedfollowedbyapathtosetthelocationforthegenerated*scripts.*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string505ーーーーーーーーーーーーーーー
 
search_string:
 //srcs=newFileStatus[0];Whyisthisneeded?
 
predict_string:
 //srcs=newFileStatus[0];Whyisthisneeded? 

line_no || similarity 

3919 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java 

under_code:
}
 

ーーーーーーーーSearch the target string506ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:shouldprobablythrowanexceptionhere.
 
predict_string:
 //TODO:shouldprobablythrowanexceptionhere. 

line_no || similarity 

261 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/jdbc/src/java/org/apache/hive/jdbc/HiveQueryResultSet.java 

under_code:
return;
 

ーーーーーーーーSearch the target string507ーーーーーーーーーーーーーーー
 
search_string:
 //2.ConvertAggFnargsandtypeofargstoCalciteTODO:DoesHQLallowsexpressionsasaggregateargsorcanitonlybe
 
sub_line:
 //TODO:DoesHQLallowsexpressionsasaggregateargsorcanitonlybe 

frontremoved_sub_line:
 DO:DoesHQLallowsexpressionsasaggregateargsorcanitonlybe 

sub_line:
 //projectionsfromchild? 

frontremoved_sub_line:
 ojectionsfromchild? 

predict_string:
 //2.ConvertAggFnargsandtypeofargstoCalcite 

line_no || similarity 

3354 || 0.5957446808510638 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/CalcitePlanner.java 

under_code:
// projections from child?
 

ーーーーーーーーSearch the target string508ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:notethatthetokenisnotrenewablerightnowandwilllastfor2weeksbydefault.
 
predict_string:
 //TODO:notethatthetokenisnotrenewablerightnowandwilllastfor2weeksbydefault. 

line_no || similarity 

251 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-common/src/java/org/apache/hadoop/hive/llap/security/SecretManager.java 

under_code:
Token<LlapTokenIdentifier> token = new Token<LlapTokenIdentifier>(llapId, this);
 

ーーーーーーーーSearch the target string509ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ShouldthisbealsoTOP_DOWN?
 
predict_string:
 //TODO:ShouldthisbealsoTOP_DOWN? 

line_no || similarity 

2249 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/CalcitePlanner.java 

under_code:
for (RelOptRule r : rules)
 

ーーーーーーーーSearch the target string510ーーーーーーーーーーーーーーー
 
search_string:
 /**TODO:MostofthecodeinthisclassisrippedfromZooKeepertests.Instead*ofredoingit,weshouldcontributeupdatestotheircodewhichletusmore*easilyaccesstestinghelperobjects.**XXX:copiedfromtheonlyusedclassbyqtestutilfromhbase-tests*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string511ーーーーーーーーーーーーーーー
 
search_string:
 //Ifit'sconstant=constantorcolumn=column,wecan'tfetchanyrangesTODOWecantrytobesmarterandpushupthevaluetosomenodewhich
 
sub_line:
 //TODOWecantrytobesmarterandpushupthevaluetosomenodewhich 

frontremoved_sub_line:
 DOWecantrytobesmarterandpushupthevaluetosomenodewhich 

sub_line:
 //wecangeneraterangesfrome.g.rowid>(4+5) 

frontremoved_sub_line:
 cangeneraterangesfrome.g.rowid>(4+5) 

predict_string:
 //Ifit'sconstant=constantorcolumn=column,wecan'tfetchanyranges 

line_no || similarity 

248 || 0.6927374301675978 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/accumulo-handler/src/java/org/apache/hadoop/hive/accumulo/predicate/AccumuloRangeGenerator.java 

under_code:
// we can generate ranges from e.g. rowid > (4 + 5)
 

ーーーーーーーーSearch the target string512ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ImplementpropConstDistUDAFParams
 
predict_string:
 //TODO:ImplementpropConstDistUDAFParams 

line_no || similarity 

919 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/HiveGBOpConvUtil.java 

under_code:
constantPropDistinctUDAFParam = SemanticAnalyzer
 

ーーーーーーーーSearch the target string513ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:implementimplicitAsyncRDDActionsconversioninsteadofjc.monitor()?TODO:howtohandlestagefailures?
 
sub_line:
 //TODO:howtohandlestagefailures? 

frontremoved_sub_line:
 DO:howtohandlestagefailures? 

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 StringclientId=getClientId(jobId); 

frontremoved_sub_line:
 ngclientId=getClientId(jobId); 

predict_string:
 //TODO:implementimplicitAsyncRDDActionsconversioninsteadofjc.monitor()? 

line_no || similarity 

505 || 0.8255813953488372 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/spark-client/src/main/java/org/apache/hive/spark/client/RemoteDriver.java 

under_code:
String clientId = getClientId(jobId);
 

ーーーーーーーーSearch the target string514ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:shouldwecheckisAssignableFrom?
 
predict_string:
 //TODO:shouldwecheckisAssignableFrom? 

line_no || similarity 

313 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/HiveInputFormat.java 

under_code:
if (ifName.equals(format)) {
 

ーーーーーーーーSearch the target string515ーーーーーーーーーーーーーーー
 
search_string:
 //Forreplicationadd-ptns,weneedtofollowainsert-if-not-exist,alter-if-existsscenario.TODO:ideally,weshouldpushthismechanismtothemetastore,because,otherwise,wehavenochoicebuttoiterateoverthepartitionshere.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string516ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:shouldwecreatethebatchfromvrbctx,andreusethevectors,likebelow?Futurework.
 
predict_string:
 //TODO:shouldwecreatethebatchfromvrbctx,andreusethevectors,likebelow?Futurework. 

line_no || similarity 

351 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/api/impl/LlapRecordReader.java 

under_code:
inputVrb.cols[ixInVrb] = cvb.cols[ixInReadSet];
 

ーーーーーーーーSearch the target string517ーーーーーーーーーーーーーーー
 
search_string:
 //thisisahackywayofdoingthequotessinceitwillmatchany2ofthese,so"[hellothisissomethingtosplit["wouldbeconsideredtobequoted.
 
sub_line:
 //these,so 

frontremoved_sub_line:
 ese,so 

sub_line:
 //"[hellothisissomethingtosplit["wouldbeconsideredtobequoted. 

frontremoved_sub_line:
 hellothisissomethingtosplit["wouldbeconsideredtobequoted. 

sub_line:
 schema.setProperty(serdeConstants.QUOTE_CHAR,"(\"|\\[|\\])"); 

frontremoved_sub_line:
 ma.setProperty(serdeConstants.QUOTE_CHAR,"(\"|\\[|\\])"); 

predict_string:
 //thisisahackywayofdoingthequotessinceitwillmatchany2of 

line_no || similarity 

322 || 0.6214689265536724 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/serde/src/test/org/apache/hadoop/hive/serde2/TestTCTLSeparatedProtocol.java 

under_code:
schema.setProperty(serdeConstants.QUOTE_CHAR, "(\"|\\[|\\])");
 

ーーーーーーーーSearch the target string518ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Dothetypecheckingoftheexpressions
 
predict_string:
 //TODO:Dothetypecheckingoftheexpressions 

line_no || similarity 

11054 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 

under_code:
List<String> tabBucketCols = tab.getBucketCols();
 

ーーーーーーーーSearch the target string519ーーーーーーーーーーーーーーー
 
search_string:
 //Makeatreeoutofthefilter.TODO:thisisallprettyugly.TheonlyreasonweneedallthesetransformationsistomaintainsupportforsimplefiltersforHCatusersthatquerymetastore.Ifforcingeveryonetousethickclientisoutofthequestion,maybewecouldparsethefilterintostandardhiveexpressionsandnotallthisseparatetree
 
under_code:
too long.
 

ーーーーーーーーSearch the target string520ーーーーーーーーーーーーーーー
 
search_string:
 //NotsafetocontinueforRS-GBY-GBY-LIMkindofpipelines.SeeHIVE-10607formore.
 
predict_string:
 //NotsafetocontinueforRS-GBY-GBY-LIMkindofpipelines.SeeHIVE-10607formore. 

line_no || similarity 

137 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/LimitPushdownOptimizer.java 

under_code:
return false;
 

ーーーーーーーーSearch the target string521ーーーーーーーーーーーーーーー
 
search_string:
 //HackfortableswithnocolumnsTreatitasatablewithasinglecolumncalled"col"
 
sub_line:
 //Treatitasatablewithasinglecolumncalled"col" 

frontremoved_sub_line:
 eatitasatablewithasinglecolumncalled"col" 

sub_line:
 cachedObjectInspector=ObjectInspectorFactory 

frontremoved_sub_line:
 edObjectInspector=ObjectInspectorFactory 

predict_string:
 //Hackfortableswithnocolumns 

line_no || similarity 

100 || 0.5656565656565656 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/test-serde/src/main/java/org/apache/hadoop/hive/serde2/TestSerDe.java 

under_code:
cachedObjectInspector = ObjectInspectorFactory
 

ーーーーーーーーSearch the target string522ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ifweexpectonedirwhydon'tweenforceit?
 
predict_string:
 //TODO:ifweexpectonedirwhydon'tweenforceit? 

line_no || similarity 

1182 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/txn/compactor/CompactorMR.java 

under_code:
for (FileStatus fileStatus : contents) {
 

ーーーーーーーーSearch the target string523ーーーーーーーーーーーーーーー
 
search_string:
 //Postserialization,separatorsareautomaticallyinsertedbetweendifferentfieldsinthestruct.Currentlythereisnotwaytodisablethat.Sotheworkaroundhereistopadthe
 
sub_line:
 //struct.Currentlythereisnotwaytodisablethat.Sotheworkaroundhereistopadthe 

frontremoved_sub_line:
 ruct.Currentlythereisnotwaytodisablethat.Sotheworkaroundhereistopadthe 

sub_line:
 //datawiththeseparatorbytesbeforecreatinga"Put"object 

frontremoved_sub_line:
 tawiththeseparatorbytesbeforecreatinga"Put"object 

predict_string:
 //Postserialization,separatorsareautomaticallyinsertedbetweendifferentfieldsinthe 

line_no || similarity 

943 || 0.6923076923076923 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hbase-handler/src/test/org/apache/hadoop/hive/hbase/TestHBaseSerDe.java 

under_code:
// data with the separator bytes before creating a "Put" object
 

ーーーーーーーーSearch the target string524ーーーーーーーーーーーーーーー
 
search_string:
 //Weonlysupportlimitedunselectedcolumnfollowingbyorderby.TODO:supportunselectedcolumnsingenericUDTFandwindowingfunctions.Weexaminetheorderbyinthisqueryblockandaddsincolumnneededbyorderbyinselectlist.
 
sub_line:
 //TODO:supportunselectedcolumnsingenericUDTFandwindowingfunctions. 

frontremoved_sub_line:
 DO:supportunselectedcolumnsingenericUDTFandwindowingfunctions. 

sub_line:
 //Weexaminetheorderbyinthisqueryblockandaddsincolumnneeded 

frontremoved_sub_line:
 examinetheorderbyinthisqueryblockandaddsincolumnneeded 

sub_line:
 //byorderbyinselectlist. 

frontremoved_sub_line:
 orderbyinselectlist. 

sub_line:
 if(obAST!=null&&!(selForWindow!=null&&selExprList.getToken().getType()==HiveParser.TOK_SELECTDI)&&!isAllColRefRewrite){ 

frontremoved_sub_line:
 bAST!=null&&!(selForWindow!=null&&selExprList.getToken().getType()==HiveParser.TOK_SELECTDI)&&!isAllColRefRewrite){ 

predict_string:
 //Weonlysupportlimitedunselectedcolumnfollowingbyorderby. 

line_no || similarity 

4588 || 0.4453125 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/CalcitePlanner.java 

under_code:
if (obAST != null && !(selForWindow != null && selExprList.getToken().getType() == HiveParser.TOK_SELECTDI) && !isAllColRefRewrite) {
 

ーーーーーーーーSearch the target string525ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ifwewanttobeexplicitaboutthisdumpnotbeingareplicationdump,wecanuncommentthiselsesection,butcurrentlyunneeded.Willrequirealotofgoldenfileregenifwedoso.
 
sub_line:
 //uncommentthiselsesection,butcurrentlyunneeded.Willrequirealotofgoldenfile 

frontremoved_sub_line:
 commentthiselsesection,butcurrentlyunneeded.Willrequirealotofgoldenfile 

sub_line:
 //regenifwedoso. 

frontremoved_sub_line:
 genifwedoso. 

sub_line:
 } 

frontremoved_sub_line:
  

sub_line:
 returntable; 

frontremoved_sub_line:
 rntable; 

predict_string:
 //TODO:ifwewanttobeexplicitaboutthisdumpnotbeingareplicationdump,wecan 

line_no || similarity 

97 || 0.6167400881057269 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/io/TableSerializer.java 

under_code:
return table;
 

ーーーーーーーーSearch the target string526ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:refactorthisinHIVE-6366
 
predict_string:
 updateMrWork(jobConf);//TODO:refactorthisinHIVE-6366 

line_no || similarity 

187 || 0.7317073170731707 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/ProjectionPusher.java 

under_code:
final JobConf cloneJobConf = new JobConf(jobConf);
 

ーーーーーーーーSearch the target string527ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:(a=1)andNOT(aisNULL)canbepotentiallyfoldedearlierintoaNO-OP
 
predict_string:
 //TODO:(a=1)andNOT(aisNULL)canbepotentiallyfoldedearlierintoaNO-OP 

line_no || similarity 

161 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/FixedBucketPruningOptimizer.java 

under_code:
// fall through
 

ーーーーーーーーSearch the target string528ーーーーーーーーーーーーーーー
 
search_string:
 //@todo:removethis.8/28/14hbfornowaddingbecauseRelOptUtil.classifyFiltershasanassertionaboutcolumncountsthatisnottrueforsemiJoins.
 
sub_line:
 //fornowaddingbecauseRelOptUtil.classifyFiltershasanassertionabout 

frontremoved_sub_line:
 rnowaddingbecauseRelOptUtil.classifyFiltershasanassertionabout 

sub_line:
 //columncountsthatisnottrueforsemiJoins. 

frontremoved_sub_line:
 lumncountsthatisnottrueforsemiJoins. 

sub_line:
 if(joinRelinstanceofSemiJoin){ 

frontremoved_sub_line:
 oinRelinstanceofSemiJoin){ 

predict_string:
 //@todo:removethis.8/28/14hb 

line_no || similarity 

199 || 0.35443037974683544 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/stats/HiveRelMdRowCount.java 

under_code:
if (joinRel instanceof SemiJoin) {
 

ーーーーーーーーSearch the target string529ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisseemstoindicatethatprioritieschangetoolittle...perhapsweneedtoadjustthepolicy.
 
sub_line:
 //perhapsweneedtoadjustthepolicy. 

frontremoved_sub_line:
 rhapsweneedtoadjustthepolicy. 

sub_line:
 for(intj=0;j<10;++j){ 

frontremoved_sub_line:
 intj=0;j<10;++j){ 

predict_string:
 //TODO:thisseemstoindicatethatprioritieschangetoolittle... 

line_no || similarity 

349 || 0.7891156462585034 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/test/org/apache/hadoop/hive/llap/cache/TestLowLevelLrfuCachePolicy.java 

under_code:
for (int j = 0; j < 10; ++j) {
 

ーーーーーーーーSearch the target string530ーーーーーーーーーーーーーーー
 
search_string:
 //Note-weneedsrcFsratherthanfs,becauseitispossiblethatthe_fileslistsfileswhicharefromadifferentfilesystemthanthefswherethe_filesfileitselfwasloadedfrom.Currently,itispossible,foreg.,todoREPLLOADhdfs://<ip>/dir/andforthe_filesinittocontainhdfs://<name>/entries,and/orvice-versa,andthiscauseserrors.Itmightalsobepossiblethattherewillbeamixoftheminagiven_filesfile.TODO:revisitclosetotheendofreplv2dev,toseeifourassumptionnowstillholds,andifnotso,optimize.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string531ーーーーーーーーーーーーーーー
 
search_string:
 //Note:withsometrickery,wecouldaddlogicforeachtypeinConfVars;fornowthepotentialspuriousmismatches(e.g.0and0.0forfloat)shouldbeeasytoworkaround.
 
sub_line:
 //potentialspuriousmismatches(e.g.0and0.0forfloat)shouldbeeasytoworkaround. 

frontremoved_sub_line:
 tentialspuriousmismatches(e.g.0and0.0forfloat)shouldbeeasytoworkaround. 

sub_line:
 validateRestrictedConfigValues(var.varname,userValue,serverValue); 

frontremoved_sub_line:
 dateRestrictedConfigValues(var.varname,userValue,serverValue); 

predict_string:
 //Note:withsometrickery,wecouldaddlogicforeachtypeinConfVars;fornowthe 

line_no || similarity 

60 || 0.6572769953051644 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/RestrictedConfigChecker.java 

under_code:
validateRestrictedConfigValues(var.varname, userValue, serverValue);
 

ーーーーーーーーSearch the target string532ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:hiveServer2SiteUrlisnotsettable?
 
predict_string:
 //FIXME:hiveServer2SiteUrlisnotsettable? 

line_no || similarity 

150 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hive/testutils/HiveTestEnvSetup.java 

under_code:
ctx.hiveConf = new HiveConf(IDriver.class);
 

ーーーーーーーーSearch the target string533ーーーーーーーーーーーーーーー
 
search_string:
 //Thefollowingcheckisonlyaguardagainstfailures.TODO:KnowingwhichexprisconstantinGBY'saggregationfunctionargumentscouldbebetterdoneusingMetadataproviderofCalcite.checkthecorrespondingexpressioninexprstoseeifitisliteral
 
under_code:
too long.
 

ーーーーーーーーSearch the target string534ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:RemoveinHive0.16.ThisisrequiredonlytosupportthedeprecatedHCatAddPartitionDesc.Builderinterfaces.
 
sub_line:
 //ThisisonlyrequiredtosupportthedeprecatedmethodsinHCatAddPartitionDesc.Builder. 

frontremoved_sub_line:
 isisonlyrequiredtosupportthedeprecatedmethodsinHCatAddPartitionDesc.Builder. 

predict_string:
 //TODO:RemoveinHive0.16. 

line_no || similarity 

489 || 0.3779527559055118 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatClientHMSImpl.java 

under_code:
// This is only required to support the deprecated methods in HCatAddPartitionDesc.Builder.
 

ーーーーーーーーSearch the target string535ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ifpartitionsareloadedlazilyviatheiteratorthenwewillhavetoavoidconversionofeverythinghereasitdefeatsthepurpose.
 
predict_string:
 //TODO:ifpartitionsareloadedlazilyviatheiteratorthenwewillhavetoavoidconversionofeverythinghereasitdefeatsthepurpose. 

line_no || similarity 

83 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/repl/bootstrap/events/filesystem/FSTableEvent.java 

under_code:
for (Partition partition : metadata.getPartitions()) {
 

ーーーーーーーーSearch the target string536ーーーーーーーーーーーーーーー
 
search_string:
 /**Figuresoutthealiasesforwhomitissafetopushpredicatesbasedon*ANSISQLsemantics.Thejoinconditionsareleftassociativeso"a*RIGHTOUTERJOINbLEFTOUTERJOINcINNERJOINd"isinterpretedas*"((aRIGHTOUTERJOINb)LEFTOUTERJOINc)INNERJOINd".Forinner*joins,boththeleftandrightjoinsubexpressionsareconsideredfor*pushingdownaliases,fortherightouterjoin,therightsubexpression*isconsideredandtheleftignoredandfortheleftouterjoin,the*leftsubexpressionisconsideredandtheleftignored.Here,aliasesb*anddareeligibletobepushedup.**TODO:furtheroptimizationopportunityforthecasea.c1=b.c1andb.c2*=c.c2aandbarefirstjoinedandthentheresultwithc.Butthe*secondjoinopcurrentlytreatsaandbasseparatealiasesandthus*disallowingpredicateexprcontainingbothtablesaandb(suchasa.c3*+a.c4>20).Suchpredicatesalsocanbepushedjustabovethesecond*joinandbelowthefirstjoin**@paramop*JoinOperator*@paramrr*Rowresolver*@returnsetofqualifiedaliases*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string537ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:notstoppingumbilicalexplicitlyassometaskKillrequestsmaygetscheduledduringqueryCompletewhichwillbeusingtheumbilical.HIVE-16021shouldfixthis,untilthenleaveumbilicalopenandwaitforittobeclosedaftermaxidletimeout(10sdefault)
 
under_code:
too long.
 

ーーーーーーーーSearch the target string538ーーーーーーーーーーーーーーー
 
search_string:
 //TODO[MMgap?]:bydesign;no-oneseemstouseLBtables.Theywillwork,butnotconvert.It'spossibletoworkaroundthisbyre-creatingandre-insertingthetable.
 
sub_line:
 //It'spossibletoworkaroundthisbyre-creatingandre-insertingthetable. 

frontremoved_sub_line:
 'spossibletoworkaroundthisbyre-creatingandre-insertingthetable. 

sub_line:
 thrownewHiveException("Convertinglistbucketedtablesstoredassubdirectories" 

frontremoved_sub_line:
 wnewHiveException("Convertinglistbucketedtablesstoredassubdirectories" 

predict_string:
 //TODO[MMgap?]:bydesign;no-oneseemstouseLBtables.Theywillwork,butnotconvert. 

line_no || similarity 

4413 || 0.7004608294930875 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 

under_code:
throw new HiveException("Converting list bucketed tables stored as subdirectories "
 

ーーーーーーーーSearch the target string539ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Shouldbemovedout.
 
predict_string:
 //TODO:Shouldbemovedout. 

line_no || similarity 

339 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatClientHMSImpl.java 

under_code:
if (oldtbl
 

ーーーーーーーーSearch the target string540ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:I/Othreadpoolcouldbehere-onethreadperstripe;fornow,linear.
 
predict_string:
 //TODO:I/Othreadpoolcouldbehere-onethreadperstripe;fornow,linear. 

line_no || similarity 

348 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/OrcEncodedDataReader.java 

under_code:
boolean hasFileId = this.fileKey != null;
 

ーーーーーーーーSearch the target string541ーーーーーーーーーーーーーーー
 
search_string:
 //Optionally,dosomefilteringofrows...UNDONE
 
sub_line:
 //UNDONE 

frontremoved_sub_line:
 DONE 

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 //FromthevaluearraysandourisRepeated,selected,isNullarrays,generatethebatch! 

frontremoved_sub_line:
 omthevaluearraysandourisRepeated,selected,isNullarrays,generatethebatch! 

predict_string:
 //Optionally,dosomefilteringofrows... 

line_no || similarity 

284 || 0.925 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/exec/vector/util/batchgen/VectorBatchGenerator.java 

under_code:
// From the value arrays and our isRepeated, selected, isNull arrays, generate the batch!
 

ーーーーーーーーSearch the target string542ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Shouldhaveacheckontheserverside.EmbeddedmetastorethrowsInvalidObjectException,remotethrowsTApplicationException
 
sub_line:
 //NullPointerException,remotethrowsTTransportException 

frontremoved_sub_line:
 llPointerException,remotethrowsTTransportException 

predict_string:
 //TODO:Shouldhaveacheckontheserverside.Embeddedmetastorethrows 

line_no || similarity 

218 || 0.6888888888888889 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/client/TestFunctions.java 

under_code:
// NullPointerException, remote throws TTransportException
 

ーーーーーーーーSearch the target string543ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:Supportpruningdynamicpartitioning.
 
predict_string:
 //FIXME:Supportpruningdynamicpartitioning. 

line_no || similarity 

1285 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ConstantPropagateProcFactory.java 

under_code:
LOG.info("DP can be rewritten to SP!");
 

ーーーーーーーーSearch the target string544ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:sideeffectwillleavethelastquerysetatthesessionlevel
 
predict_string:
 //FIXME:sideeffectwillleavethelastquerysetatthesessionlevel 

line_no || similarity 

557 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/Driver.java 

under_code:
if (SessionState.get() != null) {
 

ーーーーーーーーSearch the target string545ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:usefasternon-syncinputstream
 
predict_string:
 InputStreamis=newByteArrayInputStream(buf);//TODO:usefasternon-syncinputstream 

line_no || similarity 

208 || 0.6194690265486725 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/common/ndv/hll/HyperLogLogUtils.java 

under_code:
try {
 

ーーーーーーーーSearch the target string546ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:shouldthisratheruseathreadlocalforNUMAaffinity?
 
predict_string:
 //TODO:shouldthisratheruseathreadlocalforNUMAaffinity? 

line_no || similarity 

63 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/decode/OrcColumnVectorProducer.java 

under_code:
private final FixedSizedObjectPool<IoTrace> tracePool;
 

ーーーーーーーーSearch the target string547ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisobjectiscreatedoncetocallonemethodandthenimmediatelydestroyed.Soit'sbasicallyjustaroundaboutwaytopassargumentstoastaticmethod.Simplify?
 
sub_line:
 //Soit'sbasicallyjustaroundaboutwaytopassargumentstoastaticmethod.Simplify? 

frontremoved_sub_line:
 it'sbasicallyjustaroundaboutwaytopassargumentstoastaticmethod.Simplify? 

sub_line:
 publicclassTableExport{ 

frontremoved_sub_line:
 icclassTableExport{ 

predict_string:
 //TODO:thisobjectiscreatedoncetocallonemethodandthenimmediatelydestroyed. 

line_no || similarity 

54 || 0.6666666666666666 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/TableExport.java 

under_code:
public class TableExport {
 

ーーーーーーーーSearch the target string548ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:pcimplementmax
 
predict_string:
 //TODO:pcimplementmax 

line_no || similarity 

2843 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ObjectStore.java 

under_code:
@Override
 

ーーーーーーーーSearch the target string549ーーーーーーーーーーーーーーー
 
search_string:
 //TODOMakesurethismethodiseventuallyusedtofindtheprep/batchscripts.
 
predict_string:
 //TODOMakesurethismethodiseventuallyusedtofindtheprep/batchscripts. 

line_no || similarity 

230 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/conf/TestConfiguration.java 

under_code:
public String getApplyPathScriptPath() {
 

ーーーーーーーーSearch the target string550ーーーーーーーーーーーーーーー
 
search_string:
 /**Thisdoesn'tthrowanyexceptionsbecausewedon'twanttheCompactiontoappearasfailed*ifstatsgatheringfailssincethispreventsCleanerfromdoingit'sjobandifthereare*multiplefailures,autoinitiatedcompactionswillstopwhichleadstoproblemsthatare*muchworsethanstalestats.**todo:longertermweshouldwritesomethingCOMPACTION_QUEUE.CQ_META_INFO.Thisisabinary*fieldsoneedtofigureoutthemsgformatandhowtosurfaceitinSHOWCOMPACTIONS,etc*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string551ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:transitivedependencieswarning?
 
predict_string:
 //TODO:transitivedependencieswarning? 

line_no || similarity 

477 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/cli/LlapServiceDriver.java 

under_code:
String[] jarPaths = auxJars.split(delimiter);
 

ーーーーーーーーSearch the target string552ーーーーーーーーーーーーーーー
 
search_string:
 //WeareinHS2,getthetokenlocally.TODO:coordinatorshouldbepassedin;HIVE-13698.Mustbeinitializedfornow.
 
sub_line:
 //TODO:coordinatorshouldbepassedin;HIVE-13698.Mustbeinitializedfornow. 

frontremoved_sub_line:
 DO:coordinatorshouldbepassedin;HIVE-13698.Mustbeinitializedfornow. 

sub_line:
 coordinator=LlapCoordinator.getInstance(); 

frontremoved_sub_line:
 dinator=LlapCoordinator.getInstance(); 

predict_string:
 //WeareinHS2,getthetokenlocally. 

line_no || similarity 

412 || 0.48484848484848486 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java 

under_code:
coordinator = LlapCoordinator.getInstance();
 

ーーーーーーーーSearch the target string553ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Ideally,AcidUtilsclassandvariousconstantsshouldbeincommon.
 
predict_string:
 //TODO:Ideally,AcidUtilsclassandvariousconstantsshouldbeincommon. 

line_no || similarity 

306 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-common/src/java/org/apache/hadoop/hive/llap/LlapUtil.java 

under_code:
private static final String BASE_PREFIX = "base_", DELTA_PREFIX = "delta_",
 

ーーーーーーーーSearch the target string554ーーーーーーーーーーーーーーー
 
search_string:
 //HACK:WeactuallyneedBlockMissingException,butthatisnotavailable
 
predict_string:
 //HACK:WeactuallyneedBlockMissingException,butthatisnotavailable 

line_no || similarity 

354 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java 

under_code:
// in all hadoop versions.
 

ーーーーーーーーSearch the target string555ーーーーーーーーーーーーーーー
 
search_string:
 //TODOHIVE-14042.HandlingofdummyOps,andpropagatingabortinformationtothem
 
predict_string:
 //TODOHIVE-14042.HandlingofdummyOps,andpropagatingabortinformationtothem 

line_no || similarity 

334 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/MapRecordProcessor.java 

under_code:
dummyOp.initialize(jconf, null);
 

ーーーーーーーーSearch the target string556ーーーーーーーーーーーーーーー
 
search_string:
 //TODOThis-atleastforthesessionpool-willalwaysbethehiveuser.HowdoesdoAsabovethisaffectthings?
 
predict_string:
 //TODOThis-atleastforthesessionpool-willalwaysbethehiveuser.HowdoesdoAsabovethisaffectthings? 

line_no || similarity 

274 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java 

under_code:
UserGroupInformation ugi = Utils.getUGI();
 

ーーーーーーーーSearch the target string557ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisiscurrentlybroken.Weneedtosetmemorymanagertoabogusimplementationtoavoidproblemswithmemorymanageractuallytrackingtheusage.
 
sub_line:
 //toavoidproblemswithmemorymanageractuallytrackingtheusage. 

frontremoved_sub_line:
 avoidproblemswithmemorymanageractuallytrackingtheusage. 

sub_line:
 returnOrcFile.createWriter(path,createOrcWriterOptions(oi,conf,cacheWriter,allocSize)); 

frontremoved_sub_line:
 rnOrcFile.createWriter(path,createOrcWriterOptions(oi,conf,cacheWriter,allocSize)); 

predict_string:
 //TODO:thisiscurrentlybroken.Weneedtosetmemorymanagertoabogusimplementation 

line_no || similarity 

1512 || 0.7246376811594203 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/SerDeEncodedDataReader.java 

under_code:
return OrcFile.createWriter(path, createOrcWriterOptions(oi, conf, cacheWriter, allocSize));
 

ーーーーーーーーSearch the target string558ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:forone-blockcase,wecouldmovenotificationforthelastblockoutoftheloop.
 
predict_string:
 //TODO:forone-blockcase,wecouldmovenotificationforthelastblockoutoftheloop. 

line_no || similarity 

79 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/cache/LowLevelCacheMemoryManager.java 

under_code:
long evicted = evictor.evictSomeBlocks(remainingToReserve);
 

ーーーーーーーーSearch the target string559ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:figureoutabetterdatastructurefornodelist(?)
 
predict_string:
 //TODO:figureoutabetterdatastructurefornodelist(?) 

line_no || similarity 

507 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/AggregateStatsCache.java 

under_code:
private List<AggrColStats> nodes = new ArrayList<>();
 

ーーーーーーーーSearch the target string560ーーーーーーーーーーーーーーー
 
search_string:
 //whyisn'tPPDworking....-itisworkingbutstoragelayerdoesn'tdorowlevelfiltering;onlyrowgrouplevel
 
predict_string:
 //whyisn'tPPDworking....-itisworkingbutstoragelayerdoesn'tdorowlevelfiltering;onlyrowgrouplevel 

line_no || similarity 

631 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/TestTxnNoBuckets.java 

under_code:
//this uses VectorizedOrcAcidRowBatchReader
 

ーーーーーーーーSearch the target string561ーーーーーーーーーーーーーーー
 
search_string:
 //Note:Currently,thisimplementationdoesnot"fallback"toregularcopyifdistcpistriedanditfails.Wedependuponthatbehaviourincaseslikereplication,whereinifdistcpfails,thereisgoodreasontonotplodalongwithatrivialimplementation,andfailinstead.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string562ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisisneverused
 
predict_string:
 //TODO:thisisneverused 

line_no || similarity 

277 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/shufflehandler/ShuffleHandler.java 

under_code:
localDirs = conf.getTrimmedStrings(SHUFFLE_HANDLER_LOCAL_DIRS);
 

ーーーーーーーーSearch the target string563ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:versionscouldalsobepickedatbuildtime.
 
predict_string:
 //TODO:versionscouldalsobepickedatbuildtime. 

line_no || similarity 

120 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/util/src/main/java/org/apache/hadoop/hive/cli/control/CoreCompareCliDriver.java 

under_code:
List<String> versionFiles = QTestUtil.getVersionFiles(queryDirectory, tname);
 

ーーーーーーーーSearch the target string564ーーーーーーーーーーーーーーー
 
search_string:
 //AprevioussolutionisbasedontableAliasandcolAlias,whichisunsafe,esp.whenCBOgeneratesderivedtablenames.seeHIVE-13602.Forcorrectnesspurpose,weonlytrustcolExpMap.WeassumethatCBOcandotheconstantPropagationbeforethisfunctioniscalledtohelpimprovetheperformance.UnionOperator,LimitOperatorandFilterOperatorarespecial,theyshouldalreadybecolumn-positionaligned.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string565ーーーーーーーーーーーーーーー
 
search_string:
 //Hack!!-refactoroncethemetadataAPIswithtypesareready
 
predict_string:
 //Hack!!-refactoroncethemetadataAPIswithtypesareready 

line_no || similarity 

10990 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 

under_code:
// Finally add the partitioning columns
 

ーーーーーーーーSearch the target string566ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ifthiscannotevictenough,itwillspininfinitely.Terminateatsomepoint?
 
predict_string:
 //TODO:ifthiscannotevictenough,itwillspininfinitely.Terminateatsomepoint? 

line_no || similarity 

64 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/cache/LowLevelCacheMemoryManager.java 

under_code:
int badCallCount = 0;
 

ーーーーーーーーSearch the target string567ーーーーーーーーーーーーーーー
 
search_string:
 //butitisnotOKtoconvertifthejoinison(a,c)
 
predict_string:
 //butitisnotOKtoconvertifthejoinison(a,c) 

line_no || similarity 

373 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractSMBJoinProc.java 

under_code:
return sortColNames.subList(0, joinCols.size()).containsAll(joinCols);
 

ーーーーーーーーSearch the target string568ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ideallyweshouldhaveatestforsessionitself.
 
predict_string:
 //TODO:ideallyweshouldhaveatestforsessionitself. 

line_no || similarity 

246 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/exec/tez/TestTezTask.java 

under_code:
verify(sessionState).ensureLocalResources(any(Configuration.class), eq(inputOutputJars));
 

ーーーーーーーーSearch the target string569ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ifneeded,verifythatrecordschemaentryforfieldnamematchesappropriatetype.
 
predict_string:
 //TODO:ifneeded,verifythatrecordschemaentryforfieldnamematchesappropriatetype. 

line_no || similarity 

54 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/core/src/main/java/org/apache/hive/hcatalog/data/HCatRecord.java 

under_code:
return get(fieldName, recordSchema);
 

ーーーーーーーーSearch the target string570ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:nullvalueistreateddifferentlyontheotherend..whenthosefilterwillbe
 
predict_string:
 //FIXME:nullvalueistreateddifferentlyontheotherend..whenthosefilterwillbe 

line_no || similarity 

68 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/util/src/main/java/org/apache/hadoop/hive/cli/control/AbstractCliConfig.java 

under_code:
// moved...this may change
 

ーーーーーーーーSearch the target string571ーーーーーーーーーーーーーーー
 
search_string:
 /**TODO:<br>*1.Changetheoutputcol/ExprNodeColumnnamestoexternalnames.<br>*2.Verifyifweneedtousethe"KEY."/"VALUE."inRScols;switchto*externalnamesifpossible.<br>*3.InExprNode&inColumnInfothetableAlias/VirtualColumnisspecified*differentlyfordifferentGB/RSinpipeline.Removethedifferenttreatments.*4.VirtualColMapneedstobemaintained**/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string572ーーーーーーーーーーーーーーー
 
search_string:
 //ReplacetheentirecurrentDiskRangewithnewcachedrange.Incaseofaninexactmatchineitherofthebelowitmaythrow.Wedonotcurrentlysupportthecasewherethecallerrequestsasinglecachebufferviamultiplesmallersub-ranges;ifthathappens,thismaythrow.Noonedoesitnow,though.TODO:shouldweactivelyasserthereforcachebufferslargerthanrange?
 
under_code:
too long.
 

ーーーーーーーーSearch the target string573ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:FillinwhenPARTITION_DONE_EVENTissupported.
 
predict_string:
 //TODO:FillinwhenPARTITION_DONE_EVENTissupported. 

line_no || similarity 

256 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/server-extensions/src/test/java/org/apache/hive/hcatalog/listener/TestNotificationListener.java 

under_code:
Assert.assertTrue("Unexpected: HCAT_PARTITION_DONE_EVENT not supported (yet).", false);
 

ーーーーーーーーSearch the target string574ーーーーーーーーーーーーーーー
 
search_string:
 //TODOFornow,thisaffectsnonbroadcastunsortedcasesaswell.Makeuseoftheedgepropertywhenit'savailable.
 
sub_line:
 //propertywhenit'savailable. 

frontremoved_sub_line:
 opertywhenit'savailable. 

sub_line:
 for(IOSpecProtoinputSpec:vertex.getInputSpecsList()){ 

frontremoved_sub_line:
 IOSpecProtoinputSpec:vertex.getInputSpecsList()){ 

predict_string:
 //TODOFornow,thisaffectsnonbroadcastunsortedcasesaswell.Makeuseoftheedge 

line_no || similarity 

424 || 0.8470588235294118 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/daemon/impl/TaskRunnerCallable.java 

under_code:
for (IOSpecProto inputSpec : vertex.getInputSpecsList()) {
 

ーーーーーーーーSearch the target string575ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:mostotheroptionsareprobablyunrecoverable...throw?
 
predict_string:
 //TODO:mostotheroptionsareprobablyunrecoverable...throw? 

line_no || similarity 

230 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/RetryingMetaStoreClient.java 

under_code:
caughtException = tae;
 

ーーーーーーーーSearch the target string576ーーーーーーーーーーーーーーー
 
search_string:
 //thisisatemporaryhacktofixthingsthatarenotfixedinthecompiler
 
predict_string:
 //thisisatemporaryhacktofixthingsthatarenotfixedinthecompiler 

line_no || similarity 

408 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/mr/MapRedTask.java 

under_code:
Integer numReducersFromWork = rWork == null ? 0 : rWork.getNumReduceTasks();
 

ーーーーーーーーSearch the target string577ーーーーーーーーーーーーーーー
 
search_string:
 //ShouldbefixedinAccumulo1.5.2and1.6.1
 
predict_string:
 //ShouldbefixedinAccumulo1.5.2and1.6.1 

line_no || similarity 

221 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/accumulo-handler/src/java/org/apache/hadoop/hive/accumulo/mr/HiveAccumuloTableInputFormat.java 

under_code:
if (null == rangeSplit.getIterators()
 

ーーーーーーーーSearch the target string578ーーーーーーーーーーーーーーー
 
search_string:
 //Thisishackery,buthavinghive-commondependonstandalone-metastoreisreallybadbecauseitwillpullallofthemetastorecodeintoeverymodule.Weneedtocheckthatwearen'tusingthestandalonemetastore.Ifweare,weshouldtreatitthesameasa
 
under_code:
too long.
 

ーーーーーーーーSearch the target string579ーーーーーーーーーーーーーーー
 
search_string:
 //todo:fixthis-ithastorunin3.0sincetablesmaybeunbucketed
 
predict_string:
 //todo:fixthis-ithastorunin3.0sincetablesmaybeunbucketed 

line_no || similarity 

475 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/upgrade-acid/src/main/java/org/apache/hadoop/hive/upgrade/acid/UpgradeTool.java 

under_code:
pw.println("-- These commands may be executed by Hive 1.x later");
 

ーーーーーーーーSearch the target string580ーーーーーーーーーーーーーーー
 
search_string:
 //Notsurewhythismethoddoesn'tthrowanyexceptions,butsincetheinterfacedoesn'tallowitwe'lljustswallowthemandmoveon.ThisOK-ishsincereleaseLocks()isonlycalledforRO/ACqueries;itwouldbereallybadtoeatexceptionshereforwriteoperations
 
under_code:
too long.
 

ーーーーーーーーSearch the target string581ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Implementthiswhentezisupgraded.TEZ-3550
 
sub_line:
 privatestaticExprNodeDescpropConstDistUDAFParams(){ 

frontremoved_sub_line:
 atestaticExprNodeDescpropConstDistUDAFParams(){ 

predict_string:
 //TODO:Implementthis 

line_no || similarity 

1281 || 0.6060606060606061 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/HiveGBOpConvUtil.java 

under_code:
private static ExprNodeDesc propConstDistUDAFParams() {
 

ーーーーーーーーSearch the target string582ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thereshouldbeabetterwaytodothis,codejustneedstobemodified
 
predict_string:
 //TODO:thereshouldbeabetterwaytodothis,codejustneedstobemodified 

line_no || similarity 

2306 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/encoded/EncodedTreeReaderFactory.java 

under_code:
OrcProto.ColumnEncoding columnEncoding = encodings.get(columnIndex);
 

ーーーーーーーーSearch the target string583ーーーーーーーーーーーーーーー
 
search_string:
 //TODOSessionre-usecompletelydisabledfordoAs=true.Alwayslaunchesanewsession.
 
predict_string:
 //TODOSessionre-usecompletelydisabledfordoAs=true.Alwayslaunchesanewsession. 

line_no || similarity 

275 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionPoolManager.java 

under_code:
boolean nonDefaultUser = conf.getBoolVar(HiveConf.ConfVars.HIVE_SERVER2_ENABLE_DOAS);
 

ーーーーーーーーSearch the target string584ーーーーーーーーーーーーーーー
 
search_string:
 //TODOIncaseofafailuretoheartbeat,tasksforthespecificDAGshouldideallybeKILLED
 
predict_string:
 //TODOIncaseofafailuretoheartbeat,tasksforthespecificDAGshouldideallybeKILLED 

line_no || similarity 

79 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/daemon/impl/AMReporter.java 

under_code:
/*
 

ーーーーーーーーSearch the target string585ーーーーーーーーーーーーーーー
 
search_string:
 //TODOCheckifallrequiredtablesareallowed,ifso,getitfromcache
 
predict_string:
 //TODOCheckifallrequiredtablesareallowed,ifso,getitfromcache 

line_no || similarity 

1102 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/cache/CachedStore.java 

under_code:
if (!isBlacklistWhitelistEmpty(conf) || !isCachePrewarmed.get()) {
 

ーーーーーーーーSearch the target string586ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Onlythequalifiednameshouldbelefthere
 
predict_string:
 //TODO:Onlythequalifiednameshouldbelefthere 

line_no || similarity 

131 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/reloperators/HiveTableScan.java 

under_code:
return super.explainTerms(pw)
 

ーーーーーーーーSearch the target string587ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:thisisasecretcontract;reuseingetAggrKey()createsamorecloserrelationtotheStatsGatherer
 
predict_string:
 //FIXME:thisisasecretcontract;reuseingetAggrKey()createsamorecloserrelationtotheStatsGatherer 

line_no || similarity 

199 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/stats/BasicStatsTask.java 

under_code:
// prefix = work.getAggKey();
 

ーーーーーーーーSearch the target string588ーーーーーーーーーーーーーーー
 
search_string:
 //Note:it'snotquiteclearwhythisisdoneinsidethisif.Seemslikeitshouldbeonthetoplevel.
 
predict_string:
 //Note:it'snotquiteclearwhythisisdoneinsidethisif.Seemslikeitshouldbeonthetoplevel. 

line_no || similarity 

272 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/GenTezWork.java 

under_code:
if (context.linkChildOpWithDummyOp.containsKey(mj)) {
 

ーーーーーーーーSearch the target string589ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whyisthissynchronized?
 
predict_string:
 //TODO:whyisthissynchronized? 

line_no || similarity 

567 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/service/src/java/org/apache/hive/service/cli/CLIService.java 

under_code:
public synchronized String getDelegationTokenFromMetaStore(String owner)
 

ーーーーーーーーSearch the target string590ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:localcacheiscreatedonce,sotheconfigsforfuturequerieswillnotbehonored.
 
predict_string:
 //TODO:localcacheiscreatedonce,sotheconfigsforfuturequerieswillnotbehonored. 

line_no || similarity 

675 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcInputFormat.java 

under_code:
if (cacheStripeDetails) {
 

ーーーーーーーーSearch the target string591ーーーーーーーーーーーーーーー
 
search_string:
 //SupportfordynamicpartitionscanbeaddedlaterThefollowingisnotoptimized:insertoverwritetableT1(ds='1',hr)selectkey,value,hrfromT2whereds='1';whereT1andT2arebucketedbythesamekeysandpartitionedbyds.hr
 
sub_line:
 if(fsOp.getConf().getDynPartCtx()!=null){ 

frontremoved_sub_line:
 sOp.getConf().getDynPartCtx()!=null){ 

predict_string:
 //Supportfordynamicpartitionscanbeaddedlater 

line_no || similarity 

422 || 0.3651452282157676 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketingSortingReduceSinkOptimizer.java 

under_code:
if (fsOp.getConf().getDynPartCtx() != null) {
 

ーーーーーーーーSearch the target string592ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:usingrealscalingbynew/oldrationmightyieldbetterresults?
 
predict_string:
 //FIXME:usingrealscalingbynew/oldrationmightyieldbetterresults? 

line_no || similarity 

324 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/plan/Statistics.java 

under_code:
ret.numRows = newRowCount;
 

ーーーーーーーーSearch the target string593ーーーーーーーーーーーーーーー
 
search_string:
 //todo:trythiswithaciddefault-itseemmakingtableacidinlisteneristoolate
 
predict_string:
 //todo:trythiswithaciddefault-itseemmakingtableacidinlisteneristoolate 

line_no || similarity 

205 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/TestTxnNoBuckets.java 

under_code:
runStatementOnDriver("create table myctas2 stored as ORC TBLPROPERTIES ('transactional" +
 

ーーーーーーーーSearch the target string594ーーーーーーーーーーーーーーー
 
search_string:
 /**Contextclassforoperatortreewalkerforpartitionpruner.*TODO:thisclassmaybenotuseful.*/
 
sub_line:
 *TODO:thisclassmaybenotuseful. 

frontremoved_sub_line:
 O:thisclassmaybenotuseful. 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 publicclassOpWalkerCtximplementsNodeProcessorCtx{ 

frontremoved_sub_line:
 icclassOpWalkerCtximplementsNodeProcessorCtx{ 

predict_string:
 *Contextclassforoperatortreewalkerforpartitionpruner. 

line_no || similarity 

28 || 0.7571428571428571 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/OpWalkerCtx.java 

under_code:
public class OpWalkerCtx implements NodeProcessorCtx {
 

ーーーーーーーーSearch the target string595ーーーーーーーーーーーーーーー
 
search_string:
 //Thriftcannotwriteread-onlybuffers...ohwell.TODO:actuallythriftneverwritestothebuffer,sowecouldusereflectiontounsettheunnecessaryread-onlyflagifallocation/copyperfbecomesaproblem.
 
sub_line:
 //TODO:actuallythriftneverwritestothebuffer,sowecouldusereflectionto 

frontremoved_sub_line:
 DO:actuallythriftneverwritestothebuffer,sowecouldusereflectionto 

sub_line:
 //unsettheunnecessaryread-onlyflagifallocation/copyperfbecomesaproblem. 

frontremoved_sub_line:
 settheunnecessaryread-onlyflagifallocation/copyperfbecomesaproblem. 

sub_line:
 ByteBuffercopy=ByteBuffer.allocate(bb.capacity()); 

frontremoved_sub_line:
 Buffercopy=ByteBuffer.allocate(bb.capacity()); 

predict_string:
 //Thriftcannotwriteread-onlybuffers...ohwell. 

line_no || similarity 

7621 || 0.4 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 

under_code:
ByteBuffer copy = ByteBuffer.allocate(bb.capacity());
 

ーーーーーーーーSearch the target string596ーーーーーーーーーーーーーーー
 
search_string:
 //TODOshouldbereplacedbyCliServiceClient
 
predict_string:
 //TODOshouldbereplacedbyCliServiceClient 

line_no || similarity 

134 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/jdbc/src/java/org/apache/hive/jdbc/HiveConnection.java 

under_code:
private TCLIService.Iface client;
 

ーーーーーーーーSearch the target string597ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@link#Builder(HCatTable,boolean)}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@link#Builder(HCatTable,boolean)}.ToberemovedinHive0.16. 

line_no || similarity 

243 || 0.935672514619883 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
private Builder(String dbName, String tableName, List<HCatFieldSchema> columns) {
 

ーーーーーーーーSearch the target string598ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ChangeExprNodeConvertertobeindependentofPartitionExpr
 
predict_string:
 //TODO:ChangeExprNodeConvertertobeindependentofPartitionExpr 

line_no || similarity 

928 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/HiveCalciteUtil.java 

under_code:
ExprNodeConverter exprConv = new ExprNodeConverter(inputTabAlias, inputRel.getRowType(),
 

ーーーーーーーーSearch the target string599ーーーーーーーーーーーーーーー
 
search_string:
 //WearenotgoingtoverifySDforeachpartition.Justverifyforthetable.ToDo:weneedverifythepartitioncolumninstead
 
sub_line:
 //ToDo:weneedverifythepartitioncolumninstead 

frontremoved_sub_line:
 Do:weneedverifythepartitioncolumninstead 

sub_line:
 try{ 

frontremoved_sub_line:
  

sub_line:
 validateTableCols(table,colNames); 

frontremoved_sub_line:
 dateTableCols(table,colNames); 

predict_string:
 //WearenotgoingtoverifySDforeachpartition.Justverifyforthetable. 

line_no || similarity 

8583 || 0.7529411764705882 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ObjectStore.java 

under_code:
validateTableCols(table, colNames);
 

ーーーーーーーーSearch the target string600ーーーーーーーーーーーーーーー
 
search_string:
 //todo:ConditionalTask#addDependentTask(Task)doesn'tdotherightthing:HIVE-18978
 
predict_string:
 //todo:ConditionalTask#addDependentTask(Task)doesn'tdotherightthing:HIVE-18978 

line_no || similarity 

309 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/UpdateDeleteSemanticAnalyzer.java 

under_code:
t.addDependentTask(alterTable);
 

ーーーーーーーーSearch the target string601ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Cancolumnsretainvirtualnessoutofunion
 
predict_string:
 //TODO:Cancolumnsretainvirtualnessoutofunion 

line_no || similarity 

608 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/HiveOpConverter.java 

under_code:
// 3. Return result
 

ーーーーーーーーSearch the target string602ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whydoweinventourownerrorpathoptopoftheonefromFuture.get?
 
predict_string:
 //TODO:whydoweinventourownerrorpathoptopoftheonefromFuture.get? 

line_no || similarity 

318 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/service/src/java/org/apache/hive/service/cli/operation/SQLOperation.java 

under_code:
setOperationException(e);
 

ーーーーーーーーSearch the target string603ーーーーーーーーーーーーーーー
 
search_string:
 //TODOisthereamorecorrectwaytogettheliteralvaluefortheObject?
 
predict_string:
 //TODOisthereamorecorrectwaytogettheliteralvaluefortheObject? 

line_no || similarity 

360 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/accumulo-handler/src/java/org/apache/hadoop/hive/accumulo/predicate/AccumuloRangeGenerator.java 

under_code:
return new Text(objInspector.getWritableConstantValue().toString());
 

ーーーーーーーーSearch the target string604ーーーーーーーーーーーーーーー
 
search_string:
 /**todo:Thisneedreviewre:threadsafety.Variousplaces(seecallsersof*{@linkSessionState#setCurrentSessionState(SessionState)})passSessionStatetoforkedthreads.*Currentlyitlookslikethosethreadsonlyreadmetadatabutthisisfragile.*Also,maps(inSessionState)wheretempttablemetadataisstoredareconcurrentandso*anyput/getcrossesamemorybarrierandsodoesusingmost{@codejava.util.concurrent.*}*sothereadersoftheobjectsinthesemapsshouldhavethemostrecentviewoftheobject.*Butagain,couldbefragile.*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string605ーーーーーーーーーーーーーーー
 
search_string:
 //argumentsthenwecanuseamoreefficientform.
 
predict_string:
 //argumentsthenwecanuseamoreefficientform. 

line_no || similarity 

164 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/rules/HiveExpandDistinctAggregatesRule.java 

under_code:
final RelMetadataQuery mq = call.getMetadataQuery();
 

ーーーーーーーーSearch the target string606ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Somethingispreventingtheprocessfromterminatingaftermain(),addingexit()ashackysolution.
 
predict_string:
 //TODO:Somethingispreventingtheprocessfromterminatingaftermain(),addingexit()ashackysolution. 

line_no || similarity 

139 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/util/HiveStrictManagedMigration.java 

under_code:
System.exit(rc);
 

ーーーーーーーーSearch the target string607ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:writeerrortothechannel?there'snomechanismforthatnow.
 
predict_string:
 //TODO:writeerrortothechannel?there'snomechanismforthatnow. 

line_no || similarity 

228 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/llap/LlapOutputFormatService.java 

under_code:
ctx.close();
 

ーーーーーーーーSearch the target string608ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:reusecolumnvector-sonhasBatch-savethearraybycolumn?takeaparteachlist.
 
predict_string:
 //TODO:reusecolumnvector-sonhasBatch-savethearraybycolumn?takeaparteachlist. 

line_no || similarity 

1695 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/SerDeEncodedDataReader.java 

under_code:
ColumnStreamData[] datas = ecb.getColumnData(colIx);
 

ーーーーーーーーSearch the target string609ーーーーーーーーーーーーーーー
 
search_string:
 //todo:holdontothispredicate,sothatwedon'taddittotheFilterOperator.
 
predict_string:
 //todo:holdontothispredicate,sothatwedon'taddittotheFilterOperator. 

line_no || similarity 

3167 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 

under_code:
break;
 

ーーーーーーーーSearch the target string610ーーーーーーーーーーーーーーー
 
search_string:
 //TODOIdeally,removeelementsfromthisonceit'sknownthatnotasksarelinkedtotheinstance(alldeallocated)
 
predict_string:
 //TODOIdeally,removeelementsfromthisonceit'sknownthatnotasksarelinkedtotheinstance(alldeallocated) 

line_no || similarity 

170 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskSchedulerService.java 

under_code:
// Tracks tasks which could not be allocated immediately.
 

ーーーーーーーーSearch the target string611ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:canweblindlycopysorttrait?Whatifinputschangedandwearenowsortingbydifferentcols
 
sub_line:
 //arenowsortingbydifferentcols 

frontremoved_sub_line:
 enowsortingbydifferentcols 

sub_line:
 RelCollationcanonizedCollation=traitSet.canonize(newCollation); 

frontremoved_sub_line:
 ollationcanonizedCollation=traitSet.canonize(newCollation); 

predict_string:
 //TODO:canweblindlycopysorttrait?Whatifinputschangedandwe 

line_no || similarity 

75 || 0.8028169014084507 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/reloperators/HiveSortLimit.java 

under_code:
RelCollation canonizedCollation = traitSet.canonize(newCollation);
 

ーーーーーーーーSearch the target string612ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Thisworksdifferentinremoteandembeddedmode.Inembeddedmode,noexceptionhappens.
 
sub_line:
 //Inembeddedmode,noexceptionhappens. 

frontremoved_sub_line:
 embeddedmode,noexceptionhappens. 

sub_line:
 } 

frontremoved_sub_line:
  

sub_line:
 } 

frontremoved_sub_line:
  

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 @Test 

frontremoved_sub_line:
 t 

sub_line:
 publicvoidtestAddPartitionEmptyValue()throwsException{ 

frontremoved_sub_line:
 icvoidtestAddPartitionEmptyValue()throwsException{ 

predict_string:
 //TODO:Thisworksdifferentinremoteandembeddedmode. 

line_no || similarity 

575 || 0.7424242424242424 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/client/TestAddPartitions.java 

under_code:
public void testAddPartitionEmptyValue() throws Exception {
 

ーーーーーーーーSearch the target string613ーーーーーーーーーーーーーーー
 
search_string:
 //UNDONE:Needtocopytheobject.
 
predict_string:
 //UNDONE:Needtocopytheobject. 

line_no || similarity 

454 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/exec/vector/expressions/TestVectorCastStatement.java 

under_code:
resultObjects[rowIndex++] = scrqtchRow[0];
 

ーーーーーーーーSearch the target string614ーーーーーーーーーーーーーーー
 
search_string:
 //didremovethoseandgaveCBOtheproperAST.Thatiskindahacky.
 
predict_string:
 //didremovethoseandgaveCBOtheproperAST.Thatiskindahacky. 

line_no || similarity 

418 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/CalcitePlanner.java 

under_code:
ASTNode queryForCbo = ast;
 

ーーーーーーーーSearch the target string615ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:considerotheroperatorinfoaswell..notjustconf?
 
predict_string:
 //FIXME:considerotheroperatorinfoaswell..notjustconf? 

line_no || similarity 

52 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/signature/OpSignature.java 

under_code:
SignatureUtils.write(sigMap, op.getConf());
 

ーーーーーーーーSearch the target string616ーーーーーーーーーーーーーーー
 
search_string:
 //check#ofdpTODO:addanoptiontoskipthisifnumberofpartitionschecksisdonebyTriggersviaCREATED_DYNAMIC_PARTITIONcounter
 
sub_line:
 //TODO:addanoptiontoskipthisifnumberofpartitionschecksisdonebyTriggersvia 

frontremoved_sub_line:
 DO:addanoptiontoskipthisifnumberofpartitionschecksisdonebyTriggersvia 

sub_line:
 //CREATED_DYNAMIC_PARTITIONcounter 

frontremoved_sub_line:
 EATED_DYNAMIC_PARTITIONcounter 

sub_line:
 if(valToPaths.size()>maxPartitions){ 

frontremoved_sub_line:
 alToPaths.size()>maxPartitions){ 

predict_string:
 //check#ofdp 

line_no || similarity 

1182 || 0.1889763779527559 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java 

under_code:
if (valToPaths.size() > maxPartitions) {
 

ーーーーーーーーSearch the target string617ーーーーーーーーーーーーーーー
 
search_string:
 /*vertexisstarted,butnotcomplete*/
 
predict_string:
 /*vertexisstarted,butnotcomplete*/ 

line_no || similarity 

109 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/monitoring/RenderStrategy.java 

under_code:
if (failed > 0) {
 

ーーーーーーーーSearch the target string618ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:needthedescriptionofhowthesemapsarekeptconsistent.
 
predict_string:
 //TODO:needthedescriptionofhowthesemapsarekeptconsistent. 

line_no || similarity 

881 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskCommunicator.java 

under_code:
@VisibleForTesting
 

ーーーーーーーーSearch the target string619ーーーーーーーーーーーーーーー
 
search_string:
 //UNDONE:Needtocopytheobject?
 
predict_string:
 //UNDONE:Needtocopytheobject? 

line_no || similarity 

401 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/exec/vector/expressions/TestVectorDateDiff.java 

under_code:
resultObjects[rowIndex++] = scrqtchRow[0];
 

ーーーーーーーーSearch the target string620ーーーーーーーーーーーーーーー
 
search_string:
 //TODOfilter->exprTODOfunctionCacheTODOconstraintCacheTODOneedsdnestedcopy?TODOStringinternTODOmonitoreventqueueTODOinitialloadslow?TODOsizeestimation
 
sub_line:
 //TODOfunctionCache 

frontremoved_sub_line:
 DOfunctionCache 

sub_line:
 //TODOconstraintCache 

frontremoved_sub_line:
 DOconstraintCache 

sub_line:
 //TODOneedsdnestedcopy? 

frontremoved_sub_line:
 DOneedsdnestedcopy? 

sub_line:
 //TODOStringintern 

frontremoved_sub_line:
 DOStringintern 

sub_line:
 //TODOmonitoreventqueue 

frontremoved_sub_line:
 DOmonitoreventqueue 

sub_line:
 //TODOinitialloadslow? 

frontremoved_sub_line:
 DOinitialloadslow? 

sub_line:
 //TODOsizeestimation 

frontremoved_sub_line:
 DOsizeestimation 

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 publicclassCachedStoreimplementsRawStore,Configurable{ 

frontremoved_sub_line:
 icclassCachedStoreimplementsRawStore,Configurable{ 

predict_string:
 //TODOfilter->expr 

line_no || similarity 

131 || 0.21428571428571427 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/cache/CachedStore.java 

under_code:
public class CachedStore implements RawStore, Configurable {
 

ーーーーーーーーSearch the target string621ーーーーーーーーーーーーーーー
 
search_string:
 //TODOnot100%sureaboutthis.Thiscalldoesn'tsetthecompressiontypeintheconffilethewaygetHiveRecordWriterdoes,asORCappearstoreadthevalueforitself.Notsureifthisiscorrectornot.
 
sub_line:
 //filethewaygetHiveRecordWriterdoes,asORCappearstoreadthevalueforitself.Not 

frontremoved_sub_line:
 lethewaygetHiveRecordWriterdoes,asORCappearstoreadthevalueforitself.Not 

sub_line:
 //sureifthisiscorrectornot. 

frontremoved_sub_line:
 reifthisiscorrectornot. 

sub_line:
 returngetRecordUpdater(jc,acidOutputFormat, 

frontremoved_sub_line:
 rngetRecordUpdater(jc,acidOutputFormat, 

predict_string:
 //TODOnot100%sureaboutthis.Thiscalldoesn'tsetthecompressiontypeintheconf 

line_no || similarity 

333 || 0.5950413223140496 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/HiveFileFormatUtils.java 

under_code:
return getRecordUpdater(jc, acidOutputFormat,
 

ーーーーーーーーSearch the target string622ーーーーーーーーーーーーーーー
 
search_string:
 /**TODO:Refactor**Thereisanupcomingpatchthatrefactorsthisbitofcode.Currently,theideaisthefollowing:**Bydefault,ReplCopyWorkwillbehavesimilarlytoCopyWork,andsimplycopy*alongdatafromthesourcetodestination.*IftheflagreadSrcAsFilesListisset,changesthesourcebehaviourofthisCopyTask,and*insteadofcopyingexplicitfiles,thiswillthenfallbacktoabehaviourwhereinan_filesis*readfromthesource,andthefilesspecifiedbythe_filesarethencopiedtothedestination.**Thisallowsusalazy-copy-on-sourceandapull-fromdestinationsemanticthatwewant*tousefromreplication.*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string623ーーーーーーーーーーーーーーー
 
search_string:
 /*Ascratchvariableiscreatedhere.Thiscouldbeoptimizedinthefuture*byperhapsusingthread-localstoragetoallocatethisscratchfield.*/
 
sub_line:
 *byperhapsusingthread-localstoragetoallocatethisscratchfield. 

frontremoved_sub_line:
 erhapsusingthread-localstoragetoallocatethisscratchfield. 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 UnsignedInt128scratch=newUnsignedInt128(); 

frontremoved_sub_line:
 gnedInt128scratch=newUnsignedInt128(); 

predict_string:
 /*Ascratchvariableiscreatedhere.Thiscouldbeoptimizedinthefuture 

line_no || similarity 

1907 || 0.6666666666666666 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/common/src/java/org/apache/hadoop/hive/common/type/Decimal128.java 

under_code:
UnsignedInt128 scratch = new UnsignedInt128();
 

ーーーーーーーーSearch the target string624ーーーーーーーーーーーーーーー
 
search_string:
 //IdeallythereshouldbeabetterwaytodeterminethatthefollowingWorkcontainsadynamicpartitionedhashjoin,butinsomecases(createReduceWork())itlooksliketheworkmustbecreated/connectedfirst,beforetheGenTezProcContextcanbeupdatedwiththemapjoin/workrelationship.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string625ーーーーーーーーーーーーーーー
 
search_string:
 //Futurethought:thismaybeexpensivesoconsiderhavingathreadpoolruninparallel
 
predict_string:
 //Futurethought:thismaybeexpensivesoconsiderhavingathreadpoolruninparallel 

line_no || similarity 

168 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/txn/compactor/Cleaner.java 

under_code:
clean(compactId2CompactInfoMap.get(queueEntry.getKey()));
 

ーーーーーーーーSearch the target string626ーーーーーーーーーーーーーーー
 
search_string:
 /**NumberofrowsprocessedbetweenchecksforminReductionHashAggrfactor*TODO:thereisoverlapbetweennumRowsCompareHashAggrandcheckInterval*/
 
sub_line:
 *TODO:thereisoverlapbetweennumRowsCompareHashAggrandcheckInterval 

frontremoved_sub_line:
 O:thereisoverlapbetweennumRowsCompareHashAggrandcheckInterval 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 privatelongnumRowsCompareHashAggr; 

frontremoved_sub_line:
 atelongnumRowsCompareHashAggr; 

predict_string:
 *NumberofrowsprocessedbetweenchecksforminReductionHashAggrfactor 

line_no || similarity 

347 || 0.649746192893401 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorGroupByOperator.java 

under_code:
private long numRowsCompareHashAggr;
 

ーーーーーーーーSearch the target string627ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:LlapNodeIdisjustahost+portpair;wecouldmakethisclassmoregeneric.
 
predict_string:
 //TODO:LlapNodeIdisjustahost+portpair;wecouldmakethisclassmoregeneric. 

line_no || similarity 

41 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-common/src/java/org/apache/hadoop/hive/llap/AsyncPbRpcProxy.java 

under_code:
import org.apache.hadoop.io.retry.RetryPolicies;
 

ーーーーーーーーSearch the target string628ーーーーーーーーーーーーーーー
 
search_string:
 //Note:weassumeherethatplanhasbeenvalidatedbeforehand,sowedon'tverify
 
predict_string:
 //Note:weassumeherethatplanhasbeenvalidatedbeforehand,sowedon'tverify 

line_no || similarity 

979 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/WorkloadManager.java 

under_code:
//       that fractions or query parallelism add up, etc.
 

ーーーーーーーーSearch the target string629ーーーーーーーーーーーーーーー
 
search_string:
 //Implementinfuture,ifneeded.
 
predict_string:
 thrownewUnsupportedOperationException();//Implementinfuture,ifneeded. 

line_no || similarity 

152 || 0.5918367346938775 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/storage-api/src/java/org/apache/hadoop/hive/ql/exec/vector/MultiValuedColumnVector.java 

under_code:
}
 

ーーーーーーーーSearch the target string630ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:movethisintoctor?EWwouldneedtocreateCacheWriterthen
 
predict_string:
 //TODO:movethisintoctor?EWwouldneedtocreateCacheWriterthen 

line_no || similarity 

1417 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/SerDeEncodedDataReader.java 

under_code:
List<Integer> cwColIds = writer.isOnlyWritingIncludedColumns() ? splitColumnIds : columnIds;
 

ーーーーーーーーSearch the target string631ーーーーーーーーーーーーーーー
 
search_string:
 //AfterSPARK-2321,weonlyuseJobMetricsListenertogetjobmetricsTODO:removeitwhenthenewAPIprovidesequivalentfunctionality
 
sub_line:
 //TODO:removeitwhenthenewAPIprovidesequivalentfunctionality 

frontremoved_sub_line:
 DO:removeitwhenthenewAPIprovidesequivalentfunctionality 

sub_line:
 privateJobMetricsListenerjobMetricsListener; 

frontremoved_sub_line:
 ateJobMetricsListenerjobMetricsListener; 

predict_string:
 //AfterSPARK-2321,weonlyuseJobMetricsListenertogetjobmetrics 

line_no || similarity 

51 || 0.6779661016949152 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/spark/status/impl/LocalSparkJobStatus.java 

under_code:
private JobMetricsListener jobMetricsListener;
 

ーーーーーーーーSearch the target string632ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:couldwedothisonlyiftheOFisactuallyused?
 
predict_string:
 //TODO:couldwedothisonlyiftheOFisactuallyused? 

line_no || similarity 

111 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/MapRecordProcessor.java 

under_code:
String attemptId = Converters.createTaskAttemptId(context).toString();
 

ーーーーーーーーSearch the target string633ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:wemayaddappname,etc.later
 
predict_string:
 //TODO:wemayaddappname,etc.later 

line_no || similarity 

60 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/UserPoolMapping.java 

under_code:
public MappingInput(String userName, List<String> groups, String wmPool, String appName) {
 

ーーーーーーーーSearch the target string634ーーーーーーーーーーーーーーー
 
search_string:
 //TODOnofkacrosscatalogs
 
predict_string:
 //TODOnofkacrosscatalogs 

line_no || similarity 

464 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/client/TestPrimaryKey.java 

under_code:
}
 

ーーーーーーーーSearch the target string635ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Thisdoesnotworkbecausematerializedviewsneedthecreationmetadatatobeupdatedincasetablesusedwerereplicatedtoadifferentdatabase.run("CREATEMATERIALIZEDVIEW"+dbName+".mat_viewASSELECTaFROM"+dbName+".ptnedwhereb=1",driver);verifySetup("SELECTafrom"+dbName+".mat_view",ptn_data_1,driver);
 
under_code:
too long.
 

ーーーーーーーーSearch the target string636ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:ossseemstocontainduplicates
 
predict_string:
 //FIXME:ossseemstocontainduplicates 

line_no || similarity 

120 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/plan/mapping/TestReOptimization.java 

under_code:
if (fos.size() > 0 && oss.size() > 0) {
 

ーーーーーーーーSearch the target string637ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:dangerofstackoverflow...needsaretrylimit?
 
predict_string:
 callback.setDone(ctx,false);//TODO:dangerofstackoverflow...needsaretrylimit? 

line_no || similarity 

318 || 0.7741935483870968 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskCommunicator.java 

under_code:
return;
 

ーーーーーーーーSearch the target string638ーーーーーーーーーーーーーーー
 
search_string:
 //Cannotdropdb1becausemv1usesoneofitstablesTODO:Errormessagecomingfrommetastoreiscurrentlynotveryconcise(foreignkeyviolation),weshouldmakeiteasilyunderstandable
 
sub_line:
 //TODO:Errormessagecomingfrommetastoreiscurrentlynotveryconcise 

frontremoved_sub_line:
 DO:Errormessagecomingfrommetastoreiscurrentlynotveryconcise 

sub_line:
 //(foreignkeyviolation),weshouldmakeiteasilyunderstandable 

frontremoved_sub_line:
 oreignkeyviolation),weshouldmakeiteasilyunderstandable 

sub_line:
 client.dropDatabase(dbName1,true,true,true); 

frontremoved_sub_line:
 nt.dropDatabase(dbName1,true,true,true); 

predict_string:
 //Cannotdropdb1becausemv1usesoneofitstables 

line_no || similarity 

2871 || 0.4236453201970443 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java 

under_code:
client.dropDatabase(dbName1, true, true, true);
 

ーーーーーーーーSearch the target string639ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ideally,QueryTrackershouldhavefragment-to-querymapping.
 
predict_string:
 //TODO:ideally,QueryTrackershouldhavefragment-to-querymapping. 

line_no || similarity 

424 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/daemon/impl/ContainerRunnerImpl.java 

under_code:
QueryIdentifier queryId = executorService.findQueryByFragment(fragmentId);
 

ーーーーーーーーSearch the target string640ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:WTF?Theoldcodeseemstojustdroptheballhere.
 
predict_string:
 //TODO:WTF?Theoldcodeseemstojustdroptheballhere. 

line_no || similarity 

358 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/api/impl/LlapRecordReader.java 

under_code:
throw new AssertionError("Unsupported mode");
 

ーーーーーーーーSearch the target string641ーーーーーーーーーーーーーーー
 
search_string:
 //Hacktoinitializecachewith0expirytimecausingittoreturnanewhiveclienteverytimeOtherwisethecachedoesn'tplaywellwiththesecondtestmethodwiththeclientgetsclosed()inthetearDown()oftheprevioustest
 
sub_line:
 //Otherwisethecachedoesn'tplaywellwiththesecondtestmethodwiththeclientgetsclosed()inthe 

frontremoved_sub_line:
 herwisethecachedoesn'tplaywellwiththesecondtestmethodwiththeclientgetsclosed()inthe 

sub_line:
 //tearDown()oftheprevioustest 

frontremoved_sub_line:
 arDown()oftheprevioustest 

sub_line:
 HCatUtil.getHiveMetastoreClient(hiveConf); 

frontremoved_sub_line:
 Util.getHiveMetastoreClient(hiveConf); 

predict_string:
 //Hacktoinitializecachewith0expirytimecausingittoreturnanewhiveclienteverytime 

line_no || similarity 

146 || 0.582089552238806 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/core/src/test/java/org/apache/hive/hcatalog/mapreduce/HCatMapReduceTest.java 

under_code:
HCatUtil.getHiveMetastoreClient(hiveConf);
 

ーーーーーーーーSearch the target string642ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatPartition.#getLocation()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatPartition.#getLocation()}.ToberemovedinHive0.16. 

line_no || similarity 

71 || 0.9364161849710982 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatAddPartitionDesc.java 

under_code:
public String getLocation() {
 

ーーーーーーーーSearch the target string643ーーーーーーーーーーーーーーー
 
search_string:
 //TODOHIVE-12449.MakeuseofprogressnotificationsonceHivestartssendingthemout.progressNotified=task.getAndClearProgressNotification();
 
sub_line:
 //progressNotified=task.getAndClearProgressNotification(); 

frontremoved_sub_line:
 ogressNotified=task.getAndClearProgressNotification(); 

sub_line:
 if(sendCounters){ 

frontremoved_sub_line:
 endCounters){ 

predict_string:
 //TODOHIVE-12449.MakeuseofprogressnotificationsonceHivestartssendingthemout. 

line_no || similarity 

409 || 0.7307692307692307 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/daemon/impl/LlapTaskReporter.java 

under_code:
if (sendCounters) {
 

ーーーーーーーーSearch the target string644ーーーーーーーーーーーーーーー
 
search_string:
 //TODOEvil!Needtofigureoutawaytoremovethissleep.
 
predict_string:
 Thread.sleep(500);//TODOEvil!Needtofigureoutawaytoremovethissleep. 

line_no || similarity 

148 || 0.8421052631578947 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestMetaStoreMetrics.java 

under_code:
Assert.assertEquals(initialCount + 1,
 

ーーーーーーーーSearch the target string645ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:alltheextrapolationlogicshouldbemovedoutofthisclass,
 
predict_string:
 //TODO:alltheextrapolationlogicshouldbemovedoutofthisclass, 

line_no || similarity 

1589 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/MetaStoreDirectSql.java 

under_code:
// only mechanical data retrieval should remain here.
 

ーーーーーーーーSearch the target string646ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:thisaddseemssuspicious...10linesbelowthevaluereturnedbythismethodusedasbetterDS
 
predict_string:
 //FIXME:thisaddseemssuspicious...10linesbelowthevaluereturnedbythismethodusedasbetterDS 

line_no || similarity 

487 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/stats/StatsUtils.java 

under_code:
stats.addToDataSize(getDataSizeFromColumnStats(nr, columnStats));
 

ーーーーーーーーSearch the target string647ーーーーーーーーーーーーーーー
 
search_string:
 //thisisahackfornowtohandlethegroupbycase
 
predict_string:
 //thisisahackfornowtohandlethegroupbycase 

line_no || similarity 

1456 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 

under_code:
if (children.contains(null)) {
 

ーーーーーーーーSearch the target string648ーーーーーーーーーーーーーーー
 
search_string:
 //Allotherdistinctkeyswilljustbeforwarded.Thiscouldbeoptimized...
 
predict_string:
 //Allotherdistinctkeyswilljustbeforwarded.Thiscouldbeoptimized... 

line_no || similarity 

376 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/ReduceSinkOperator.java 

under_code:
for (int i = 1; i < numDistinctExprs; i++) {
 

ーーーーーーーーSearch the target string649ーーーーーーーーーーーーーーー
 
search_string:
 //ThisisaworkaroundforDERBY-6358andOraclebug;itisprettyhorrible.
 
predict_string:
 //ThisisaworkaroundforDERBY-6358andOraclebug;itisprettyhorrible. 

line_no || similarity 

1321 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/MetaStoreDirectSql.java 

under_code:
tableValue += (" and " + TBLS + ".\"TBL_NAME\" = ? and " + DBS + ".\"NAME\" = ? and "
 

ーーーーーーーーSearch the target string650ーーーーーーーーーーーーーーー
 
search_string:
 //@TODOThisisfetchingalltherowsatoncefrombrokerormultiplehistoricalnodesMovetousescanquerytoavoidGCbackpressureonthenodes
 
sub_line:
 //MovetousescanquerytoavoidGCbackpressureonthenodes 

frontremoved_sub_line:
 vetousescanquerytoavoidGCbackpressureonthenodes 

sub_line:
 //https://issues.apache.org/jira/browse/HIVE-17627 

frontremoved_sub_line:
 tps://issues.apache.org/jira/browse/HIVE-17627 

predict_string:
 //@TODOThisisfetchingalltherowsatoncefrombrokerormultiplehistoricalnodes 

line_no || similarity 

193 || 0.7461139896373057 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/druid-handler/src/java/org/apache/hadoop/hive/druid/io/DruidQueryBasedInputFormat.java 

under_code:
// https://issues.apache.org/jira/browse/HIVE-17627
 

ーーーーーーーーSearch the target string651ーーーーーーーーーーーーーーー
 
search_string:
 //todo:strictlyspeakingthereisabughere.heartbeat*()commitsbutbothheartbeatandcheckLock()areinthesameretryblock,soifcheckLock()throws,heartbeatisalsoretired
 
sub_line:
 //checkLock()areinthesameretryblock,soifcheckLock()throws,heartbeatisalsoretired 

frontremoved_sub_line:
 eckLock()areinthesameretryblock,soifcheckLock()throws,heartbeatisalsoretired 

sub_line:
 //extraheartbeatislogicallyharmless,but... 

frontremoved_sub_line:
 traheartbeatislogicallyharmless,but... 

predict_string:
 //todo:strictlyspeakingthereisabughere.heartbeat*()commitsbutbothheartbeatand 

line_no || similarity 

2146 || 0.6637931034482759 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java 

under_code:
//extra heartbeat is logically harmless, but ...
 

ーーーーーーーーSearch the target string652ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#partCols(List<FieldSchema>)}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#partCols(List<FieldSchema>)}.ToberemovedinHive0.16. 

line_no || similarity 

272 || 0.9430051813471503 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public Builder partCols(List<HCatFieldSchema> partCols) {
 

ーーーーーーーーSearch the target string653ーーーーーーーーーーーーーーー
 
search_string:
 //Wow,something'sreallywrong.
 
predict_string:
 //Wow,something'sreallywrong. 

line_no || similarity 

157 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/svr/src/main/java/org/apache/hive/hcatalog/templeton/tool/ZooKeeperStorage.java 

under_code:
throw new IOException("Couldn't write to node " + id, nfe);
 

ーーーーーーーーSearch the target string654ーーーーーーーーーーーーーーー
 
search_string:
 //UNDONE:Doesthisrandomrangeneedtogoashighas38?
 
predict_string:
 //UNDONE:Doesthisrandomrangeneedtogoashighas38? 

line_no || similarity 

2559 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/storage-api/src/test/org/apache/hadoop/hive/common/type/TestHiveDecimal.java 

under_code:
int formatScale = 0 + r.nextInt(38);
 

ーーーーーーーーSearch the target string655ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Java1.7+supportusingStringwithswitches,butIDEsdon'tallseemtoknowthat.Ifcasingisfinefornow.Butweshouldeventuallyremovethis.Also,Ididn'twanttocreateanotherenumjustforthis.
 
sub_line:
 //Ifcasingisfinefornow.Butweshouldeventuallyremovethis.Also,Ididn'twantto 

frontremoved_sub_line:
 casingisfinefornow.Butweshouldeventuallyremovethis.Also,Ididn'twantto 

sub_line:
 //createanotherenumjustforthis. 

frontremoved_sub_line:
 eateanotherenumjustforthis. 

sub_line:
 StringeventType=event.getEventType(); 

frontremoved_sub_line:
 ngeventType=event.getEventType(); 

predict_string:
 //TODO:Java1.7+supportusingStringwithswitches,butIDEsdon'tallseemtoknowthat. 

line_no || similarity 

42 || 0.6031746031746031 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/test/java/org/apache/hive/hcatalog/api/repl/TestReplicationTask.java 

under_code:
String eventType = event.getEventType();
 

ーーーーーーーーSearch the target string656ーーーーーーーーーーーーーーー
 
search_string:
 //Wehavefoundaninvaliddecimalvaluewhileenforcingprecisionandscale.Ideally,wewouldreplaceitwithnullhere,whichiswhatHivedoes.However,weneedtoplumbthisthruupsomehow,becauseotherwisehavingdifferentexpressiontypeinASTcausestheplangenerationtofailafterCBO,probablyduetosomeresidualstateinSA/QB.Fornow,wewillnotrunCBOinthepresenceofinvaliddecimal
 
under_code:
too long.
 

ーーーーーーーーSearch the target string657ーーーーーーーーーーーーーーー
 
search_string:
 //CodeinitiallyinspiredbyGoogleObjectExplorer.TODO:rollinthedirect-onlyestimatorsfromfields.Variousotheroptimizationspossible.
 
sub_line:
 //TODO:rollinthedirect-onlyestimatorsfromfields.Variousotheroptimizationspossible. 

frontremoved_sub_line:
 DO:rollinthedirect-onlyestimatorsfromfields.Variousotheroptimizationspossible. 

sub_line:
 Deque<Object>stack=createWorkStack(rootObj,byType); 

frontremoved_sub_line:
 e<Object>stack=createWorkStack(rootObj,byType); 

predict_string:
 //CodeinitiallyinspiredbyGoogleObjectExplorer. 

line_no || similarity 

64 || 0.5348837209302325 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/storage-api/src/java/org/apache/hadoop/hive/ql/util/IncrementalObjectSizeEstimator.java 

under_code:
Deque<Object> stack = createWorkStack(rootObj, byType);
 

ーーーーーーーーSearch the target string658ーーーーーーーーーーーーーーー
 
search_string:
 //Dirtyhackasthiswillthrowawayspacesandotherthings-findabetter
 
predict_string:
 //Dirtyhackasthiswillthrowawayspacesandotherthings-findabetter 

line_no || similarity 

776 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java 

under_code:
// way!
 

ーーーーーーーーSearch the target string659ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:shouldlocalcachealsobebyfileId?Preservetheoriginallogicfornow.
 
predict_string:
 //TODO:shouldlocalcachealsobebyfileId?Preservetheoriginallogicfornow. 

line_no || similarity 

94 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/LocalCache.java 

under_code:
assert result.length == files.size();
 

ーーーーーーーーSearch the target string660ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:doweneedtogettochild?
 
predict_string:
 //TODO:doweneedtogettochild? 

line_no || similarity 

4116 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/CalcitePlanner.java 

under_code:
int wndSpecASTIndx = getWindowSpecIndx(windowProjAst);
 

ーーーーーーーーSearch the target string661ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:refactorwithcacheimpl?ithasthesamemergelogic
 
predict_string:
 //TODO:refactorwithcacheimpl?ithasthesamemergelogic 

line_no || similarity 

1200 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/SerDeEncodedDataReader.java 

under_code:
if (cacheEncodings == null) {
 

ーーーーーーーーSearch the target string662ーーーーーーーーーーーーーーー
 
search_string:
 /**Dirtyhacktosettheenvironmentvariablesusingreflectioncode.Thismethodisfortesting*purposesonlyandshouldnotbeusedelsewhere*/
 
sub_line:
 *purposesonlyandshouldnotbeusedelsewhere 

frontremoved_sub_line:
 posesonlyandshouldnotbeusedelsewhere 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 privatefinalstaticvoidsetEnv(Map<String,String>newenv)throwsException{ 

frontremoved_sub_line:
 atefinalstaticvoidsetEnv(Map<String,String>newenv)throwsException{ 

predict_string:
 *Dirtyhacktosettheenvironmentvariablesusingreflectioncode.Thismethodisfortesting 

line_no || similarity 

118 || 0.7843137254901961 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/processors/TestSetProcessor.java 

under_code:
private final static void setEnv(Map<String, String> newenv) throws Exception {
 

ーーーーーーーーSearch the target string663ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:DecorelationofsubqueryshouldbedonebeforeattemptingPartitionPruning;otherwiseExpressionevaluationmaytrytoexecutecorelatedsubquery.
 
sub_line:
 //PartitionPruning;otherwiseExpressionevaluationmaytrytoexecute 

frontremoved_sub_line:
 rtitionPruning;otherwiseExpressionevaluationmaytrytoexecute 

sub_line:
 //corelatedsubquery. 

frontremoved_sub_line:
 relatedsubquery. 

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 PerfLoggerperfLogger=SessionState.getPerfLogger(); 

frontremoved_sub_line:
 LoggerperfLogger=SessionState.getPerfLogger(); 

predict_string:
 //TODO:Decorelationofsubqueryshouldbedonebeforeattempting 

line_no || similarity 

1912 || 0.5906735751295337 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/CalcitePlanner.java 

under_code:
PerfLogger perfLogger = SessionState.getPerfLogger();
 

ーーーーーーーーSearch the target string664ーーーーーーーーーーーーーーー
 
search_string:
 /**TODO:1)isSamplingPred2)sampleDesc3)isSortedFilter*/
 
sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 OpAttrvisit(HiveFilterfilterRel)throwsSemanticException{ 

frontremoved_sub_line:
 trvisit(HiveFilterfilterRel)throwsSemanticException{ 

predict_string:
 *TODO:1)isSamplingPred2)sampleDesc3)isSortedFilter 

line_no || similarity 

533 || 0.9615384615384616 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/HiveOpConverter.java 

under_code:
OpAttr visit(HiveFilter filterRel) throws SemanticException {
 

ーーーーーーーーSearch the target string665ーーーーーーーーーーーーーーー
 
search_string:
 //@TODOitwillbenicetorefactorit
 
predict_string:
 //@TODOitwillbenicetorefactorit 

line_no || similarity 

361 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveMaterializedViewsRegistry.java 

under_code:
RelDataTypeFactory dtFactory = cluster.getRexBuilder().getTypeFactory();
 

ーーーーーーーーSearch the target string666ーーーーーーーーーーーーーーー
 
search_string:
 //todo:thisshouldnotthrowtodo:thisshouldtake"comment"asparametertosetinCC_META_INFOtoprovidesomecontextforthefailure
 
under_code:
None
 

ーーーーーーーーSearch the target string667ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:replacethiswithaMap?
 
predict_string:
 //TODO:replacethiswithaMap? 

line_no || similarity 

46 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/service/src/java/org/apache/hive/service/cli/OperationType.java 

under_code:
for (OperationType opType : values()) {
 

ーーーーーーーーSearch the target string668ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:removesomeofthesefieldsasneeded?
 
predict_string:
 //TODO:removesomeofthesefieldsasneeded? 

line_no || similarity 

34 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/cache/LlapCacheableBuffer.java 

under_code:
/** Linked list pointers for LRFU/LRU cache policies. Given that each block is in cache
 

ーーーーーーーーSearch the target string669ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisisnotvalid.Functionnamesforbuilt-inUDFsarespecifiedinFunctionRegistry,andonlyhappentomatchannotations.ForuserUDFs,thenameiswhatuserspecifiesatcreationtime(annotationcanbeabsent,
 
sub_line:
 //FunctionRegistry,andonlyhappentomatchannotations.ForuserUDFs,the 

frontremoved_sub_line:
 nctionRegistry,andonlyhappentomatchannotations.ForuserUDFs,the 

sub_line:
 //nameiswhatuserspecifiesatcreationtime(annotationcanbeabsent, 

frontremoved_sub_line:
 meiswhatuserspecifiesatcreationtime(annotationcanbeabsent, 

sub_line:
 //different,orduplicatesomeotherfunction). 

frontremoved_sub_line:
 fferent,orduplicatesomeotherfunction). 

predict_string:
 //TODO:thisisnotvalid.Functionnamesforbuilt-inUDFsarespecifiedin 

line_no || similarity 

306 || 0.5079365079365079 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/SqlFunctionConverter.java 

under_code:
// different, or duplicate some other function).
 

ーーーーーーーーSearch the target string670ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:verifythatthisiscorrect
 
predict_string:
 //TODO:verifythatthisiscorrect 

line_no || similarity 

381 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/jdbc/src/java/org/apache/hive/jdbc/HiveDatabaseMetaData.java 

under_code:
return "";
 

ーーーーーーーーSearch the target string671ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:wecouldtrytogetthedeclaringobjectandinferargument...stupidJava.
 
predict_string:
 //TODO:wecouldtrytogetthedeclaringobjectandinferargument...stupidJava. 

line_no || similarity 

257 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/storage-api/src/java/org/apache/hadoop/hive/ql/util/IncrementalObjectSizeEstimator.java 

under_code:
LOG.trace("Cannot determine map type: {}", field);
 

ーーーーーーーーSearch the target string672ーーーーーーーーーーーーーーー
 
search_string:
 //close&destroyisusedinseqcouplingmostofthetime-thedifferenceiseithernotclear;ornotrelevant-remove?
 
predict_string:
 //close&destroyisusedinseqcouplingmostofthetime-thedifferenceiseithernotclear;ornotrelevant-remove? 

line_no || similarity 

67 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/IDriver.java 

under_code:
@Override
 

ーーーーーーーーSearch the target string673ーーーーーーーーーーーーーーー
 
search_string:
 //todo:thisdoesn;tcheckifcompactionisalreadyrunning(eventhoughInitiatordoesbutwe
 
predict_string:
 //todo:thisdoesn;tcheckifcompactionisalreadyrunning(eventhoughInitiatordoesbutwe 

line_no || similarity 

77 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/txn/compactor/Worker.java 

under_code:
// don't go  through Initiator for user initiated compactions)
 

ーーーーーーーーSearch the target string674ーーーーーーーーーーーーーーー
 
search_string:
 //Thisisalittlebitweird.We'lldotheMScalloutsideofthelock.Ourcallercallsusunderlock,sowe'dpreservethelockstateforthem;theirfinallyblockwillreleasethe
 
sub_line:
 //underlock,sowe'dpreservethelockstateforthem;theirfinallyblockwillreleasethe 

frontremoved_sub_line:
 derlock,sowe'dpreservethelockstateforthem;theirfinallyblockwillreleasethe 

sub_line:
 //lockcorrectly.Seethecommentonthelockfield-thelockingneedstobereworked. 

frontremoved_sub_line:
 ckcorrectly.Seethecommentonthelockfield-thelockingneedstobereworked. 

predict_string:
 //Thisisalittlebitweird.We'lldotheMScalloutsideofthelock.Ourcallercallsus 

line_no || similarity 

643 || 0.6606334841628959 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/Registry.java 

under_code:
// lock correctly. See the comment on the lock field - the locking needs to be reworked.
 

ーーーーーーーーSearch the target string675ーーーーーーーーーーーーーーー
 
search_string:
 //todo:wereallyneedsomecommentstoexplainexactlywhyeachoftheseisremoved
 
predict_string:
 //todo:wereallyneedsomecommentstoexplainexactlywhyeachoftheseisremoved 

line_no || similarity 

163 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/svr/src/main/java/org/apache/hive/hcatalog/templeton/tool/LaunchMapper.java 

under_code:
removeEnv.add("HADOOP_ROOT_LOGGER");
 

ーーーーーーーーSearch the target string676ーーーーーーーーーーーーーーー
 
search_string:
 //###FIXME:thisisbrokenformulti-lineSQL
 
predict_string:
 //###FIXME:thisisbrokenformulti-lineSQL 

line_no || similarity 

1705 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/beeline/src/java/org/apache/hive/beeline/Commands.java 

under_code:
success = sql(line.substring("all ".length())) && success;
 

ーーーーーーーーSearch the target string677ーーーーーーーーーーーーーーー
 
search_string:
 //Notimplemented
 
predict_string:
 //Notimplemented. 

line_no || similarity 

225 || 0.9696969696969697 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/common/src/java/org/apache/hadoop/hive/common/metrics/LegacyMetrics.java 

under_code:
}
 

ーーーーーーーーSearch the target string678ーーーーーーーーーーーーーーー
 
search_string:
 //Sliceboundariesmaynotmatchsplitboundariesduetotornrowsineitherdirection,sothiscountermaynotbeconsistentwithsplits.Thisisalsowhyweincrementrequestedbyteshere,insteadofbasedonthesplit-wedon'twantthemetricstobeinconsistentwitheachother.Nomatterwhatwedeterminehere,atleastwe'llaccountforbothinthesamemanner.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string679ーーーーーーーーーーーーーーー
 
search_string:
 //Thisiskindahacky-we"know"theseareLlaSerDeDataBuffer-s.
 
predict_string:
 //Thisiskindahacky-we"know"theseareLlaSerDeDataBuffer-s. 

line_no || similarity 

1161 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/SerDeEncodedDataReader.java 

under_code:
newCacheDataForCol[streamIx] = stream.data.toArray(new LlapSerDeDataBuffer[stream.data.size()]);
 

ーーーーーーーーSearch the target string680ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:perhapscanbemademoreefficientbycreatingabyte[]directly
 
predict_string:
 //TODO:perhapscanbemademoreefficientbycreatingabyte[]directly 

line_no || similarity 

237 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/streaming/src/java/org/apache/hive/hcatalog/streaming/DelimitedInputWriter.java 

under_code:
private static byte[] join(String[] items, char separator) {
 

ーーーーーーーーSearch the target string681ーーーーーーーーーーーーーーー
 
search_string:
 //thisisnotstrictlyaccurate,but'type'cannotbenull.
 
predict_string:
 //thisisnotstrictlyaccurate,but'type'cannotbenull. 

line_no || similarity 

1037 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/CompactionTxnHandler.java 

under_code:
if(ci.type == null) { ci.type = CompactionType.MINOR; }
 

ーーーーーーーーSearch the target string682ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:fornoncolumnarwedon'tneedtodothis...mightaswellupdateallstats.
 
predict_string:
 //TODO:fornoncolumnarwedon'tneedtodothis...mightaswellupdateallstats. 

line_no || similarity 

343 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/stats/StatsUpdaterThread.java 

under_code:
if (isAllParts) {
 

ーーーーーーーーSearch the target string683ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisshouldideallynotcreateAddPartitionDescperpartition
 
predict_string:
 //TODO:thisshouldideallynotcreateAddPartitionDescperpartition 

line_no || similarity 

276 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/ImportSemanticAnalyzer.java 

under_code:
AddPartitionDesc partsDesc = getBaseAddPartitionDescFromPartition(fromPath, dbname, tblDesc, partition);
 

ーーーーーーーーSearch the target string684ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:shouldwealsowhitelistinputformatshere?frommapred.input.format.class
 
predict_string:
 //TODO:shouldwealsowhitelistinputformatshere?frommapred.input.format.class 

line_no || similarity 

391 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDTFGetSplits.java 

under_code:
Path scratchDir = utils.createTezDir(ctx.getMRScratchDir(), job);
 

ーーーーーーーーSearch the target string685ーーーーーーーーーーーーーーー
 
search_string:
 //Notpublicsincewemusthavethedeserializereadobject.
 
predict_string:
 //Notpublicsincewemusthavethedeserializereadobject. 

line_no || similarity 

105 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorDeserializeRow.java 

under_code:
private VectorDeserializeRow() {
 

ーーーーーーーーSearch the target string686ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:checking2childrenisuseless,comparealreadydoesthat.
 
predict_string:
 //TODO:checking2childrenisuseless,comparealreadydoesthat. 

line_no || similarity 

266 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/RexNodeConverter.java 

under_code:
} else if (isCompare && (func.getChildren().size() == 2)) {
 

ーーーーーーーーSearch the target string687ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whydoestheoriginalcodenotjustuse_dataStreamthatitpassesinasstream?
 
predict_string:
 //TODO:whydoestheoriginalcodenotjustuse_dataStreamthatitpassesinasstream? 

line_no || similarity 

279 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/encoded/EncodedTreeReaderFactory.java 

under_code:
InStream stream = ((StringDirectTreeReader) reader).getStream();
 

ーーーーーーーーSearch the target string688ーーーーーーーーーーーーーーー
 
search_string:
 //ThisisabogushackbecauseitcopiesthecontentsoftheSQLfileintendedforcreatingderbydatabases,andthuswillinexorablygetoutofdatewithit.I'mopentoanysuggestionsonhowtomakethisreadthefileinabuildfriendlyway.
 
sub_line:
 //intendedforcreatingderbydatabases,andthuswillinexorablyget 

frontremoved_sub_line:
 tendedforcreatingderbydatabases,andthuswillinexorablyget 

sub_line:
 //outofdatewithit.I'mopentoanysuggestionsonhowtomakethis 

frontremoved_sub_line:
 tofdatewithit.I'mopentoanysuggestionsonhowtomakethis 

sub_line:
 //readthefileinabuildfriendlyway. 

frontremoved_sub_line:
 adthefileinabuildfriendlyway. 

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 Connectionconn=null; 

frontremoved_sub_line:
 ectionconn=null; 

predict_string:
 //ThisisabogushackbecauseitcopiesthecontentsoftheSQLfile 

line_no || similarity 

66 || 0.4392156862745098 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnDbUtil.java 

under_code:
Connection conn = null;
 

ーーーーーーーーSearch the target string689ーーーーーーーーーーーーーーー
 
search_string:
 //Thisif/elsechainlooksuglyintheinnerloop,butgiventhatitwillbe100%thesameforagivenoperatorbranchpredictionshouldworkquitenicelyonit.RecordUpdateerexpectstogettheactualrow,notaserializedversionofit.Thuswe
 
under_code:
too long.
 

ーーーーーーーーSearch the target string690ーーーーーーーーーーーーーーー
 
search_string:
 //TODOthishastofindabetterhome,it'salsohardcodedasdefaultinhivewouldbenice
 
predict_string:
 //TODOthishastofindabetterhome,it'salsohardcodedasdefaultinhivewouldbenice 

line_no || similarity 

143 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/core/src/main/java/org/apache/hive/hcatalog/mapreduce/InternalUtil.java 

under_code:
// if the default was decided by the serde
 

ーーーーーーーーSearch the target string691ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#sortCols(ArrayList<Order>)}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#sortCols(ArrayList<Order>)}.ToberemovedinHive0.16. 

line_no || similarity 

346 || 0.9424083769633508 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public Builder sortCols(ArrayList<Order> sortCols) {
 

ーーーーーーーーSearch the target string692ーーーーーーーーーーーーーーー
 
search_string:
 //TODO?addupstream?
 
predict_string:
 //TODO?addupstream? 

line_no || similarity 

754 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/shufflehandler/ShuffleHandler.java 

under_code:
sendError(ctx, FORBIDDEN);
 

ーーーーーーーーSearch the target string693ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Shouldhaveacheckontheserverside.EmbeddedmetastorethrowsNullPointerException,remotethrowsMetaException
 
sub_line:
 //NullPointerException,remotethrowsTTransportException 

frontremoved_sub_line:
 llPointerException,remotethrowsTTransportException 

predict_string:
 //TODO:Shouldhaveacheckontheserverside.Embeddedmetastorethrows 

line_no || similarity 

218 || 0.7294117647058823 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/client/TestFunctions.java 

under_code:
// NullPointerException, remote throws TTransportException
 

ーーーーーーーーSearch the target string694ーーーーーーーーーーーーーーー
 
search_string:
 //loadthelistofDPpartitionsandreturnthelistofpartitionspecsTODO:Inafollow-uptoHIVE-1361,weshouldrefactorloadDynamicPartitionstouseUtilities.getFullDPSpecs()togetthelistoffullpartSpecs.AfterthatcheckthenumberofDPscreatedtonotexceedthelimitanditerateoveritandcallloadPartition()here.Thereasonwedon'tdoinsideHIVE-1361isthelatterislargeandwe
 
under_code:
too long.
 

ーーーーーーーーSearch the target string695ーーーーーーーーーーーーーーー
 
search_string:
 //Thereare3optionsforthisConditionalTask:1)Mergethepartitions2)Movethepartitions(i.e.don'tmergethepartitions)3)Mergesomepartitionsandmoveotherpartitions(i.e.mergesomepartitionsanddon'tmergeothers)inthiscasethemergeisdonefirstfollowedbythemovetopreventconflicts.TODO:ifwearenotdealingwithconcatenateDDL,weshouldnotcreateamerge+movepath
 
under_code:
too long.
 

ーーーーーーーーSearch the target string696ーーーーーーーーーーーーーーー
 
search_string:
 /**TODO:thiswouldbemoreflexibledoingaSQLselectstatementratherthanusingInputFormatdirectly*see{@linkorg.apache.hive.hcatalog.streaming.TestStreaming#checkDataWritten2(Path,long,long,int,String,String...)}*@paramnumSplitsExpected*@return*@throwsException*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string697ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#getDbName()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#getDbName()}.ToberemovedinHive0.16. 

line_no || similarity 

219 || 0.9316770186335404 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public String getDatabaseName() {
 

ーーーーーーーーSearch the target string698ーーーーーーーーーーーーーーー
 
search_string:
 //TODOHIVE-16134.DifferentiatebetweenEXTERNAL_PREEMPTION_WAITQUEUvsEXTERNAL_PREEMPTION_FINISHABLE?
 
predict_string:
 //TODOHIVE-16134.DifferentiatebetweenEXTERNAL_PREEMPTION_WAITQUEUvsEXTERNAL_PREEMPTION_FINISHABLE? 

line_no || similarity 

1212 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskSchedulerService.java 

under_code:
if (endReason != null && EnumSet
 

ーーーーーーーーSearch the target string699ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:pointless
 
predict_string:
 //TODO:pointless 

line_no || similarity 

228 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/serde/src/test/org/apache/hadoop/hive/serde2/io/TestDateWritableV2.java 

under_code:
threadPool.submit(new DateTestCallable(bad, timeZone)).get();
 

ーーーーーーーーSearch the target string700ーーーーーーーーーーーーーーー
 
search_string:
 //Thisiskindofnotpretty,butthisishowwedetectwhetherbufferwascached.Wewouldalwayssetthisforlookupsatputtime.
 
sub_line:
 //Wewouldalwayssetthisforlookupsatputtime. 

frontremoved_sub_line:
 wouldalwayssetthisforlookupsatputtime. 

sub_line:
 if(buffer.declaredCachedLength!=LlapDataBuffer.UNKNOWN_CACHED_LENGTH){ 

frontremoved_sub_line:
 uffer.declaredCachedLength!=LlapDataBuffer.UNKNOWN_CACHED_LENGTH){ 

predict_string:
 //Thisiskindofnotpretty,butthisishowwedetectwhetherbufferwascached. 

line_no || similarity 

377 || 0.7701149425287356 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/cache/LowLevelCacheImpl.java 

under_code:
if (buffer.declaredCachedLength != LlapDataBuffer.UNKNOWN_CACHED_LENGTH) {
 

ーーーーーーーーSearch the target string701ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:movethesetestparameterstomorespecificplaces...there'snoneedtohavethemhere
 
predict_string:
 //TODO:movethesetestparameterstomorespecificplaces...there'snoneedtohavethemhere 

line_no || similarity 

49 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/MetaStoreThread.java 

under_code:
void init(AtomicBoolean stop, AtomicBoolean looped) throws MetaException;
 

ーーーーーーーーSearch the target string702ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:fschecksumonlyavailableonhdfs,needtofindasolutionforotherfs(eg,localfs,s3,etc)
 
sub_line:
 //findasolutionforotherfs(eg,localfs,s3,etc) 

frontremoved_sub_line:
 ndasolutionforotherfs(eg,localfs,s3,etc) 

sub_line:
 StringchecksumString=null; 

frontremoved_sub_line:
 ngchecksumString=null; 

predict_string:
 //TODO:fschecksumonlyavailableonhdfs,needto 

line_no || similarity 

274 || 0.671875 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ReplChangeManager.java 

under_code:
String checksumString = null;
 

ーーーーーーーーSearch the target string703ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:possiblealternative:movebothOpSignature/OpTreeSignatureintoundersomeclassasnestedones;andthatwaythisfactorylevelcachingcanbemade"transparent"
 
sub_line:
 //undersomeclassasnestedones;andthatwaythisfactorylevelcachingcanbemade"transparent" 

frontremoved_sub_line:
 dersomeclassasnestedones;andthatwaythisfactorylevelcachingcanbemade"transparent" 

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 classDirectimplementsOpTreeSignatureFactory{ 

frontremoved_sub_line:
 sDirectimplementsOpTreeSignatureFactory{ 

predict_string:
 //FIXME:possiblealternative:movebothOpSignature/OpTreeSignatureinto 

line_no || similarity 

44 || 0.6203703703703703 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/signature/OpTreeSignatureFactory.java 

under_code:
class Direct implements OpTreeSignatureFactory {
 

ーーーーーーーーSearch the target string704ーーーーーーーーーーーーーーー
 
search_string:
 //Neither"expired"nor"olderThan"criteriaselected.Thisbetternotbeanattempttodeletetokens.
 
predict_string:
 //Neither"expired"nor"olderThan"criteriaselected.Thisbetternotbeanattempttodeletetokens. 

line_no || similarity 

148 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/security/DelegationTokenTool.java 

under_code:
if (opType == OpType.DELETE) {
 

ーーーーーーーーSearch the target string705ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:Hadoop3madetheincompatiblechangefordfs.client.datanode-restart.timeoutwhilespark2isstillusingHadoop2.SparkrequiresHivetosupportHadoop3firstthenSparkcanstartworkingonHadoop3support.RemovethisafterSparksupportsHadoop3.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string706ーーーーーーーーーーーーーーー
 
search_string:
 /**VariablesusedbyLLAPdaemons.*TODO:Eventuallyauto-populatethisbasedonprefixes.Theconfvariables*willneedtoberenamedforthis.*/
 
sub_line:
 *TODO:Eventuallyauto-populatethisbasedonprefixes.Theconfvariables 

frontremoved_sub_line:
 O:Eventuallyauto-populatethisbasedonprefixes.Theconfvariables 

sub_line:
 *willneedtoberenamedforthis. 

frontremoved_sub_line:
 lneedtoberenamedforthis. 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 privatestaticfinalSet<String>llapDaemonVarsSet; 

frontremoved_sub_line:
 atestaticfinalSet<String>llapDaemonVarsSet; 

predict_string:
 *VariablesusedbyLLAPdaemons. 

line_no || similarity 

340 || 0.3660130718954248 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 

under_code:
private static final Set<String> llapDaemonVarsSet;
 

ーーーーーーーーSearch the target string707ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:setFileMetadatacouldjustcreateschema.Calledintwoplaces;cleanuplater.
 
predict_string:
 //TODO:setFileMetadatacouldjustcreateschema.Calledintwoplaces;cleanuplater. 

line_no || similarity 

232 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/OrcEncodedDataReader.java 

under_code:
this.evolution = sef.createSchemaEvolution(fileMetadata.getSchema());
 

ーーーーーーーーSearch the target string708ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#comment()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#comment()}.ToberemovedinHive0.16. 

line_no || similarity 

147 || 0.9299363057324841 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public String getComments() {
 

ーーーーーーーーSearch the target string709ーーーーーーーーーーーーーーー
 
search_string:
 //thisisworkaroundforhadoop-17-libjarsarenotaddedtoclasspathofthe
 
predict_string:
 //thisisworkaroundforhadoop-17-libjarsarenotaddedtoclasspathofthe 

line_no || similarity 

749 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/mr/ExecDriver.java 

under_code:
// child process. so we add it here explicitly
 

ーーーーーーーーSearch the target string710ーーーーーーーーーーーーーーー
 
search_string:
 /*todo:weneedsomesortofvalidationphaseoveroriginalASTtomakethingsuserfriendly;forexample,iforiginalcommandreferstoacolumnthatdoesn'texist,thiswillbecaughtwhenprocessingtherewrittenquerybuttheerrorswillpointatlocationsthattheusercan'tmaptoanything-VALUESclausemusthavethesamenumberofvaluesastargettable(includingpartitioncols).PartcolsgolastinSelectclauseofInsertasSelecttodo:dowecaretopreservecommentsinoriginalSQL?todo:checkifidentifiersarepropertlyescaped/quotedinthegeneratedSQL-it'scurrentlyinconsistentLookatUnparseTranslator.addIdentifierTranslation()-itdoesunescape+unparse...todo:consider"WHENNOTMATCHEDBYSOURCETHENUPDATESETTargetTable.Col1=SourceTable.Col1";whathappenswhensourceisempty?Thisshouldbearuntimeerror-maybenottheoutersideofROJisempty=>thejoinproduces0rows.IfsupportingWHENNOTMATCHEDBYSOURCE,thenthisshouldbearuntimeerror*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string711ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:wtf?Thisdoesn'tdoanything.
 
sub_line:
 HashPartitionhashPartition=newHashPartition(1024,(float)0.75,524288,1,true,null); 

frontremoved_sub_line:
 PartitionhashPartition=newHashPartition(1024,(float)0.75,524288,1,true,null); 

predict_string:
 //TODO:wtf? 

line_no || similarity 

27 || 0.5 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/exec/persistence/TestHashPartition.java 

under_code:
HashPartition hashPartition = new HashPartition(1024, (float) 0.75, 524288, 1, true, null);
 

ーーーーーーーーSearch the target string712ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whyisthisneeded?
 
predict_string:
 //TODO:whyisthisneeded? 

line_no || similarity 

1304 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/util/src/main/java/org/apache/hadoop/hive/ql/QTestUtil.java 

under_code:
File qf = new File(outDir, fileName);
 

ーーーーーーーーSearch the target string713ーーーーーーーーーーーーーーー
 
search_string:
 /**NOTE:thiswholelogicisreplicatedfromCalcite'sRelDecorrelator*andisextenededtomakeitsuitableforHIVE*WeshouldgetridofthisandreplaceitwithCalcite'sRelDecorrelator*oncethatworkswithJoin,ProjectetcinsteadofJoin,Project.*AtthispointthishasdifferedfromCalcite'sversionsignificantlysocannot*getridofthis.**RelDecorrelatorreplacesallcorrelatedexpressions(corExp)inarelational*expression(RelNode)treewithnon-correlatedexpressionsthatareproduced*fromjoiningtheRelNodethatproducesthecorExpwiththeRelNodethat*referencesit.**<p>TODO:</p>*<ul>*<li>replace{@codeCorelMap}constructorparameterwithaRelNode*<li>make{@link#currentRel}immutable(wouldrequireafresh*RelDecorrelatorforeachnodebeingdecorrelated)</li>*<li>makefieldsof{@codeCorelMap}immutable</li>*<li>makesub-classrulesstatic,andhavethemcreatetheirown*de-correlator</li>*</ul>*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string714ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#serdeParam(Map<String,String>)}.ToberemovedinHive0.16.
 
under_code:
None
 

ーーーーーーーーSearch the target string715ーーーーーーーーーーーーーーー
 
search_string:
 //CONCERN:Leakingscratchcolumn?
 
predict_string:
 //CONCERN:Leakingscratchcolumn? 

line_no || similarity 

1822 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorizationContext.java 

under_code:
VectorExpression[] child = new VectorExpression[1];
 

ーーーーーーーーSearch the target string716ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisisanuglyhack;seethesameinLlapTaskCommunicatorfordiscussion.
 
predict_string:
 //TODO:thisisanuglyhack;seethesameinLlapTaskCommunicatorfordiscussion. 

line_no || similarity 

157 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskSchedulerService.java 

under_code:
//       This only lives for the duration of the service init.
 

ーーーーーーーーSearch the target string717ーーーーーーーーーーーーーーー
 
search_string:
 //DerbyandOracledonotinterpretfiltersANSI-properlyinsomecasesandneedaworkaround.
 
predict_string:
 //DerbyandOracledonotinterpretfiltersANSI-properlyinsomecasesandneedaworkaround. 

line_no || similarity 

494 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/MetaStoreDirectSql.java 

under_code:
boolean dbHasJoinCastBug = DatabaseProduct.hasJoinOperationOrderBug(dbType);
 

ーーーーーーーーSearch the target string718ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:currentlynottestingthefollowingscenarios:a)Multi-dbwh-levelREPLLOAD-needtoaddthatb)Insertintotables-quiteafewcasesneedtobeenumeratedthere,includingdynadds.
 
sub_line:
 //a)Multi-dbwh-levelREPLLOAD-needtoaddthat 

frontremoved_sub_line:
 Multi-dbwh-levelREPLLOAD-needtoaddthat 

sub_line:
 //b)Insertintotables-quiteafewcasesneedtobeenumeratedthere,includingdynadds. 

frontremoved_sub_line:
 Insertintotables-quiteafewcasesneedtobeenumeratedthere,includingdynadds. 

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 } 

frontremoved_sub_line:
  

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 @Test 

frontremoved_sub_line:
 t 

sub_line:
 publicvoidtestConstraints()throwsIOException{ 

frontremoved_sub_line:
 icvoidtestConstraints()throwsIOException{ 

predict_string:
 //TODO:currentlynottestingthefollowingscenarios: 

line_no || similarity 

2695 || 0.45714285714285713 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenarios.java 

under_code:
public void testConstraints() throws IOException {
 

ーーーーーーーーSearch the target string719ーーーーーーーーーーーーーーー
 
search_string:
 /**TODO:1.PPDneedstogetpushedintoTS**@paramscanRel*@return*/
 
sub_line:
 * 

frontremoved_sub_line:
  

sub_line:
 *@paramscanRel 

frontremoved_sub_line:
 ramscanRel 

sub_line:
 *@return 

frontremoved_sub_line:
 turn 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 OpAttrvisit(HiveTableScanscanRel){ 

frontremoved_sub_line:
 trvisit(HiveTableScanscanRel){ 

predict_string:
 *TODO:1.PPDneedstogetpushedintoTS 

line_no || similarity 

197 || 0.7096774193548387 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/HiveOpConverter.java 

under_code:
OpAttr visit(HiveTableScan scanRel) {
 

ーーーーーーーーSearch the target string720ーーーーーーーーーーーーーーー
 
search_string:
 //2.ConvertNONACIDORCTBLtoACIDtable.//todo:removetrans_propafterHIVE-17089
 
predict_string:
 //2.ConvertNONACIDORCTBLtoACIDtable.//todo:removetrans_propafterHIVE-17089 

line_no || similarity 

324 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/TestTxnCommands2.java 

under_code:
runStatementOnDriver("alter table " + Table.NONACIDORCTBL + " SET TBLPROPERTIES ('transactional'='true', 'transactional_properties'='default')");
 

ーーーーーーーーSearch the target string721ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:possiblythedistinctionbetweentable/partitionisnotneed;howeveritwaslikethisbefore....willchangeitlater
 
predict_string:
 //FIXME:possiblythedistinctionbetweentable/partitionisnotneed;howeveritwaslikethisbefore....willchangeitlater 

line_no || similarity 

137 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/stats/Partish.java 

under_code:
public PPart(Table table, Partition partiton) {
 

ーーーーーーーーSearch the target string722ーーーーーーーーーーーーーーー
 
search_string:
 //don'ttakedirectoriesintoaccountforquickstatsTODO:wtf?
 
predict_string:
 //don'ttakedirectoriesintoaccountforquickstatsTODO:wtf? 

line_no || similarity 

724 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/utils/MetaStoreUtils.java 

under_code:
if (!status.isDir()) {
 

ーーーーーーーーSearch the target string723ーーーーーーーーーーーーーーー
 
search_string:
 /**Fixupthechildrenandparentsofanewvectorchild.**1)Addnewvectorchildtothevectorparent'schildrenlist.**2)Copyandfixuptheparentlistoftheoriginalchildinsteadofjustassuminga1:1*relationship.**a)WhenthechildisMapJoinOperator,itwillhaveanextraparentHashTableDummyOperator*fortheMapJoinOperator'ssmalltable.Itneedstobefixedup,too.*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string724ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Thecopyofdataisunnecessary,butthereisnowork-around
 
predict_string:
 //TODO:Thecopyofdataisunnecessary,butthereisnowork-around 

line_no || similarity 

234 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazySimpleSerDe.java 

under_code:
// since we cannot directly set the private byte[] field inside Text.
 

ーーーーーーーーSearch the target string725ーーーーーーーーーーーーーーー
 
search_string:
 /**Getthelistofpartitionsthatneedtoupdatestatistics.*TODO:weshouldreusethePartitionsgeneratedatcompiletime*sincegettingthelistofpartitionsisquiteexpensive.**@returnalistofpartitionsthatneedtoupdatestatistics.*@throwsHiveException*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string726ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ThistestshouldberemovedonceACIDtablesreplicationissupported.
 
predict_string:
 //TODO:ThistestshouldberemovedonceACIDtablesreplicationissupported. 

line_no || similarity 

2834 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenarios.java 

under_code:
@Test
 

ーーーーーーーーSearch the target string727ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thereisnoeasyandreliablewaytocomputethememoryusedbytheexecutorthreadsandon-heapcache.
 
predict_string:
 //TODO:thereisnoeasyandreliablewaytocomputethememoryusedbytheexecutorthreadsandon-heapcache. 

line_no || similarity 

899 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java 

under_code:
// Assuming the used memory is equally divided among all executors.
 

ーーーーーーーーSearch the target string728ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:normally,theresultisnotnecessary;mightmakesensetopassfalse
 
predict_string:
 //TODO:normally,theresultisnotnecessary;mightmakesensetopassfalse 

line_no || similarity 

2464 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java 

under_code:
for (org.apache.hadoop.hive.metastore.api.Partition outPart
 

ーーーーーーーーSearch the target string729ーーーーーーーーーーーーーーー
 
search_string:
 //Removenew-allocflagonfirstuse.Fullunlockafterthatwouldimplyforce-discardingthisbufferisacceptable.Thisiskindofanuglycompactbetweenthecacheandus.
 
sub_line:
 //thisbufferisacceptable.Thisiskindofanuglycompactbetweenthecacheandus. 

frontremoved_sub_line:
 isbufferisacceptable.Thisiskindofanuglycompactbetweenthecacheandus. 

sub_line:
 newValue=State.switchFlag(newValue,State.FLAG_NEW_ALLOC); 

frontremoved_sub_line:
 alue=State.switchFlag(newValue,State.FLAG_NEW_ALLOC); 

predict_string:
 //Removenew-allocflagonfirstuse.Fullunlockafterthatwouldimplyforce-discarding 

line_no || similarity 

98 || 0.6905829596412556 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/cache/LlapAllocatorBuffer.java 

under_code:
newValue = State.switchFlag(newValue, State.FLAG_NEW_ALLOC);
 

ーーーーーーーーSearch the target string730ーーーーーーーーーーーーーーー
 
search_string:
 //Onlyattempttodothis,ifcmdwassuccessful.FIXME:itwouldbeprobablybettertomovethistoanafter-execution
 
sub_line:
 //FIXME:itwouldbeprobablybettertomovethistoanafter-execution 

frontremoved_sub_line:
 XME:itwouldbeprobablybettertomovethistoanafter-execution 

sub_line:
 intrc=setFSPermsNGrp(ss,driver.getConf()); 

frontremoved_sub_line:
 c=setFSPermsNGrp(ss,driver.getConf()); 

predict_string:
 //Onlyattempttodothis,ifcmdwassuccessful. 

line_no || similarity 

54 || 0.5857142857142857 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/core/src/main/java/org/apache/hive/hcatalog/cli/HCatDriver.java 

under_code:
int rc = setFSPermsNGrp(ss, driver.getConf());
 

ーーーーーーーーSearch the target string731ーーーーーーーーーーーーーーー
 
search_string:
 //TODOCleanuppendingtasksetc,sothatthenextdagisnotaffected.
 
predict_string:
 //TODOCleanuppendingtasksetc,sothatthenextdagisnotaffected. 

line_no || similarity 

1031 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskSchedulerService.java 

under_code:
}
 

ーーーーーーーーSearch the target string732ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:doesthisincludepartitioncolumns?
 
predict_string:
 //TODO:doesthisincludepartitioncolumns? 

line_no || similarity 

98 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/BatchToRowReader.java 

under_code:
boolean[] included = new boolean[schema.size()];
 

ーーーーーーーーSearch the target string733ーーーーーーーーーーーーーーー
 
search_string:
 //workonBytesColumnVectoroutputcolumns???
 
predict_string:
 //workonBytesColumnVectoroutputcolumns??? 

line_no || similarity 

85 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/expressions/VectorCoalesce.java 

under_code:
outputColVector.init();
 

ーーーーーーーーSearch the target string734ーーーーーーーーーーーーーーー
 
search_string:
 //TwoReduceSinkOperatorsarecorrelatedmeansthattheyhavesamesortingcolumns(keycolumns),samepartitioningcolumns,samesortingorders,andnoconflictonthenumbersofreducers.TODO:weshouldrelaxthisconditionTODO:weneedtohandleaggregationfunctionswithdistinctkeyword.Inthiscase,distinctcolumnswillbeaddedtothekeycolumns.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string735ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:moveTestJsonSerDefromhcattoserde2
 
predict_string:
 //FIXME:moveTestJsonSerDefromhcattoserde2 

line_no || similarity 

87 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/serde/src/java/org/apache/hadoop/hive/serde2/JsonSerDe.java 

under_code:
public class JsonSerDe extends AbstractSerDe {
 

ーーーーーーーーSearch the target string736ーーーーーーーーーーーーーーー
 
search_string:
 //TODOConfirmthisissafe
 
predict_string:
 //TODOConfirmthisissafe 

line_no || similarity 

809 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/stats/annotation/StatsRulesProcFactory.java 

under_code:
tmpNoNulls = getMaxNulls(stats, ((ExprNodeFieldDesc) pred).getDesc());
 

ーーーーーーーーSearch the target string737ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:executeerrorslikethiscurrentlydon'treturngooderror
 
predict_string:
 //TODO:executeerrorslikethiscurrentlydon'treturngooderror 

line_no || similarity 

1046 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hive-unit/src/test/java/org/apache/hive/jdbc/cbo_rp_TestJdbcDriver2.java 

under_code:
// codes and messages. This should be fixed.
 

ーーーーーーーーSearch the target string738ーーーーーーーーーーーーーーー
 
search_string:
 //THISISNOTWORKINGworkaroundistosetitaspartofjavaopts-Duser.timezone="UTC"
 
predict_string:
 //THISISNOTWORKINGworkaroundistosetitaspartofjavaopts-Duser.timezone="UTC" 

line_no || similarity 

205 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/druid-handler/src/java/org/apache/hadoop/hive/druid/DruidStorageHandlerUtils.java 

under_code:
JSON_MAPPER.setTimeZone(TimeZone.getTimeZone("UTC"));
 

ーーーーーーーーSearch the target string739ーーーーーーーーーーーーーーー
 
search_string:
 //simplygetthenextdayandgobackhalfaday.Thisisnotidealbutseemstowork.
 
predict_string:
 //simplygetthenextdayandgobackhalfaday.Thisisnotidealbutseemstowork. 

line_no || similarity 

163 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/storage-api/src/java/org/apache/hadoop/hive/serde2/io/DateWritable.java 

under_code:
if (!doesTimeMatter) return daysToMillis(d + 1) - (MILLIS_PER_DAY >> 1);
 

ーーーーーーーーSearch the target string740ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:maybeweshouldthrowthisas-istoo.ThriftCLIServicecurrentlycatchesException,sothecombinationdetermineswhatwouldkilltheHS2executorthread.Fornow,let'sonlyallowOOMtopropagate.
 
sub_line:
 //sothecombinationdetermineswhatwouldkilltheHS2executorthread.Fornow, 

frontremoved_sub_line:
 thecombinationdetermineswhatwouldkilltheHS2executorthread.Fornow, 

sub_line:
 //let'sonlyallowOOMtopropagate. 

frontremoved_sub_line:
 t'sonlyallowOOMtopropagate. 

sub_line:
 } 

frontremoved_sub_line:
  

sub_line:
 thrownewRuntimeException(e.getCause()); 

frontremoved_sub_line:
 wnewRuntimeException(e.getCause()); 

predict_string:
 //TODO:maybeweshouldthrowthisas-istoo.ThriftCLIServicecurrentlycatchesException, 

line_no || similarity 

85 || 0.625 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/service/src/java/org/apache/hive/service/cli/session/HiveSessionProxy.java 

under_code:
throw new RuntimeException(e.getCause());
 

ーーーーーーーーSearch the target string741ーーーーーーーーーーーーーーー
 
search_string:
 //TODOMaybepossibletodofinergrainedlocks.
 
predict_string:
 //TODOMaybepossibletodofinergrainedlocks. 

line_no || similarity 

160 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/shufflehandler/DirWatcher.java 

under_code:
synchronized (watchesPerAttempt) {
 

ーーーーーーーーSearch the target string742ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thischeckissomewhatbogusasthemaxJvmMemory!=Xmxparameters(seeannotationinLlapServiceDriver)
 
predict_string:
 //TODO:thischeckissomewhatbogusasthemaxJvmMemory!=Xmxparameters(seeannotationinLlapServiceDriver) 

line_no || similarity 

212 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/daemon/impl/LlapDaemon.java 

under_code:
Preconditions.checkState(maxJvmMemory >= memRequired,
 

ーーーーーーーーSearch the target string743ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:CheckifmaximumsizecompatiblewithAbsoluteKeyOffset.maxSize.
 
predict_string:
 //TODO:CheckifmaximumsizecompatiblewithAbsoluteKeyOffset.maxSize. 

line_no || similarity 

165 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/mapjoin/fast/VectorMapJoinFastKeyStore.java 

under_code:
this.writeBuffers = writeBuffers;
 

ーーーーーーーーSearch the target string744ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#escapeChar()}.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#escapeChar()}. 

line_no || similarity 

386 || 0.907563025210084 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public Builder escapeChar(char escapeChar) {
 

ーーーーーーーーSearch the target string745ーーーーーーーーーーーーーーー
 
search_string:
 //Ifthesortedcolumnsisasupersetofbucketedcolumns,storethisfact.Itcanbelaterusedtooptimizesomegroup-byqueries.Notethat,theorderdoesnotmatteraslongasitinthefirst
 
sub_line:
 //Itcanbelaterusedto 

frontremoved_sub_line:
 canbelaterusedto 

sub_line:
 //optimizesomegroup-byqueries.Notethat,theorderdoesnotmatteras 

frontremoved_sub_line:
 timizesomegroup-byqueries.Notethat,theorderdoesnotmatteras 

sub_line:
 //longasitinthefirst 

frontremoved_sub_line:
 ngasitinthefirst 

sub_line:
 //'n'columnswhere'n'isthelengthofthebucketedcolumns. 

frontremoved_sub_line:
 'columnswhere'n'isthelengthofthebucketedcolumns. 

predict_string:
 //Ifthesortedcolumnsisasupersetofbucketedcolumns,storethisfact. 

line_no || similarity 

833 || 0.5675675675675675 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateTableDesc.java 

under_code:
// 'n' columns where 'n' is the length of the bucketed columns.
 

ーーーーーーーーSearch the target string746ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:replacewithhivecopyoncethatiscopied
 
predict_string:
 //FIXME:replacewithhivecopyoncethatiscopied 

line_no || similarity 

101 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenarios.java 

under_code:
private final static String tid =
 

ーーーーーーーーSearch the target string747ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:revisitthefence
 
predict_string:
 //TODO:revisitthefence 

line_no || similarity 

186 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/stats/HiveRelMdSelectivity.java 

under_code:
if (ndvToBeSmoothed > 3)
 

ーーーーーーーーSearch the target string748ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:1)Howtohandlecollisions?2)ShouldwebecloningColumnInfoornot?
 
predict_string:
 //TODO:1)Howtohandlecollisions?2)ShouldwebecloningColumnInfoornot? 

line_no || similarity 

353 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/RowResolver.java 

under_code:
private static boolean add(RowResolver rrToAddTo, RowResolver rrToAddFrom,
 

ーーーーーーーーSearch the target string749ーーーーーーーーーーーーーーー
 
search_string:
 //Optimizethescenariowhentherearenogroupingkeysandnodistinct-2map-reducejobsarenotneeded
 
sub_line:
 //map-reducejobsarenotneeded 

frontremoved_sub_line:
 p-reducejobsarenotneeded 

sub_line:
 //Foreg:selectcount(1)fromTwheret.ds=.... 

frontremoved_sub_line:
 reg:selectcount(1)fromTwheret.ds=.... 

predict_string:
 //Optimizethescenariowhentherearenogroupingkeysandnodistinct-2 

line_no || similarity 

6701 || 0.8266666666666667 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 

under_code:
// For eg: select count(1) from T where t.ds = ....
 

ーーーーーーーーSearch the target string750ーーーーーーーーーーーーーーー
 
search_string:
 //Joinkeyexpressionislikelysomeexpressioninvolvingfunctions/operators,sothereisnoactualtablecolumnforthis.ButtheReduceSinkoperatorshouldstillhaveanoutputcolumncorrespondingtothisexpression,usingthecolumnInternalName.TODO:doestableAliasmatterforthiskindofexpression?
 
under_code:
too long.
 

ーーーーーーーーSearch the target string751ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whydoesTezAPIuse"Object"forthis?
 
predict_string:
 //TODO:whydoesTezAPIuse"Object"forthis? 

line_no || similarity 

1115 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskSchedulerService.java 

under_code:
if (task instanceof TaskAttempt) {
 

ーーーーーーーーSearch the target string752ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thislogstatementlookswrong
 
predict_string:
 //TODO:thislogstatementlookswrong 

line_no || similarity 

339 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/txn/compactor/Initiator.java 

under_code:
LOG.debug("Found " + deltas.size() + " delta files, threshold is " + deltaNumThreshold +
 

ーーーーーーーーSearch the target string753ーーーーーーーーーーーーーーー
 
search_string:
 //Relyingonatasksucceedingtoresettheexponent.There'snonotificationsonwhetherataskgetsacceptedornot.Thatwouldbeidealtoresetthis.
 
sub_line:
 //There'snonotificationsonwhetherataskgetsacceptedornot.Thatwouldbeidealto 

frontremoved_sub_line:
 ere'snonotificationsonwhetherataskgetsacceptedornot.Thatwouldbeidealto 

sub_line:
 //resetthis. 

frontremoved_sub_line:
 setthis. 

sub_line:
 cumulativeBackoffFactor=cumulativeBackoffFactor*blacklistConf.backoffFactor; 

frontremoved_sub_line:
 lativeBackoffFactor=cumulativeBackoffFactor*blacklistConf.backoffFactor; 

predict_string:
 //Relyingonatasksucceedingtoresettheexponent. 

line_no || similarity 

2522 || 0.5232558139534884 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskSchedulerService.java 

under_code:
cumulativeBackoffFactor = cumulativeBackoffFactor * blacklistConf.backoffFactor;
 

ーーーーーーーーSearch the target string754ーーーーーーーーーーーーーーー
 
search_string:
 //WeneedtooverridethesemethodsduetodifferenceinnullabilitybetweenHiveandCalciteforthereturntypesoftheaggregation(inparticular,forCOUNTandSUM0).TODO:WeshouldclosethesemanticsgapsbetweenHiveandCalcitefornullabilityofaggregationcallsreturntypes.Thismightbeusefultotriggersomeadditionalrewritingrulesthatwouldremoveunnecessarypredicates,etc.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string755ーーーーーーーーーーーーーーー
 
search_string:
 //Canceljobifthemonitorfoundjobsubmissiontimeout.TODO:Ifthetimeoutisbecauseoflackofresourcesinthecluster,weshouldideallyalsocanceltheapprequesthere.Butw/ofacilitiesfromSparkorYARN,it'sdifficulttodoitonhivesidealone.SeeHIVE-12650.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string756ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Shouldbecheckedonserverside.OnEmbeddedmetastoreitthrowsNullPointerException,onRemotemetastoreitthrowsTTransportException
 
sub_line:
 //NullPointerException,onRemotemetastoreitthrowsTTransportException 

frontremoved_sub_line:
 llPointerException,onRemotemetastoreitthrowsTTransportException 

sub_line:
 Assert.fail("ExpectedaNullPointerExceptionorTTransportExceptiontobethrown"); 

frontremoved_sub_line:
 rt.fail("ExpectedaNullPointerExceptionorTTransportExceptiontobethrown"); 

predict_string:
 //TODO:Shouldbecheckedonserverside.OnEmbeddedmetastoreitthrows 

line_no || similarity 

957 || 0.656084656084656 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/client/TestTablesCreateDropAlterTruncate.java 

under_code:
Assert.fail("Expected a NullPointerException or TTransportException to be thrown");
 

ーーーーーーーーSearch the target string757ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:doweeverneedtheport?wecouldjustdoawaywithnodeIdaltogether.
 
predict_string:
 //TODO:doweeverneedtheport?wecouldjustdoawaywithnodeIdaltogether. 

line_no || similarity 

712 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskCommunicator.java 

under_code:
LlapNodeId nodeId = LlapNodeId.getInstance(hostname, port);
 

ーーーーーーーーSearch the target string758ーーーーーーーーーーーーーーー
 
search_string:
 /**Metastorerelatedoptionsthatthedbisinitializedagainst.Whenaconf*varinthisislistischanged,themetastoreinstancefortheCLIwill*berecreatedsothatthechangewilltakeeffect.*TODO-Isuspectthevastmajorityofthesedon'tneedtobehere.Butitrequirestesting*beforejustpullingthemout.*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string759ーーーーーーーーーーーーーーー
 
search_string:
 //Originalssplitwon'tworkduetoMAPREDUCE-7086issueinFileInputFormat.
 
predict_string:
 //Originalssplitwon'tworkduetoMAPREDUCE-7086issueinFileInputFormat. 

line_no || similarity 

999 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/txn/compactor/TestCompactor.java 

under_code:
boolean isBrokenUntilMapreduce7086 = "TEXTFILE".equals(format);
 

ーーーーーーーーSearch the target string760ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:VectorizedParquetRecordReaderdoesn'tsupportmap,arraynow,thevalueofColumnProjectionUtils.READ_COLUMN_IDS_CONF_STRshouldbeupdatedaftersupportthesedatatypes.
 
sub_line:
 //ColumnProjectionUtils.READ_COLUMN_IDS_CONF_STRshouldbeupdatedaftersupportthesedata 

frontremoved_sub_line:
 lumnProjectionUtils.READ_COLUMN_IDS_CONF_STRshouldbeupdatedaftersupportthesedata 

sub_line:
 //types. 

frontremoved_sub_line:
 pes. 

sub_line:
 conf.setBoolean(ColumnProjectionUtils.READ_ALL_COLUMNS,false); 

frontremoved_sub_line:
 .setBoolean(ColumnProjectionUtils.READ_ALL_COLUMNS,false); 

predict_string:
 //TODO:VectorizedParquetRecordReaderdoesn'tsupportmap,arraynow,thevalueof 

line_no || similarity 

331 || 0.6239316239316239 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hive-jmh/src/main/java/org/apache/hive/benchmark/storage/ColumnarStorageBench.java 

under_code:
conf.setBoolean(ColumnProjectionUtils.READ_ALL_COLUMNS, false);
 

ーーーーーーーーSearch the target string761ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:iftherearemorefieldsperhapsthereshouldbeanarrayofclass.
 
predict_string:
 //TODO:iftherearemorefieldsperhapsthereshouldbeanarrayofclass. 

line_no || similarity 

407 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/daemon/impl/AMReporter.java 

under_code:
TezAttemptArray aw = new TezAttemptArray();
 

ーーーーーーーーSearch the target string762ーーーーーーーーーーーーーーー
 
search_string:
 //Somecolumnsinselectarepruned.Thismayhappenifthoseareconstants.TODO:thebestsolutionistohooktheoperatorbeforefswiththeselectoperator.Seesmb_mapjoin_20.qformoredetails.
 
sub_line:
 //TODO:thebestsolutionistohooktheoperatorbeforefswiththeselectoperator. 

frontremoved_sub_line:
 DO:thebestsolutionistohooktheoperatorbeforefswiththeselectoperator. 

sub_line:
 //Seesmb_mapjoin_20.qformoredetails. 

frontremoved_sub_line:
 esmb_mapjoin_20.qformoredetails. 

sub_line:
 returnnull; 

frontremoved_sub_line:
 rnnull; 

predict_string:
 //Somecolumnsinselectarepruned.Thismayhappenifthoseareconstants. 

line_no || similarity 

623 || 0.5541125541125541 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketingSortingReduceSinkOptimizer.java 

under_code:
return null;
 

ーーーーーーーーSearch the target string763ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:getUserFromAuthenticator?
 
predict_string:
 //TODO:getUserFromAuthenticator? 

line_no || similarity 

48 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFLoggedInUser.java 

under_code:
String loggedInUserName = SessionState.get().getUserName();
 

ーーーーーーーーSearch the target string764ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisseemswrong(followingwhatHiveRegulardoes)
 
predict_string:
 //TODO:thisseemswrong(followingwhatHiveRegulardoes) 

line_no || similarity 

253 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/HiveGBOpConvUtil.java 

under_code:
if (!distParamInRefsToOutputPos.containsKey(argLst.get(i))
 

ーーーーーーーーSearch the target string765ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:we'reaskingthemetastorewhatitsconfigurationforthisvaris-wemaywanttorevisittopullfromclientsideinstead.ThereasonIhaveitthiswayisbecausethemetastoreismorelikelytohaveareasonableconfigforthisthananarbitraryclient.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string766ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:canthisresultincross-threadreuseofsessionstate?
 
predict_string:
 //TODO:canthisresultincross-threadreuseofsessionstate? 

line_no || similarity 

308 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/service/src/java/org/apache/hive/service/cli/operation/SQLOperation.java 

under_code:
SessionState.setCurrentSessionState(parentSessionState);
 

ーーーーーーーーSearch the target string767ーーーーーーーーーーーーーーー
 
search_string:
 //Thiscondition-checkcouldhavebeenavoided,buttohonourtheolddefaultofnotcallingifitwasn'tset,weretainthatbehaviour.TODO:cleanupafterverificationthattheouterifisn'treallyneededhere
 
sub_line:
 //defaultofnotcallingifitwasn'tset,weretainthatbehaviour. 

frontremoved_sub_line:
 faultofnotcallingifitwasn'tset,weretainthatbehaviour. 

sub_line:
 //TODO:cleanupafterverificationthattheouterifisn'treallyneededhere 

frontremoved_sub_line:
 DO:cleanupafterverificationthattheouterifisn'treallyneededhere 

sub_line:
 } 

frontremoved_sub_line:
  

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 if(isLocationSet){ 

frontremoved_sub_line:
 sLocationSet){ 

predict_string:
 //Thiscondition-checkcouldhavebeenavoided,buttohonourtheold 

line_no || similarity 

259 || 0.4978902953586498 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/ImportSemanticAnalyzer.java 

under_code:
if (isLocationSet) {
 

ーーーーーーーーSearch the target string768ーーーーーーーーーーーーーーー
 
search_string:
 //TODOsupportonlynonnestedcase
 
predict_string:
 //TODOsupportonlynonnestedcase 

line_no || similarity 

474 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/vector/VectorizedParquetRecordReader.java 

under_code:
private PrimitiveType getElementType(Type type) {
 

ーーーーーーーーSearch the target string769ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#mapKeysTerminatedBy()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#mapKeysTerminatedBy()}.ToberemovedinHive0.16. 

line_no || similarity 

400 || 0.9392265193370166 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public Builder mapKeysTerminatedBy(char delimiter) {
 

ーーーーーーーーSearch the target string770ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:getridofthis
 
predict_string:
 privatefinalbooleanskipCorrupt;//TODO:getridofthis 

line_no || similarity 

71 || 0.5507246376811594 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/decode/OrcEncodedDataConsumer.java 

under_code:
private final QueryFragmentCounters counters;
 

ーーーーーーーーSearch the target string771ーーーーーーーーーーーーーーー
 
search_string:
 //todo:thisisnotremotelyaccurateifyouhavemany(relevant)originalfiles
 
predict_string:
 //todo:thisisnotremotelyaccurateifyouhavemany(relevant)originalfiles 

line_no || similarity 

624 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/upgrade-acid/src/main/java/org/apache/hadoop/hive/upgrade/acid/UpgradeTool.java 

under_code:
return true;
 

ーーーーーーーーSearch the target string772ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:wecouldremoveextracopyforisUncompressedcasebycopyingdirectlytocache.
 
predict_string:
 //TODO:wecouldremoveextracopyforisUncompressedcasebycopyingdirectlytocache. 

line_no || similarity 

1535 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/encoded/EncodedReaderImpl.java 

under_code:
// We need to consolidate 2 or more buffers into one to decompress.
 

ーーーーーーーーSearch the target string773ーーーーーーーーーーーーーーー
 
search_string:
 //TODOHIVE-11687It'spossibleforabunchoftaskstocomeinaroundthesametime,withouttheactualexecutorthreadspickingupanywork.Thiswillleadtounnecessaryrejectionoftasks.
 
sub_line:
 //actualexecutorthreadspickingupanywork.Thiswillleadtounnecessaryrejectionoftasks. 

frontremoved_sub_line:
 tualexecutorthreadspickingupanywork.Thiswillleadtounnecessaryrejectionoftasks. 

sub_line:
 //Thewaitqueueshouldbeabletofitatleast(waitQueue+currentFreeExecutorslots) 

frontremoved_sub_line:
 ewaitqueueshouldbeabletofitatleast(waitQueue+currentFreeExecutorslots) 

predict_string:
 //TODOHIVE-11687It'spossibleforabunchoftaskstocomeinaroundthesametime,withoutthe 

line_no || similarity 

450 || 0.6666666666666666 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/daemon/impl/TaskExecutorService.java 

under_code:
// The wait queue should be able to fit at least (waitQueue + currentFreeExecutor slots)
 

ーーーーーーーーSearch the target string774ーーーーーーーーーーーーーーー
 
search_string:
 //conflictwhenloaded.Someissuewithframeworkwhichneedstoberelookintolater.
 
predict_string:
 //conflictwhenloaded.Someissuewithframeworkwhichneedstoberelookintolater. 

line_no || similarity 

1057 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenariosAcrossInstances.java 

under_code:
primary.run("drop database if exists " + primaryDbName + " cascade");
 

ーーーーーーーーSearch the target string775ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#fileFormat()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#fileFormat()}.ToberemovedinHive0.16. 

line_no || similarity 

209 || 0.9325153374233128 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public String getFileFormat() {
 

ーーーーーーーーSearch the target string776ーーーーーーーーーーーーーーー
 
search_string:
 //dangerous;let'sexplicitlyaddanincompleteCB.
 
predict_string:
 //dangerous;let'sexplicitlyaddanincompleteCB. 

line_no || similarity 

82 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/metadata/OrcFileEstimateErrors.java 

under_code:
check.replaceSelfWith(new IncompleteCb(check.getOffset(), check.getEnd()));
 

ーーーーーーーーSearch the target string777ーーーーーーーーーーーーーーー
 
search_string:
 //Thisisnotacompletelist,barelymakeinformationschemawork
 
predict_string:
 //Thisisnotacompletelist,barelymakeinformationschemawork 

line_no || similarity 

78 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/jdbc-handler/src/main/java/org/apache/hive/storage/jdbc/dao/JdbcRecordIterator.java 

under_code:
switch (((PrimitiveTypeInfo)columnTypes.get(i)).getTypeName()) {
 

ーーーーーーーーSearch the target string778ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:perhapsweshouldalsosummarizethetriggerspointingtoinvalidpools.
 
predict_string:
 //TODO:perhapsweshouldalsosummarizethetriggerspointingtoinvalidpools. 

line_no || similarity 

922 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/MetaDataFormatUtils.java 

under_code:
if (!unusedTriggers.isEmpty()) {
 

ーーーーーーーーSearch the target string779ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:couldweinsteadgetFSfrompathhereandaddnormalfilesforeveryUGI?
 
predict_string:
 //TODO:couldweinsteadgetFSfrompathhereandaddnormalfilesforeveryUGI? 

line_no || similarity 

2701 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestInputOutputFormat.java 

under_code:
MockFileSystem.clearGlobalFiles();
 

ーーーーーーーーSearch the target string780ーーーーーーーーーーーーーーー
 
search_string:
 //WecannotgettorootTableScanoperator,likelybecausethereisajoinorgroup-bybetweentopOpandrootTableScanoperator.Wedon'thandlethatcase,andsimplyreturn
 
sub_line:
 //betweentopOpandrootTableScanoperator.Wedon'thandlethatcase,andsimplyreturn 

frontremoved_sub_line:
 tweentopOpandrootTableScanoperator.Wedon'thandlethatcase,andsimplyreturn 

sub_line:
 returnfalse; 

frontremoved_sub_line:
 rnfalse; 

predict_string:
 //WecannotgettorootTableScanoperator,likelybecausethereisajoinorgroup-by 

line_no || similarity 

226 || 0.6605504587155964 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractBucketJoinProc.java 

under_code:
return false;
 

ーーーーーーーーSearch the target string781ーーーーーーーーーーーーーーー
 
search_string:
 //REVIEW:arewesupposedtobeapplyingthegetReadColumnIDs
 
predict_string:
 //REVIEW:arewesupposedtobeapplyingthegetReadColumnIDs 

line_no || similarity 

326 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HiveHBaseTableInputFormat.java 

under_code:
// same as in getRecordReader?
 

ーーーーーーーーSearch the target string782ーーーーーーーーーーーーーーー
 
search_string:
 /**todo:thisshouldacceptafileoftablenamestoexcludefromnon-acidtoacidconversion*todo:changescriptcommentstoapreambleinsteadofafooter**howdoesrenamescriptwork?"hadoopfs-mvoldnamenewname"*andwhatwhataboutS3?*Howdoesthisactuallygetexecuted?*allotheractionsaredoneviaembeddedJDBC***/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string783ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thegloballockmightbetocoarsehere.
 
predict_string:
 //TODO:thegloballockmightbetocoarsehere. 

line_no || similarity 

68 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/llap/LlapOutputFormatService.java 

under_code:
private final Object lock = new Object();
 

ーーーーーーーーSearch the target string784ーーーーーーーーーーーーーーー
 
search_string:
 //todo:enums?thathavebothfieldnameandvaluelist
 
predict_string:
 //todo:enums?thathavebothfieldnameandvaluelist 

line_no || similarity 

1640 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/AcidUtils.java 

under_code:
private interface Field {
 

ーーーーーーーーSearch the target string785ーーーーーーーーーーーーーーー
 
search_string:
 //iftheresultisnotbooleanandnotallpartitionagreeontheresult,wedon'tremovethecondition.Potentially,itcanmissthecaselike"whereds%3==1ords%3==2"TODO:handlethiscasebymakingresultvectortohandleallconstantvalues.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string786ーーーーーーーーーーーーーーー
 
search_string:
 //Needtoremovethisstatichack.Butthisisthewaycurrentlytogetasession.
 
predict_string:
 //Needtoremovethisstatichack.Butthisisthewaycurrentlytogetasession. 

line_no || similarity 

146 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezTask.java 

under_code:
SessionState ss = SessionState.get();
 

ーーーーーーーーSearch the target string787ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:codesectioncopiedoverfromSerDeUtilsbecauseofnon-standardjsonproductionthereshouldusequotesforallfieldnames.Weshouldfixthisthere,andthenremovethiscopy.Seehttp://jackson.codehaus.org/1.7.3/javadoc/org/codehaus/jackson/JsonParser.Feature.html#ALLOW_UNQUOTED_FIELD_NAMESfordetails-tryingtoenableJacksontoignorethatdoesn'tseemtowork(compilationfailurewhenattemptingtousethatfeature,sohavingtochangetheproductionitself.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string788ーーーーーーーーーーーーーーー
 
search_string:
 //Assumeweshouldhavetheexactsameobject.TODO:wecouldalsocomparetheschemaandSerDe,andpassonlythosetothecallinstead;mostofthetimethesewouldbethesameandLLAPIOcanhandlethat.
 
under_code:
None
 

ーーーーーーーーSearch the target string789ーーーーーーーーーーーーーーー
 
search_string:
 //todo:HIVE-15549SORT_PARTITION_EDGE
 
under_code:
None
 

ーーーーーーーーSearch the target string790ーーーーーーーーーーーーーーー
 
search_string:
 //TODO-Allowthebranchtobespecifiedasaparametertoptest,ratherthanrequiringaseparatepropertyfile.
 
predict_string:
 //TODO-Allowthebranchtobespecifiedasaparametertoptest,ratherthanrequiringaseparatepropertyfile. 

line_no || similarity 

245 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/conf/TestConfiguration.java 

under_code:
// (will need to handle an alternate work-dir as well in this case - derive from branch?)
 

ーーーーーーーーSearch the target string791ーーーーーーーーーーーーーーー
 
search_string:
 //NotethatthetableExistsflagasusedbyAuthiskindaahackandassumesonly1tablewilleverbeimported-thisassumptionisbrokenbyREPLLOAD.However,we'venotchosentoexpandthistoamapoftables/etc,sincewehaveexpandedhowauthworkswithREPLDUMP/REPLLOADtosimplyrequireADMINprivileges,ratherthancheckingeachobject,whichquicklybecomesuntenable,andevenmoreso,costlyonmemory.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string792ーーーーーーーーーーーーーーー
 
search_string:
 //TODOChangeafterHIVE-9987.Fornow,there'snorackmatching.
 
predict_string:
 //TODOChangeafterHIVE-9987.Fornow,there'snorackmatching. 

line_no || similarity 

2710 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskSchedulerService.java 

under_code:
if (requestedHosts != null && requestedHosts.length != 0) {
 

ーーーーーーーーSearch the target string793ーーーーーーーーーーーーーーー
 
search_string:
 /**Onlyasmallsetofoperationsisallowedinsideanexplicittransactions,e.g.DMLon*Acidtablesoropsw/opersistentsideeffectslikeUSEDATABASE,SHOWTABLES,etcso*thatrollbackismeaningful*todo:markalloperationsappropriately*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string794ーーーーーーーーーーーーーーー
 
search_string:
 //todo:oncemultistatementtxnsaresupported,addatesttorunnext2statementsinasingletxn
 
predict_string:
 //todo:oncemultistatementtxnsaresupported,addatesttorunnext2statementsinasingletxn 

line_no || similarity 

919 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/TestTxnCommands2.java 

under_code:
runStatementOnDriver("delete from " + Table.ACIDTBL + " where a in(select a from " + Table.NONACIDORCTBL + ")");
 

ーーーーーーーーSearch the target string795ーーーーーーーーーーーーーーー
 
search_string:
 //TODOHiveQueryIdextractionbyparsingtheProcessorpayloadisugly.ThiscanbeimprovedonceTEZ-2672isfixed.
 
sub_line:
 //onceTEZ-2672isfixed. 

frontremoved_sub_line:
 ceTEZ-2672isfixed. 

sub_line:
 StringhiveQueryId; 

frontremoved_sub_line:
 nghiveQueryId; 

predict_string:
 //TODOHiveQueryIdextractionbyparsingtheProcessorpayloadisugly.Thiscanbeimproved 

line_no || similarity 

354 || 0.8876404494382022 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskCommunicator.java 

under_code:
String hiveQueryId;
 

ーーーーーーーーSearch the target string796ーーーーーーーーーーーーーーー
 
search_string:
 //UNDONE:Whydon'tthesemethodstakedecimalPlaces?
 
predict_string:
 //UNDONE:Whydon'tthesemethodstakedecimalPlaces? 

line_no || similarity 

285 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/expressions/DecimalUtil.java 

under_code:
public static void floor(int i, HiveDecimal input, DecimalColumnVector outputColVector) {
 

ーーーーーーーーSearch the target string797ーーーーーーーーーーーーーーー
 
search_string:
 /**Serializesdecimal64uptothemaximum64-bitprecision(18decimaldigits).**NOTE:Majorassumption:thefastdecimalhasalreadybeenboundscheckedandaleast*hasaprecision<=DECIMAL64_DECIMAL_DIGITS.Wedonotboundscheckhereforbetter*performance.*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string798ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Refactorthisanddoinamoreobjectorientedmanner
 
predict_string:
 //TODO:Refactorthisanddoinamoreobjectorientedmanner 

line_no || similarity 

54 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/RowResolver.java 

under_code:
private boolean isExprResolver;
 

ーーーーーーーーSearch the target string799ーーーーーーーーーーーーーーー
 
search_string:
 //SomedataismissingfromthestreamforPPDuncompressedread(becauseindexoffsetisrelativetotheentirestreamandweonlyreadpartofstreamifRGsarefiltered;unlikewithcompresseddatawherePPDonlyfiltersCBs,sowealwaysgetfullCB,andindexoffsetisrelativetoCB).TotakecareofthecasewhenUncompressedStreamgoesseekingaroundbyitsincorrect(relativetopartialstream)indexoffset,wewillincreasethelengthbyouroffset-relative-to-the-stream,andalsoaccountforitinbuffers(seecreateDiskRangeInfo).So,indexoffsetnowworks;aslongasnooneseeksintothisdatabeforetheRG(whywouldthey),everythingworks.Thisishacky...Streamshouldn'tdependonhavingallthedata.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string800ーーーーーーーーーーーーーーー
 
search_string:
 //TODOHIVE-15865Ideallysortthesebycompletiontime,oncethatisavailable.
 
predict_string:
 //TODOHIVE-15865Ideallysortthesebycompletiontime,oncethatisavailable. 

line_no || similarity 

501 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/cli/LlapStatusServiceDriver.java 

under_code:
boolean isFirst = true;
 

ーーーーーーーーSearch the target string801ーーーーーーーーーーーーーーー
 
search_string:
 /**GenerateatemporarypathfordynamicpartitionpruninginSparkbranch*TODO:nolongerneedthisifweuseaccumulator!*@parambasePath*@paramid*@return*/
 
sub_line:
 *TODO:nolongerneedthisifweuseaccumulator! 

frontremoved_sub_line:
 O:nolongerneedthisifweuseaccumulator! 

sub_line:
 *@parambasePath 

frontremoved_sub_line:
 rambasePath 

sub_line:
 *@paramid 

frontremoved_sub_line:
 ramid 

sub_line:
 *@return 

frontremoved_sub_line:
 turn 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 publicstaticPathgenerateTmpPathForPartitionPruning(PathbasePath,Stringid){ 

frontremoved_sub_line:
 icstaticPathgenerateTmpPathForPartitionPruning(PathbasePath,Stringid){ 

predict_string:
 *GenerateatemporarypathfordynamicpartitionpruninginSparkbranch 

line_no || similarity 

142 || 0.6169154228855721 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/spark/SparkUtilities.java 

under_code:
public static Path generateTmpPathForPartitionPruning(Path basePath, String id) {
 

ーーーーーーーーSearch the target string802ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:probablytemporarybeforeHIVE-13698;afterthatwemaycreateonepersession.
 
predict_string:
 //TODO:probablytemporarybeforeHIVE-13698;afterthatwemaycreateonepersession. 

line_no || similarity 

66 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-client/src/java/org/apache/hadoop/hive/llap/coordinator/LlapCoordinator.java 

under_code:
private static final Cache<String, LlapTokenLocalClient> localClientCache = CacheBuilder
 

ーーーーーーーーSearch the target string803ーーーーーーーーーーーーーーー
 
search_string:
 //FIXMEmanager'sEndOfBatchthreadlocalcanbedeleted
 
predict_string:
 getManager().setEndOfBatch(event.isEndOfBatch());//FIXMEmanager'sEndOfBatchthreadlocalcanbedeleted 

line_no || similarity 

98 || 0.6666666666666666 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/log/HushableRandomAccessFileAppender.java 

under_code:
// LOG4J2-1292 utilize gc-free Layout.encode() method: taken care of in superclass
 

ーーーーーーーーSearch the target string804ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:mostofthetime,there'snoin-memory.Useanarray?
 
predict_string:
 List<String>hosts=null;//TODO:mostofthetime,there'snoin-memory.Useanarray? 

line_no || similarity 

1619 || 0.816 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/SerDeEncodedDataReader.java 

under_code:
for (int i = 0; i < locInfo.length; i++) {
 

ーーーーーーーーSearch the target string805ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:couldwetellthepolicythatwedon'tcareabouttheseandhavethemevicted?orwecouldjustdeallocatethemwhenunlocked,andfreememory+handlethatineviction.Fornow,justabandontheblocks-eventually,they'llgetevicted.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string806ーーーーーーーーーーーーーーー
 
search_string:
 //Asingleconcurrentrequestpernodeiscurrentlyhardcoded.ThenodeincludesaportnumbersodifferentAMsonthesamehostcountasdifferentnodes;weonlyhaveonerequesttype,anditisnotusefultosendmorethanoneinparallel.
 
sub_line:
 //sodifferentAMsonthesamehostcountasdifferentnodes;weonlyhaveonerequesttype, 

frontremoved_sub_line:
 differentAMsonthesamehostcountasdifferentnodes;weonlyhaveonerequesttype, 

sub_line:
 //anditisnotusefultosendmorethanoneinparallel. 

frontremoved_sub_line:
 ditisnotusefultosendmorethanoneinparallel. 

sub_line:
 super(LlapPluginEndpointClientImpl.class.getSimpleName(), 

frontremoved_sub_line:
 r(LlapPluginEndpointClientImpl.class.getSimpleName(), 

predict_string:
 //Asingleconcurrentrequestpernodeiscurrentlyhardcoded.Thenodeincludesaportnumber 

line_no || similarity 

54 || 0.5755395683453237 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/LlapPluginEndpointClientImpl.java 

under_code:
super(LlapPluginEndpointClientImpl.class.getSimpleName(),
 

ーーーーーーーーSearch the target string807ーーーーーーーーーーーーーーー
 
search_string:
 //TODOMS-SPLITSwitchthisbackonceHiveMetaStoreClientismoved.req.setCapabilities(HiveMetaStoreClient.TEST_VERSION);
 
sub_line:
 //req.setCapabilities(HiveMetaStoreClient.TEST_VERSION); 

frontremoved_sub_line:
 q.setCapabilities(HiveMetaStoreClient.TEST_VERSION); 

sub_line:
 req.setCapabilities(newClientCapabilities( 

frontremoved_sub_line:
 setCapabilities(newClientCapabilities( 

predict_string:
 //TODOMS-SPLITSwitchthisbackonceHiveMetaStoreClientismoved. 

line_no || similarity 

65 || 0.686046511627907 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/events/InsertEvent.java 

under_code:
req.setCapabilities(new ClientCapabilities(
 

ーーーーーーーーSearch the target string808ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#getTableType()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#getTableType()}.ToberemovedinHive0.16. 

line_no || similarity 

177 || 0.9341317365269461 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public boolean getExternal() {
 

ーーーーーーーーSearch the target string809ーーーーーーーーーーーーーーー
 
search_string:
 //CurrentlyMAPtypeisnotsupported.AdditbackwhenArrow1.0isreleased.
 
predict_string:
 //CurrentlyMAPtypeisnotsupported.AdditbackwhenArrow1.0isreleased. 

line_no || similarity 

52 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hive-unit/src/test/java/org/apache/hive/jdbc/TestJdbcWithMiniLlapArrow.java 

under_code:
// See: SPARK-21187
 

ーーーーーーーーSearch the target string810ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whyCASiftheresultisnotchecked?
 
predict_string:
 //TODO:whyCASiftheresultisnotchecked? 

line_no || similarity 

189 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-common/src/java/org/apache/hadoop/hive/llap/AsyncPbRpcProxy.java 

under_code:
shouldRun.compareAndSet(true, false);
 

ーーーーーーーーSearch the target string811ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Shouldn'twepropgatevc?isitvccolfromtaborallvc
 
predict_string:
 //TODO:Shouldn'twepropgatevc?isitvccolfromtaborallvc 

line_no || similarity 

829 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/HiveGBOpConvUtil.java 

under_code:
return new OpAttr("", new HashSet<Integer>(), rsGBOp2);
 

ーーーーーーーーSearch the target string812ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:readEncodedColumnsisnotsupposedtothrow;errorsshouldbepropagatedthruconsumer.Itispotentiallyholdinglockedbuffers,andmustperformitsowncleanup.Also,currentlyreadEncodedColumnsisnotstoppable.Theconsumerwilldiscardthedataitreceivesforonestripe.Wecouldprobablyinterruptit,ifitcheckedthat.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string813ーーーーーーーーーーーーーーー
 
search_string:
 //REVIEWjvs29-Oct-2007:Shouldn'titalsobeincorporatingtheflavorattributeintothedescription?
 
sub_line:
 //theflavorattributeintothedescription? 

frontremoved_sub_line:
 eflavorattributeintothedescription? 

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 /**Plannerrulethatadjustsprojectswhencountsareadded.*/ 

frontremoved_sub_line:
 lannerrulethatadjustsprojectswhencountsareadded.*/ 

predict_string:
 //REVIEWjvs29-Oct-2007:Shouldn'titalsobeincorporating 

line_no || similarity 

2808 || 0.7412587412587412 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/rules/HiveRelDecorrelator.java 

under_code:
/** Planner rule that adjusts projects when counts are added. */
 

ーーーーーーーーSearch the target string814ーーーーーーーーーーーーーーー
 
search_string:
 //Requirements:forBucket,bucketedbytheirkeysonbothsidesandfittinginmemoryObtainnumberofbucketsTODO:Incaseofnonbucketedsplitswouldbecomputedbasedondatasize/maxpartsize
 
sub_line:
 //Obtainnumberofbuckets 

frontremoved_sub_line:
 tainnumberofbuckets 

sub_line:
 //TODO:Incaseofnonbucketedsplitswouldbecomputedbasedondatasize/maxpartsize 

frontremoved_sub_line:
 DO:Incaseofnonbucketedsplitswouldbecomputedbasedondatasize/maxpartsize 

sub_line:
 //Whatweneedisawaytogetbucketsnotsplits 

frontremoved_sub_line:
 atweneedisawaytogetbucketsnotsplits 

predict_string:
 //Requirements:forBucket,bucketedbytheirkeysonbothsidesandfittinginmemory 

line_no || similarity 

385 || 0.6108786610878661 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/cost/HiveOnTezCostModel.java 

under_code:
// What we need is a way to get buckets not splits
 

ーーーーーーーーSearch the target string815ーーーーーーーーーーーーーーー
 
search_string:
 //Note:laterwemaybeabletosetmultiplethingstogether(exceptLIKE).
 
predict_string:
 //Note:laterwemaybeabletosetmultiplethingstogether(exceptLIKE). 

line_no || similarity 

909 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 

under_code:
if (queryParallelism == null && likeName == null) {
 

ーーーーーーーーSearch the target string816ーーーーーーーーーーーーーーー
 
search_string:
 //MaybenullintestsTODO:seejavadoc
 
under_code:
None
 

ーーーーーーーーSearch the target string817ーーーーーーーーーーーーーーー
 
search_string:
 //XXX:makesnosenseforme...possiblynotneededanymore
 
predict_string:
 //XXX:makesnosenseforme...possiblynotneededanymore 

line_no || similarity 

159 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/stats/BasicStatsTask.java 

under_code:
if (work.isClearAggregatorStats()) {
 

ーーーーーーーーSearch the target string818ーーーーーーーーーーーーーーー
 
search_string:
 //So,theindicesshouldlineup...tobefixedinSEv2?
 
predict_string:
 //So,theindicesshouldlineup...tobefixedinSEv2? 

line_no || similarity 

590 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/api/impl/LlapRecordReader.java 

under_code:
List<Integer> filePhysicalColumnIds = readerLogicalColumnIds;
 

ーーーーーーーーSearch the target string819ーーーーーーーーーーーーーーー
 
search_string:
 /**Themethodforalteringtableprops;maysetthetabletoMM,non-MM,ornotaffectMM.*todo:AllsuchvalidationlogicshouldbeTransactionValidationListener*@paramtblobjectimagebeforealtertablecommand(ornullifnotretrievedyet).*@parampropspropvaluessetinthisaltertablecommand*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string820ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:verifyifskippingcharsethereisokay
 
predict_string:
 //TODO:verifyifskippingcharsethereisokay 

line_no || similarity 

185 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/ReplCopyTask.java 

under_code:
String line;
 

ーーーーーーーーSearch the target string821ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:supportdynamicpartitionforCTAS
 
predict_string:
 //TODO:supportdynamicpartitionforCTAS 

line_no || similarity 

13048 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 

under_code:
throw new SemanticException(ErrorMsg.CTAS_PARCOL_COEXISTENCE.getMsg());
 

ーーーーーーーーSearch the target string822ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Someextravalidationcanalsobeaddedasthisisauserprovidedparameter.
 
predict_string:
 //TODO:Someextravalidationcanalsobeaddedasthisisauserprovidedparameter. 

line_no || similarity 

126 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/model/MDatabase.java 

under_code:
this.parameters.put(ReplChangeManager.SOURCE_OF_REPLICATION, parameters.get(key));
 

ーーーーーーーーSearch the target string823ーーーーーーーーーーーーーーー
 
search_string:
 //todo:addtimeofabort,whichisnotcurrentlytracked.
 
predict_string:
 +"alreadyaborted");//todo:addtimeofabort,whichisnotcurrentlytracked. 

line_no || similarity 

4256 || 0.8376068376068376 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java 

under_code:
// Requires schema change
 

ーーーーーーーーSearch the target string824ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:dumptheendifwrappingaround?
 
predict_string:
 //TODO:dumptheendifwrappingaround? 

line_no || similarity 

311 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/common/src/java/org/apache/hive/common/util/FixedSizedObjectPool.java 

under_code:
for (int i = 0; i < logSize; ++i) {
 

ーーーーーーーーSearch the target string825ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:CurrentlyignoresGBYandPTFwhichmayalsobufferdatainmemory.
 
predict_string:
 //TODO:CurrentlyignoresGBYandPTFwhichmayalsobufferdatainmemory. 

line_no || similarity 

1111 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SharedWorkOptimizer.java 

under_code:
if (sr.dataSize > sr.maxDataSize) {
 

ーーーーーーーーSearch the target string826ーーーーーーーーーーーーーーー
 
search_string:
 //ThequeryIdcouldeitherbepickedupfromthecurrentrequestbeingprocessed,orgenerated.Thecurrentrequestisn'texactlycorrectsincethequeryis'done'oncewereturntheresults.GeneratinganewonehastheaddedbenefitofworkingoncethisismovedoutofaUDTFintoaproperAPI.SettingthistothegeneratedAppIdwhichisunique.DespitethedifferencesinTaskSpec,thevertexspecshouldbethesame.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string827ーーーーーーーーーーーーーーー
 
search_string:
 //WorkaroundforDNbugonPostgres:http://www.datanucleus.org/servlet/forum/viewthread_thread,7985_offset
 
sub_line:
 //http://www.datanucleus.org/servlet/forum/viewthread_thread,7985_offset 

frontremoved_sub_line:
 tp://www.datanucleus.org/servlet/forum/viewthread_thread,7985_offset 

sub_line:
 /** 

frontremoved_sub_line:
  

sub_line:
 *@deprecatedUseMetastoreConf.DATANUCLEUS_INIT_COL_INFO 

frontremoved_sub_line:
 precatedUseMetastoreConf.DATANUCLEUS_INIT_COL_INFO 

predict_string:
 //WorkaroundforDNbugonPostgres: 

line_no || similarity 

936 || 0.4696969696969697 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 

under_code:
* @deprecated Use MetastoreConf.DATANUCLEUS_INIT_COL_INFO
 

ーーーーーーーーSearch the target string828ーーーーーーーーーーーーーーー
 
search_string:
 //Ifnecessary,divideandmultiplytogetridoffractionaldigits.
 
predict_string:
 //Ifnecessary,divideandmultiplytogetridoffractionaldigits. 

line_no || similarity 

5036 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/storage-api/src/java/org/apache/hadoop/hive/common/type/FastHiveDecimalImpl.java 

under_code:
if (fastScale == 0) {
 

ーーーーーーーーSearch the target string829ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:usecommonthreadpoollater?
 
predict_string:
 //TODO:usecommonthreadpoollater? 

line_no || similarity 

475 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SimpleFetchOptimizer.java 

under_code:
int threadCount = HiveConf.getIntVar(pctx.getConf(),
 

ーーーーーーーーSearch the target string830ーーーーーーーーーーーーーーー
 
search_string:
 //registerallpermanentfunctions.needimprovement
 
predict_string:
 //registerallpermanentfunctions.needimprovement 

line_no || similarity 

245 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java 

under_code:
private void registerAllFunctionsOnce() throws HiveException {
 

ーーーーーーーーSearch the target string831ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:perhapsthiscoulduseabetterimplementation...fornoweventheHivequeryresultsetdoesn'tsupportthis,soassumetheuserknowswhathe'sdoingwhencallingus.
 
sub_line:
 //setdoesn'tsupportthis,soassumetheuserknowswhathe'sdoingwhencallingus. 

frontremoved_sub_line:
 tdoesn'tsupportthis,soassumetheuserknowswhathe'sdoingwhencallingus. 

sub_line:
 return(T)super.getObject(columnIndex); 

frontremoved_sub_line:
 rn(T)super.getObject(columnIndex); 

predict_string:
 //TODO:perhapsthiscoulduseabetterimplementation...fornoweventheHivequeryresult 

line_no || similarity 

191 || 0.6933333333333334 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/jdbc/src/java/org/apache/hive/jdbc/HiveDatabaseMetaData.java 

under_code:
return (T) super.getObject(columnIndex);
 

ーーーーーーーーSearch the target string832ーーーーーーーーーーーーーーー
 
search_string:
 //Thisisourproblem--itmeanstheconfigurationwaswrong.
 
predict_string:
 //Thisisourproblem--itmeanstheconfigurationwaswrong. 

line_no || similarity 

136 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/svr/src/test/java/org/apache/hive/hcatalog/templeton/tool/TestTempletonUtils.java 

under_code:
e.printStackTrace();
 

ーーーーーーーーSearch the target string833ーーーーーーーーーーーーーーー
 
search_string:
 //tobeusedbyclientsofServiceRegistryTODO:thisisunnecessary
 
predict_string:
 //tobeusedbyclientsofServiceRegistryTODO:thisisunnecessary 

line_no || similarity 

74 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-client/src/java/org/apache/hadoop/hive/llap/registry/impl/LlapZookeeperRegistryImpl.java 

under_code:
private DynamicServiceInstanceSet instances;
 

ーーーーーーーーSearch the target string834ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:shouldthisalsohandleACIDoperation,etc.?seemstomissalotofstufffromHIF.
 
predict_string:
 //TODO:shouldthisalsohandleACIDoperation,etc.?seemstomissalotofstufffromHIF. 

line_no || similarity 

140 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/BucketizedHiveInputFormat.java 

under_code:
List<Path> finalDirs = null, dirsWithMmOriginals = null;
 

ーーーーーーーーSearch the target string835ーーーーーーーーーーーーーーー
 
search_string:
 //TODOWillthesechecksworkifsomeotheruserlogsin.Isn'tadoAscheckrequiredsomewherehereaswell.ShouldadoAscheckhappenhereinsteadofaftertheusertest.WithHiveServer2-whoistheincominguserintermsofUGI(thehiveuseritself,ortheuserwhoactuallysubmittedthequery)
 
under_code:
too long.
 

ーーーーーーーーSearch the target string836ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:getridofdeepCopyaftermakingsurecallersdon'tusereferences
 
predict_string:
 //TODO:getridofdeepCopyaftermakingsurecallersdon'tusereferences 

line_no || similarity 

394 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/cache/SharedCache.java 

under_code:
if (maxCacheSizeInBytes > 0) {
 

ーーーーーーーーSearch the target string837ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisisfishy-weinitobjectinspectorsbasedonfirsttag.Weshouldeitherinitforeachtag,orifrowInspectordoesn'treallymatter,thenwecancreatethisinctorandgetridoffirstRow.
 
sub_line:
 //shouldeitherinitforeachtag,orifrowInspectordoesn'treally 

frontremoved_sub_line:
 ouldeitherinitforeachtag,orifrowInspectordoesn'treally 

sub_line:
 //matter,thenwecancreatethisinctorandgetridoffirstRow. 

frontremoved_sub_line:
 tter,thenwecancreatethisinctorandgetridoffirstRow. 

sub_line:
 if(LOG.isInfoEnabled()){ 

frontremoved_sub_line:
 OG.isInfoEnabled()){ 

predict_string:
 //TODO:thisisfishy-weinitobjectinspectorsbasedonfirsttag.We 

line_no || similarity 

298 || 0.5221238938053098 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/ReduceSinkOperator.java 

under_code:
if (LOG.isInfoEnabled()) {
 

ーーーーーーーーSearch the target string838ーーーーーーーーーーーーーーー
 
search_string:
 //Snapshotwasoutdatedwhenlockswereacquired,henceregeneratecontext,txnlistandretryTODO:Lockacquisitionshouldbemovedbeforeanalyze,thisisabithackish.Currently,weacquireasnapshot,wecompilethequerywrtthatsnapshot,andthen,weacquirelocks.Ifsnapshotisstillvalid,wecontinueasusual.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string839ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:optiontoallowconvertingORCfiletoinsert-onlytransactional?
 
predict_string:
 //TODO:optiontoallowconvertingORCfiletoinsert-onlytransactional? 

line_no || similarity 

627 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/util/HiveStrictManagedMigration.java 

under_code:
LOG.info("Converting {} to full transactional table", getQualifiedName(tableObj));
 

ーーーーーーーーSearch the target string840ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:calculatethisinstead.Justbecausewe'rewritingtothelocationdoesn'tmeanthatit'llalwaysbewantedinthemetastorerightaway.
 
sub_line:
 //alwaysbewantedinthemetastorerightaway. 

frontremoved_sub_line:
 waysbewantedinthemetastorerightaway. 

sub_line:
 List<Partition>partitionEntries=metaStoreClient.listPartitions(table.getDbName(),table.getTableName(), 

frontremoved_sub_line:
 <Partition>partitionEntries=metaStoreClient.listPartitions(table.getDbName(),table.getTableName(), 

predict_string:
 //TODO:calculatethisinstead.Justbecausewe'rewritingtothelocationdoesn'tmeanthatit'll 

line_no || similarity 

178 || 0.8155339805825242 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/streaming/src/test/org/apache/hive/hcatalog/streaming/mutate/StreamingAssert.java 

under_code:
List<Partition> partitionEntries = metaStoreClient.listPartitions(table.getDbName(), table.getTableName(),
 

ーーーーーーーーSearch the target string841ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:propagatethiserrortoTezJobMonitorsomehow?WithoutusingkillQuery
 
predict_string:
 //TODO:propagatethiserrortoTezJobMonitorsomehow?WithoutusingkillQuery 

line_no || similarity 

954 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/WorkloadManager.java 

under_code:
syncWork.toRestartInUse.add(session);
 

ーーーーーーーーSearch the target string842ーーーーーーーーーーーーーーー
 
search_string:
 //Allusersbelongtopublicroleimplicitly,addthatroleTODOMS-SPLITChangethisbacktoHiveMetaStore.PUBLIConceHiveMetaStorehasmovedtostand-alonemetastore.MRolepublicRole=newMRole(HiveMetaStore.PUBLIC,0,HiveMetaStore.PUBLIC);
 
under_code:
too long.
 

ーーーーーーーーSearch the target string843ーーーーーーーーーーーーーーー
 
search_string:
 /**CreateabareTableSnapshotRegionSplit.NeededbecauseWritablesrequirea*default-constructedinstancetohydratefromtheDataInput.**TODO:removeonceHBASE-11555isfixed.*/
 
sub_line:
 *default-constructedinstancetohydratefromtheDataInput. 

frontremoved_sub_line:
 ault-constructedinstancetohydratefromtheDataInput. 

sub_line:
 * 

frontremoved_sub_line:
  

sub_line:
 *TODO:removeonceHBASE-11555isfixed. 

frontremoved_sub_line:
 O:removeonceHBASE-11555isfixed. 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 publicstaticInputSplitcreateTableSnapshotRegionSplit(){ 

frontremoved_sub_line:
 icstaticInputSplitcreateTableSnapshotRegionSplit(){ 

predict_string:
 *CreateabareTableSnapshotRegionSplit.NeededbecauseWritablesrequirea 

line_no || similarity 

81 || 0.5877192982456141 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseTableSnapshotInputFormatUtil.java 

under_code:
public static InputSplit createTableSnapshotRegionSplit() {
 

ーーーーーーーーSearch the target string844ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:dobetterwithhandlingtypesofExceptionhere
 
predict_string:
 //TODO:dobetterwithhandlingtypesofExceptionhere 

line_no || similarity 

2479 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/Driver.java 

under_code:
errorMessage = "FAILED: Hive Internal Error: " + Utilities.getNameMessage(e);
 

ーーーーーーーーSearch the target string845ーーーーーーーーーーーーーーー
 
search_string:
 //todo:returnsjsonstring.shouldrecreateobjectfromit?
 
predict_string:
 //todo:returnsjsonstring.shouldrecreateobjectfromit? 

line_no || similarity 

459 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/jdbc/src/java/org/apache/hive/jdbc/HiveBaseResultSet.java 

under_code:
return value;
 

ーーーーーーーーSearch the target string846ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:inthesemethods,dowereallyneedtodeepcopy?
 
predict_string:
 //TODO:inthesemethods,dowereallyneedtodeepcopy? 

line_no || similarity 

1349 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClientPreCatalog.java 

under_code:
deepCopyPartitions(r.getPartitions(), result);
 

ーーーーーーーーSearch the target string847ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:numTasksToPreemptiscurrentlyalways1.
 
predict_string:
 //TODO:numTasksToPreemptiscurrentlyalways1. 

line_no || similarity 

1988 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskSchedulerService.java 

under_code:
preemptedTaskList = preemptTasksFromMap(speculativeTasks, forPriority, forVertex,
 

ーーーーーーーーSearch the target string848ーーーーーーーーーーーーーーー
 
search_string:
 //TODOOptimization:Addachecktoseeifthere'sanycapacityavailable.Nopointin
 
predict_string:
 //TODOOptimization:Addachecktoseeifthere'sanycapacityavailable.Nopointin 

line_no || similarity 

1761 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskSchedulerService.java 

under_code:
// walking through all active nodes, if they don't have potential capacity.
 

ーーーーーーーーSearch the target string849ーーーーーーーーーーーーーーー
 
search_string:
 //WaitawhileforexistingtaskstoterminateXXXthiswillwaitforever...:)
 
sub_line:
 //XXXthiswillwaitforever...:) 

frontremoved_sub_line:
 Xthiswillwaitforever...:) 

sub_line:
 while(!threadPool.awaitTermination(10,TimeUnit.SECONDS)){ 

frontremoved_sub_line:
 e(!threadPool.awaitTermination(10,TimeUnit.SECONDS)){ 

predict_string:
 //Waitawhileforexistingtaskstoterminate 

line_no || similarity 

369 || 0.7428571428571429 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/stats/BasicStatsNoJobTask.java 

under_code:
while (!threadPool.awaitTermination(10, TimeUnit.SECONDS)) {
 

ーーーーーーーーSearch the target string850ーーーーーーーーーーーーーーー
 
search_string:
 //todoreplacebelowwithjoda-time,whichsupportstimezone
 
predict_string:
 //todoreplacebelowwithjoda-time,whichsupportstimezone 

line_no || similarity 

510 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 

under_code:
if (expr.getType() == HiveParser.TOK_DATELITERAL) {
 

ーーーーーーーーSearch the target string851ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whyisthisinconsistentwithwhatwegetbynames?
 
predict_string:
 pm.retrieveAll(mparts);//TODO:whyisthisinconsistentwithwhatwegetbynames? 

line_no || similarity 

3391 || 0.8099173553719008 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ObjectStore.java 

under_code:
LOG.debug("Done retrieving all objects for getPartitionsViaOrmFilter");
 

ーーーーーーーーSearch the target string852ーーーーーーーーーーーーーーー
 
search_string:
 //Notimplemented.
 
predict_string:
 //Notimplemented. 

line_no || similarity 

225 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/common/src/java/org/apache/hadoop/hive/common/metrics/LegacyMetrics.java 

under_code:
}
 

ーーーーーーーーSearch the target string853ーーーーーーーーーーーーーーー
 
search_string:
 //TODOthisshouldbereturningaclassnotjustanint
 
predict_string:
 //TODOthisshouldbereturningaclassnotjustanint 

line_no || similarity 

399 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/shufflehandler/ShuffleHandler.java 

under_code:
DataInputByteBuffer in = new DataInputByteBuffer();
 

ーーーーーーーーSearch the target string854ーーーーーーーーーーーーーーー
 
search_string:
 //thereare2ormoredistincts,ordistinctisnotoncountTODO:maybethesamecount(distinctkey),count(distinctkey)TODO:dealwithduplicatecountdistinctkey
 
sub_line:
 //TODO:maybethesamecount(distinctkey),count(distinctkey) 

frontremoved_sub_line:
 DO:maybethesamecount(distinctkey),count(distinctkey) 

sub_line:
 //TODO:dealwithduplicatecountdistinctkey 

frontremoved_sub_line:
 DO:dealwithduplicatecountdistinctkey 

sub_line:
 return-1; 

frontremoved_sub_line:
 rn-1; 

predict_string:
 //thereare2ormoredistincts,ordistinctisnotoncount 

line_no || similarity 

159 || 0.5157894736842106 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/CountDistinctRewriteProc.java 

under_code:
return -1;
 

ーーーーーーーーSearch the target string855ーーーーーーーーーーーーーーー
 
search_string:
 //id-TODO:useanon-zeroindextocheckforoffseterrors.
 
predict_string:
 //id-TODO:useanon-zeroindextocheckforoffseterrors. 

line_no || similarity 

34 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/streaming/src/test/org/apache/hive/hcatalog/streaming/mutate/worker/TestBucketIdResolverImpl.java 

under_code:
private static final int[] BUCKET_COLUMN_INDEXES = new int[] { 0 };
 

ーーーーーーーーSearch the target string856ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#comment(String)}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#comment(String)}.ToberemovedinHive0.16. 

line_no || similarity 

322 || 0.9349112426035503 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public Builder comments(String comment) {
 

ーーーーーーーーSearch the target string857ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:pcneedtoenhancethiswithcomplexfieldsandgetType_allfunction
 
predict_string:
 //TODO:pcneedtoenhancethiswithcomplexfieldsandgetType_allfunction 

line_no || similarity 

1171 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java 

under_code:
@Test
 

ーーーーーーーーSearch the target string858ーーーーーーーーーーーーーーー
 
search_string:
 //Hiveaddsthesamemappingtwice...Iwishwecouldfixstufflikethat.
 
predict_string:
 //Hiveaddsthesamemappingtwice...Iwishwecouldfixstufflikethat. 

line_no || similarity 

404 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/RowResolver.java 

under_code:
if (existing == null) {
 

ーーーーーーーーSearch the target string859ーーーーーーーーーーーーーーー
 
search_string:
 //todo:thisshouldbemovedtobeaninnerclassofReaderWriteasthatistheonlyplaceitisused
 
sub_line:
 //isused 

frontremoved_sub_line:
 used 

sub_line:
 publicstaticfinalbyteNULL=1; 

frontremoved_sub_line:
 icstaticfinalbyteNULL=1; 

predict_string:
 //todo:thisshouldbemovedtobeaninnerclassofReaderWriteasthatistheonlyplaceit 

line_no || similarity 

40 || 0.9615384615384616 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/core/src/main/java/org/apache/hive/hcatalog/data/DataType.java 

under_code:
public static final byte NULL = 1;
 

ーーーーーーーーSearch the target string860ーーーーーーーーーーーーーーー
 
search_string:
 //HarFileSystemhasabugwherethismethoddoesnotworkproperlyiftheunderlyingFSisHDFS.SeeMAPREDUCE-1877formoreinformation.ThismethodisfromFileSystem.
 
sub_line:
 //iftheunderlyingFSisHDFS.SeeMAPREDUCE-1877formore 

frontremoved_sub_line:
 theunderlyingFSisHDFS.SeeMAPREDUCE-1877formore 

sub_line:
 //information.ThismethodisfromFileSystem. 

frontremoved_sub_line:
 formation.ThismethodisfromFileSystem. 

sub_line:
 FileStatusstatus=getFileStatus(f); 

frontremoved_sub_line:
 Statusstatus=getFileStatus(f); 

predict_string:
 //HarFileSystemhasabugwherethismethoddoesnotworkproperly 

line_no || similarity 

47 || 0.5628140703517588 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/shims/common/src/main/java/org/apache/hadoop/hive/shims/HiveHarFileSystem.java 

under_code:
FileStatus status = getFileStatus(f);
 

ーーーーーーーーSearch the target string861ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Cleanup/refactorassumptions
 
predict_string:
 //TODO:Cleanup/refactorassumptions 

line_no || similarity 

957 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/HiveGBOpConvUtil.java 

under_code:
boolean includeGrpSetInGBDesc = (gbInfo.grpSets.size() > 0)
 

ーーーーーーーーSearch the target string862ーーーーーーーーーーーーーーー
 
search_string:
 //TODOThisexecutorseemsunnecessary.HereandTezChild
 
predict_string:
 //TODOThisexecutorseemsunnecessary.HereandTezChild 

line_no || similarity 

215 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/daemon/impl/TaskRunnerCallable.java 

under_code:
executor = new StatsRecordingThreadPool(1, 1,
 

ーーーーーーーーSearch the target string863ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:VerifyGBhavingisnotaseperatefilter(ifsoweshouldn'tintroducederivedtable)
 
under_code:
None
 

ーーーーーーーーSearch the target string864ーーーーーーーーーーーーーーー
 
search_string:
 /*ThisistheTestPerformanceCliDriverforintegratingperformanceregressiontestsaspartoftheHiveUnittests.Currentlythisincludessupportfor:1.RunningexplainplansforTPCDSworkload(non-partitioneddataset)on30TBscaleset.TODO:1.Supportforpartitioneddataset2.UseHBaseMetastoreinsteadofDerbyThissuitediffersfromTestCliDriverw.r.tthefactthatwemodifytheunderlyingmetastoredatabasetoreflectthedatasetbeforerunningthequeries.*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string865ーーーーーーーーーーーーーーー
 
search_string:
 //Hacknote-differentsplitstrategiesreturndifferentlytypedlists,yayJava.Thisworkspurelybymagic,becauseweknowwhichstrategyproduceswhichtype.
 
sub_line:
 //Thisworkspurelybymagic,becauseweknowwhichstrategyproduceswhichtype. 

frontremoved_sub_line:
 isworkspurelybymagic,becauseweknowwhichstrategyproduceswhichtype. 

sub_line:
 if(splitStrategyinstanceofETLSplitStrategy){ 

frontremoved_sub_line:
 plitStrategyinstanceofETLSplitStrategy){ 

predict_string:
 //Hacknote-differentsplitstrategiesreturndifferentlytypedlists,yayJava. 

line_no || similarity 

1820 || 0.6794258373205742 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcInputFormat.java 

under_code:
if (splitStrategy instanceof ETLSplitStrategy) {
 

ーーーーーーーーSearch the target string866ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:deriveExplainAttributesshouldbecalledhere,codeistoofragiletomoveitaround.
 
predict_string:
 //TODO:deriveExplainAttributesshouldbecalledhere,codeistoofragiletomoveitaround. 

line_no || similarity 

902 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java 

under_code:
if (task instanceof ConditionalTask) {
 

ーーーーーーーーSearch the target string867ーーーーーーーーーーーーーーー
 
search_string:
 /**Storesbinarykey/valueinsortedmannertogettop-nkey/value*TODO:renametoTopNHeap?*/
 
sub_line:
 *TODO:renametoTopNHeap? 

frontremoved_sub_line:
 O:renametoTopNHeap? 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 publicclassTopNHash{ 

frontremoved_sub_line:
 icclassTopNHash{ 

predict_string:
 *Storesbinarykey/valueinsortedmannertogettop-nkey/value 

line_no || similarity 

43 || 0.8029197080291971 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/TopNHash.java 

under_code:
public class TopNHash {
 

ーーーーーーーーSearch the target string868ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:isNullisnotupdated;whichmightcauseproblems
 
predict_string:
 //FIXME:isNullisnotupdated;whichmightcauseproblems 

line_no || similarity 

311 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorHashKeyWrapper.java 

under_code:
@Deprecated
 

ーーーーーーーーSearch the target string869ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ShouldweusegrpbyExprNDesc.getTypeInfo()?whatifexprisUDF
 
sub_line:
 //UDF 

frontremoved_sub_line:
 F 

sub_line:
 inti=gbExprNDescLst.size(); 

frontremoved_sub_line:
 =gbExprNDescLst.size(); 

predict_string:
 //TODO:ShouldweusegrpbyExprNDesc.getTypeInfo()?whatifexpris 

line_no || similarity 

3493 || 0.9752066115702479 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/CalcitePlanner.java 

under_code:
int i = gbExprNDescLst.size();
 

ーーーーーーーーSearch the target string870ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:weshouldreallyprobablythrow.Keeptheexistinglogicfornow.
 
predict_string:
 //TODO:weshouldreallyprobablythrow.Keeptheexistinglogicfornow. 

line_no || similarity 

2078 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java 

under_code:
LOG.warn("Skipping unknown directory " + dirName
 

ーーーーーーーーSearch the target string871ーーーーーーーーーーーーーーー
 
search_string:
 /**It'scolumnlevelParquetreaderwhichisusedtoreadabatchofrecordsforalistcolumn.*TODOCurrentlyListtypeonlysupportnonnestedcase.*/
 
sub_line:
 *TODOCurrentlyListtypeonlysupportnonnestedcase. 

frontremoved_sub_line:
 OCurrentlyListtypeonlysupportnonnestedcase. 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 publicclassVectorizedListColumnReaderextendsBaseVectorizedColumnReader{ 

frontremoved_sub_line:
 icclassVectorizedListColumnReaderextendsBaseVectorizedColumnReader{ 

predict_string:
 *It'scolumnlevelParquetreaderwhichisusedtoreadabatchofrecordsforalistcolumn. 

line_no || similarity 

36 || 0.7487684729064039 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/vector/VectorizedListColumnReader.java 

under_code:
public class VectorizedListColumnReader extends BaseVectorizedColumnReader {
 

ーーーーーーーーSearch the target string872ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:notclearwhywedon'tdotherestofthecleanupifdagClientisnotcreated.E.g.jobClosewillbecalledifwefailafterdagClientcreationbutnobefore...
 
sub_line:
 //E.g.jobClosewillbecalledifwefailafterdagClientcreationbutnobefore... 

frontremoved_sub_line:
 g.jobClosewillbecalledifwefailafterdagClientcreationbutnobefore... 

sub_line:
 //DagClientassuchshouldhavenobearingonjobClose. 

frontremoved_sub_line:
 gClientassuchshouldhavenobearingonjobClose. 

predict_string:
 //TODO:notclearwhywedon'tdotherestofthecleanupifdagClientisnotcreated. 

line_no || similarity 

311 || 0.6730769230769231 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezTask.java 

under_code:
//       DagClient as such should have no bearing on jobClose.
 

ーーーーーーーーSearch the target string873ーーーーーーーーーーーーーーー
 
search_string:
 //TODOHIVE-16862:Implementasimilarfeaturelike"hive.tez.dynamic.semijoin.reduction"inhiveonspark
 
predict_string:
 //TODOHIVE-16862:Implementasimilarfeaturelike"hive.tez.dynamic.semijoin.reduction"inhiveonspark 

line_no || similarity 

155 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/DynamicPartitionPruningOptimization.java 

under_code:
semiJoin = false;
 

ーーーーーーーーSearch the target string874ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Currentlywedonotexposeanyruntimeinfofornon-streamingtables.Infutureextendthisaddmoreinformationregardingtablestatus.e.g.Totalsizeofsegmentsindruid,loadstatusoftableonhistoricalnodesetc.
 
sub_line:
 //Infutureextendthisaddmoreinformationregardingtablestatus. 

frontremoved_sub_line:
 futureextendthisaddmoreinformationregardingtablestatus. 

sub_line:
 //e.g.Totalsizeofsegmentsindruid,loadstatusoftableonhistoricalnodesetc. 

frontremoved_sub_line:
 g.Totalsizeofsegmentsindruid,loadstatusoftableonhistoricalnodesetc. 

sub_line:
 returnnull; 

frontremoved_sub_line:
 rnnull; 

predict_string:
 //TODO:Currentlywedonotexposeanyruntimeinfofornon-streamingtables. 

line_no || similarity 

1135 || 0.5116279069767442 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/druid-handler/src/java/org/apache/hadoop/hive/druid/DruidStorageHandler.java 

under_code:
return null;
 

ーーーーーーーーSearch the target string875ーーーーーーーーーーーーーーー
 
search_string:
 //Thisisratherobscure.Theendoflastrowcachedispreciselyatthesplitendoffset.Ifthesplitisinthemiddleofthefile,LRRwouldreadonemorerowafterthat,thereforeasunfortunateasitis,wehavetodoaone-rowread.However,forthattohavehappened,someoneshouldhavesuppliedasplitthatendsinsidethelastrow,i.e.afewbytesearlierthanthecurrentsplit,whichisprettyunlikely.Whatismorelikelyisthatthesplit,andthelastrow,bothendattheendoffile.Checkforthis.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string876ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisshouldalsohappenonanyerror.Rightnowthistaskwilljustfail.
 
predict_string:
 //TODO:thisshouldalsohappenonanyerror.Rightnowthistaskwilljustfail. 

line_no || similarity 

131 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/stats/BasicStatsTask.java 

under_code:
StatsSetupConst.setBasicStatsState(parameters, StatsSetupConst.FALSE);
 

ーーーーーーーーSearch the target string877ーーーーーーーーーーーーーーー
 
search_string:
 //TODOnullcanalsomeanthatthisoperationwasinterrupted.Shouldwereallytrytore-createthesessioninthatcase?
 
predict_string:
 //TODOnullcanalsomeanthatthisoperationwasinterrupted.Shouldwereallytrytore-createthesessioninthatcase? 

line_no || similarity 

361 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezTask.java 

under_code:
if (client == null) {
 

ーーーーーーーーSearch the target string878ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ShouldwewaitfortheentrytoactuallybedeletedfromHDFS?Wouldhavetopollthereadercount,waitingforittoreach0,atwhichpointcleanupshouldoccur.
 
sub_line:
 //pollthereadercount,waitingforittoreach0,atwhichpointcleanupshouldoccur. 

frontremoved_sub_line:
 llthereadercount,waitingforittoreach0,atwhichpointcleanupshouldoccur. 

sub_line:
 if(hasSpaceForCacheEntry(entry,size)){ 

frontremoved_sub_line:
 asSpaceForCacheEntry(entry,size)){ 

predict_string:
 //TODO:ShouldwewaitfortheentrytoactuallybedeletedfromHDFS?Wouldhaveto 

line_no || similarity 

835 || 0.6602870813397129 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/cache/results/QueryResultsCache.java 

under_code:
if (hasSpaceForCacheEntry(entry, size)) {
 

ーーーーーーーーSearch the target string879ーーーーーーーーーーーーーーー
 
search_string:
 //FIXMEforctasthisisstillneededbecauselocationisnotsetsometimes
 
predict_string:
 //FIXMEforctasthisisstillneededbecauselocationisnotsetsometimes 

line_no || similarity 

123 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/StatsTask.java 

under_code:
if (tbl.getSd().getLocation() == null) {
 

ーーーーーーーーSearch the target string880ーーーーーーーーーーーーーーー
 
search_string:
 //TODOConsolidatethiscodewithTezChild.
 
predict_string:
 //TODOConsolidatethiscodewithTezChild. 

line_no || similarity 

224 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/daemon/impl/TaskRunnerCallable.java 

under_code:
runtimeWatch.start();
 

ーーーーーーーーSearch the target string881ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:isthischeckevenneededgivenwhatthecallerchecks?
 
predict_string:
 //TODO:isthischeckevenneededgivenwhatthecallerchecks? 

line_no || similarity 

718 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/daemon/impl/TaskExecutorService.java 

under_code:
if (!enablePreemption || preemptionQueue.isEmpty()) {
 

ーーーーーーーーSearch the target string882ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:filepathsinstringsshouldbechangedtoeitherFileorPath...anythingbutString
 
predict_string:
 //FIXME:filepathsinstringsshouldbechangedtoeitherFileorPath...anythingbutString 

line_no || similarity 

56 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/util/src/main/java/org/apache/hadoop/hive/cli/control/AbstractCliConfig.java 

under_code:
private String resultsDirectory;
 

ーーーーーーーーSearch the target string883ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whyis"&&!isAcidIUDoperation"neededhere?
 
predict_string:
 //TODO:whyis"&&!isAcidIUDoperation"neededhere? 

line_no || similarity 

1803 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java 

under_code:
if (!isTxnTable && ((loadFileType == LoadFileType.REPLACE_ALL) || (oldPart == null && !isAcidIUDoperation))) {
 

ーーーーーーーーSearch the target string884ーーーーーーーーーーーーーーー
 
search_string:
 //Getallsimplefieldsforpartitionsandrelatedobjects,whichwecanmapone-on-one.Wewilldothisin2queriestousedifferentexistingindicesforeachone.WedonotgettableandDBname,assumingtheyarethesameasweareusingtofilter.TODO:Wemightwanttotunetheindexesinstead.WithcurrentonesMySQLperformspoorly,esp.with'orderby'w/oindexonlargetables,evenifthenumberofactualresultsissmall(querythatreturns8outof32kpartitionscango4sec.to0sec.byjustaddinga\"PART_ID\"IN(...)filterthatdoesn'taltertheresultstoit,probably
 
under_code:
too long.
 

ーーーーーーーーSearch the target string885ーーーーーーーーーーーーーーー
 
search_string:
 //Tezsessionreliesonathreadlocalforopen...Ifweareonsomenon-sessionthread,justusethesameSessionStateweusedfortheinitialsessions.Technically,giventhatallpoolsessionsareinitiallybasedonthisstate,shoudln'twealsosetthisatalltimesandnotrelyonanexternalsessionstuff?WeshouldprobablyjustgetridofthethreadlocalusageinTezSessionState.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string886ーーーーーーーーーーーーーーー
 
search_string:
 //hiveinputformatdoesn'thandlethespecialconditionofnopaths+1splitcorrectly.
 
sub_line:
 //splitcorrectly. 

frontremoved_sub_line:
 litcorrectly. 

sub_line:
 inpFormat=CombineHiveInputFormat.class.getName(); 

frontremoved_sub_line:
 ormat=CombineHiveInputFormat.class.getName(); 

predict_string:
 //hiveinputformatdoesn'thandlethespecialconditionofnopaths+1 

line_no || similarity 

241 || 0.8888888888888888 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/DagUtils.java 

under_code:
inpFormat = CombineHiveInputFormat.class.getName();
 

ーーーーーーーーSearch the target string887ーーーーーーーーーーーーーーー
 
search_string:
 //notexternalitself.Isthatthecase?Why?
 
predict_string:
 //notexternalitself.Isthatthecase?Why? 

line_no || similarity 

636 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/ImportSemanticAnalyzer.java 

under_code:
{
 

ーーーーーーーーSearch the target string888ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisisastopgapfix.WereallyneedtochangeallmappingsbyuniquenodeID,oratleast(inthiscase)trackthelatestuniqueIDforLlapNodeandretryall
 
sub_line:
 //oratleast(inthiscase)trackthelatestuniqueIDforLlapNodeandretryall 

frontremoved_sub_line:
 atleast(inthiscase)trackthelatestuniqueIDforLlapNodeandretryall 

sub_line:
 //older-nodetasksproactively.Fornowlettheheartbeatsfailthem. 

frontremoved_sub_line:
 der-nodetasksproactively.Fornowlettheheartbeatsfailthem. 

predict_string:
 //TODO:thisisastopgapfix.WereallyneedtochangeallmappingsbyuniquenodeID, 

line_no || similarity 

729 || 0.6859903381642513 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskCommunicator.java 

under_code:
//       older-node tasks proactively. For now let the heartbeats fail them.
 

ーーーーーーーーSearch the target string889ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:druidstoragehandlerreliesonquery.idtomaintainsomestagingdirectoriesexposequeryidtosessionlevel
 
sub_line:
 //exposequeryidtosessionlevel 

frontremoved_sub_line:
 posequeryidtosessionlevel 

sub_line:
 if(hiveConf!=null){ 

frontremoved_sub_line:
 iveConf!=null){ 

predict_string:
 //FIXME:druidstoragehandlerreliesonquery.idtomaintainsomestagingdirectories 

line_no || similarity 

212 || 0.847457627118644 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/QueryState.java 

under_code:
if (hiveConf != null) {
 

ーーーーーーーーSearch the target string890ーーーーーーーーーーーーーーー
 
search_string:
 //TODO-weneedtospeedthisupforthenormalpathwhereallpartitionsareunderthetableandwedon'thavetostateverypartition
 
sub_line:
 //thetableandwedon'thavetostateverypartition 

frontremoved_sub_line:
 etableandwedon'thavetostateverypartition 

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 firePreEvent(newPreDropPartitionEvent(tbl,part,deleteData,this)); 

frontremoved_sub_line:
 PreEvent(newPreDropPartitionEvent(tbl,part,deleteData,this)); 

predict_string:
 //TODO-weneedtospeedthisupforthenormalpathwhereallpartitionsareunder 

line_no || similarity 

4318 || 0.7640449438202247 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 

under_code:
firePreEvent(new PreDropPartitionEvent(tbl, part, deleteData, this));
 

ーーーーーーーーSearch the target string891ーーーーーーーーーーーーーーー
 
search_string:
 //ifthisfunctionisfrequentlyused,weneedtooptimizethis.
 
predict_string:
 //ifthisfunctionisfrequentlyused,weneedtooptimizethis. 

line_no || similarity 

1659 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/common/src/java/org/apache/hadoop/hive/common/type/Decimal128.java 

under_code:
return Float.parseFloat(toFormalString());
 

ーーーーーーーーSearch the target string892ーーーーーーーーーーーーーーー
 
search_string:
 //Thisisuglyintwoways...1)WeassumethatLlapWrappableInputFormatInterfacehasNullWritableasfirstparameter.SinceweareusingJavaandnot,say,aprogramminglanguage,there'snowaytocheck.2)Weignorethefactthat2ndargiscompletelyincompatible(VRB->Writable),becausevectorizationcurrentlyworksbymagic,gettingVRBfromIFwithnon-VRBvalueparam.Sowejustcastblindlyandhopeforthebest(whichisobviouslywhathappens).
 
under_code:
too long.
 

ーーーーーーーーSearch the target string893ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:twopossibleimprovements1)Rightnowwekillallthequerieshere;wecouldjustkill-qpDelta.2)Afterthequeriesarekilledqueuedquerieswouldtaketheirplace.Ifwecouldsomehowrestartquerieswecouldinsteadputthematthefront
 
under_code:
too long.
 

ーーーーーーーーSearch the target string894ーーーーーーーーーーーーーーー
 
search_string:
 //Thismethodisinefficient.It'sonlyusedwhensomethingcrossesbufferboundaries.
 
predict_string:
 //Thismethodisinefficient.It'sonlyusedwhensomethingcrossesbufferboundaries. 

line_no || similarity 

168 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/serde/src/java/org/apache/hadoop/hive/serde2/WriteBuffers.java 

under_code:
ponderNextBufferToRead(readPos);
 

ーーーーーーーーSearch the target string895ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whydoesn'tthischeckclassnameratherthantoString?
 
predict_string:
 //TODO:whydoesn'tthischeckclassnameratherthantoString? 

line_no || similarity 

5365 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 

under_code:
String sh = tbl.getStorageHandler().toString();
 

ーーーーーーーーSearch the target string896ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ModifyThriftIDLtogenerateexportstageifneeded
 
predict_string:
 //TODO:ModifyThriftIDLtogenerateexportstageifneeded 

line_no || similarity 

70 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/ExportTask.java 

under_code:
return StageType.REPL_DUMP;
 

ーーーーーーーーSearch the target string897ーーーーーーーーーーーーーーー
 
search_string:
 //Workaroundfortestingsincetestscan'tsettheenvvars.
 
predict_string:
 //Workaroundfortestingsincetestscan'tsettheenvvars. 

line_no || similarity 

1247 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/conf/MetastoreConf.java 

under_code:
path = System.getProperty(TEST_ENV_WORKAROUND + envVar);
 

ーーーーーーーーSearch the target string898ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thememoryreleasecouldbeoptimized-wecouldreleaseoriginalbuffersafterwearefullydonewitheachoriginalbufferfromdisk.Fornowreleaseallattheend;itdoesn'tincreasethetotalamountofmemorywehold,justthedurationabit.Thisismuchsimpler-wecanjustrememberoriginalrangesafterreadingthem,andreleasethemattheend.Inafewcaseswhereit'seasytodeterminethatabuffercanbefreedinadvance,weremoveitfromthemap.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string899ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:perhapsaddcountersforseparatethingsandmultiplebuffercases.
 
predict_string:
 //TODO:perhapsaddcountersforseparatethingsandmultiplebuffercases. 

line_no || similarity 

133 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/metadata/MetadataCache.java 

under_code:
sb.append("\nMetadata cache state: ").append(metadata.size()).append(
 

ーーーーーーーーSearch the target string900ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thismightonlybeapplicabletoTezSessionPoolManager;trymovingitthere?
 
predict_string:
 //TODO:thismightonlybeapplicabletoTezSessionPoolManager;trymovingitthere? 

line_no || similarity 

263 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionPool.java 

under_code:
newSession.getConf().set(TezConfiguration.TEZ_QUEUE_NAME, queueName);
 

ーーーーーーーーSearch the target string901ーーーーーーーーーーーーーーー
 
search_string:
 //TODOCAT-anumberoftheseneedtobeupdated.Don'tbotherwithdeprecatedmethodsasthisisjustaninternalclass.Waituntilwe'rereadytomoveallthecatalogstuffupintoql.
 
sub_line:
 //thisisjustaninternalclass.Waituntilwe'rereadytomoveallthecatalogstuffup 

frontremoved_sub_line:
 isisjustaninternalclass.Waituntilwe'rereadytomoveallthecatalogstuffup 

sub_line:
 //intoql. 

frontremoved_sub_line:
 toql. 

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 @Override 

frontremoved_sub_line:
 rride 

predict_string:
 //TODOCAT-anumberoftheseneedtobeupdated.Don'tbotherwithdeprecatedmethodsas 

line_no || similarity 

106 || 0.6548672566371682 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/metadata/SessionHiveMetaStoreClient.java 

under_code:
@Override
 

ーーーーーーーーSearch the target string902ーーーーーーーーーーーーーーー
 
search_string:
 //incaseofouterjoins,weneedtopullinrecordsfromthesideswestillneedtoproduceoutputforapartfromthebigtable.fore.g.fullouterjoinTODO:thisreproducesthelogicoftheloopthatwasherebefore,assuming
 
sub_line:
 //needtoproduceoutputforapartfromthebigtable.fore.g.fullouterjoin 

frontremoved_sub_line:
 edtoproduceoutputforapartfromthebigtable.fore.g.fullouterjoin 

sub_line:
 //TODO:thisreproducesthelogicoftheloopthatwasherebefore,assuming 

frontremoved_sub_line:
 DO:thisreproducesthelogicoftheloopthatwasherebefore,assuming 

sub_line:
 //firstFetchHappened==true.InrealityitalmostalwayscallsjoinOneGroup.Fixit? 

frontremoved_sub_line:
 rstFetchHappened==true.InrealityitalmostalwayscallsjoinOneGroup.Fixit? 

predict_string:
 //incaseofouterjoins,weneedtopullinrecordsfromthesideswestill 

line_no || similarity 

469 || 0.4939271255060729 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/CommonMergeJoinOperator.java 

under_code:
// firstFetchHappened == true. In reality it almost always calls joinOneGroup. Fix it?
 

ーーーーーーーーSearch the target string903ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:notclearwhythischeckandskipSeekareneeded.
 
predict_string:
 //TODO:notclearwhythischeckandskipSeekareneeded. 

line_no || similarity 

281 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/encoded/EncodedTreeReaderFactory.java 

under_code:
if (_dataStream != null && _dataStream.available() > 0) {
 

ーーーーーーーーSearch the target string904ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:isthisasafeassumption(namecollision,externalnames...)
 
predict_string:
 //TODO:isthisasafeassumption(namecollision,externalnames...) 

line_no || similarity 

312 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/HiveOpConverter.java 

under_code:
SelectDesc sd = new SelectDesc(exprCols, exprNames);
 

ーーーーーーーーSearch the target string905ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:CastFunctioninCalcitehaveabugwhereitinfertypeoncastthrows
 
predict_string:
 //TODO:CastFunctioninCalcitehaveabugwhereitinfertypeoncastthrows 

line_no || similarity 

355 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/RexNodeConverter.java 

under_code:
// an exception
 

ーーーーーーーーSearch the target string906ーーーーーーーーーーーーーーー
 
search_string:
 //@TODOFIXthis,weactuallydonotneedthisanymore,
 
predict_string:
 //@TODOFIXthis,weactuallydonotneedthisanymore, 

line_no || similarity 

2779 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/CalcitePlanner.java 

under_code:
// in addition to that Druid allow numeric dimensions now so this check is not accurate
 

ーーーーーーーーSearch the target string907ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#getTableName()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#getTableName()}.ToberemovedinHive0.16. 

line_no || similarity 

102 || 0.9341317365269461 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public String getTableName() {
 

ーーーーーーーーSearch the target string908ーーーーーーーーーーーーーーー
 
search_string:
 //BasedonUserGroupInformation::createProxyUser.TODO:useapropermethodafterwecandependonHADOOP-13081.
 
sub_line:
 //TODO:useapropermethodafterwecandependonHADOOP-13081. 

frontremoved_sub_line:
 DO:useapropermethodafterwecandependonHADOOP-13081. 

sub_line:
 if(getSubjectMethod==null){ 

frontremoved_sub_line:
 etSubjectMethod==null){ 

predict_string:
 //BasedonUserGroupInformation::createProxyUser. 

line_no || similarity 

1418 || 0.6438356164383562 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/shims/0.23/src/main/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java 

under_code:
if (getSubjectMethod == null) {
 

ーーーーーーーーSearch the target string909ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:isn'tthereapriorimplofanisDirectoryutilityPathFiltersousersdon'thavetowritetheirown?
 
predict_string:
 //TODO:isn'tthereapriorimplofanisDirectoryutilityPathFiltersousersdon'thavetowritetheirown? 

line_no || similarity 

408 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/EximUtil.java 

under_code:
return new PathFilter() {
 

ーーーーーーーーSearch the target string910ーーーーーーーーーーーーーーー
 
search_string:
 //getridoftrivialcasefirst,sothatwecansafelyassumenon-null
 
predict_string:
 returnfalse;//getridoftrivialcasefirst,sothatwecansafelyassumenon-null 

line_no || similarity 

45 || 0.90625 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/repl/HCatReplicationTaskIterator.java 

under_code:
}
 

ーーーーーーーーSearch the target string911ーーーーーーーーーーーーーーー
 
search_string:
 //getthetmpURIpath;itwillbeahdfspathifnotlocalmodeTODO[MMgap?]:thisdoesn'twork,howeverthisisMRonly.Thepathforwriterandreadermismatch:Dumptheside-tablefortag...-local-10004/HashTable-Stage-1/MapJoin-a-00-(ds%3D2008-04-08)mm_2.hashtableLoadback1hashtablefile-local-10004/HashTable-Stage-1/MapJoin-a-00-srcsortbucket3outof4.txt.hashtable
 
under_code:
too long.
 

ーーーーーーーーSearch the target string912ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisduplicatesamethodinORC,butthemethodshouldactuallybehere.
 
predict_string:
 //TODO:thisduplicatesamethodinORC,butthemethodshouldactuallybehere. 

line_no || similarity 

67 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/storage-api/src/java/org/apache/hadoop/hive/common/io/DiskRangeList.java 

under_code:
public final static String stringifyDiskRanges(DiskRangeList range) {
 

ーーーーーーーーSearch the target string913ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:willthisworkcorrectlywithACID?
 
predict_string:
 //TODO:willthisworkcorrectlywithACID? 

line_no || similarity 

622 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/api/impl/LlapRecordReader.java 

under_code:
boolean[] readerIncludes = OrcInputFormat.genIncludedColumns(
 

ーーーーーーーーSearch the target string914ーーーーーーーーーーーーーーー
 
search_string:
 //filtercolumnsmayhave-1asindexwhichcouldbepartitioncolumninSARG.TODO:shouldthisthenbe>=?
 
sub_line:
 //TODO:shouldthisthenbe>=? 

frontremoved_sub_line:
 DO:shouldthisthenbe>=? 

sub_line:
 if(i>0){ 

frontremoved_sub_line:
 >0){ 

predict_string:
 //filtercolumnsmayhave-1asindexwhichcouldbepartitioncolumninSARG. 

line_no || similarity 

310 || 0.8441558441558441 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/OrcEncodedDataReader.java 

under_code:
if (i > 0) {
 

ーーーーーーーーSearch the target string915ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisinterfaceisugly.Thetwoimplementationsaresofarapartfeature-wise
 
predict_string:
 //TODO:thisinterfaceisugly.Thetwoimplementationsaresofarapartfeature-wise 

line_no || similarity 

1461 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/SerDeEncodedDataReader.java 

under_code:
//       after all the perf changes that we might was well hardcode them separately.
 

ーーーーーーーーSearch the target string916ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#linesTerminatedBy()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#linesTerminatedBy()}.ToberemovedinHive0.16. 

line_no || similarity 

407 || 0.9378531073446328 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public Builder linesTerminatedBy(char delimiter) {
 

ーーーーーーーーSearch the target string917ーーーーーーーーーーーーーーー
 
search_string:
 //validateisfalsebydefaultifweenabletheconstraintTODO:AconstraintlikeNOTNULLcouldbeenabledusingALTERbutVALIDATEremainsfalseinsuchcases.IdeallyVALIDATEshouldbesettotruetovalidateexistingdata
 
sub_line:
 //TODO:AconstraintlikeNOTNULLcouldbeenabledusingALTERbutVALIDATEremains 

frontremoved_sub_line:
 DO:AconstraintlikeNOTNULLcouldbeenabledusingALTERbutVALIDATEremains 

sub_line:
 //falseinsuchcases.IdeallyVALIDATEshouldbesettotruetovalidateexistingdata 

frontremoved_sub_line:
 lseinsuchcases.IdeallyVALIDATEshouldbesettotruetovalidateexistingdata 

sub_line:
 validate=false; 

frontremoved_sub_line:
 date=false; 

predict_string:
 //validateisfalsebydefaultifweenabletheconstraint 

line_no || similarity 

1012 || 0.4117647058823529 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java 

under_code:
validate = false;
 

ーーーーーーーーSearch the target string918ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisneedstobeenhancedoncechangemanagementbasedfilesystemisimplemented
 
predict_string:
 //TODO:thisneedstobeenhancedoncechangemanagementbasedfilesystemisimplemented 

line_no || similarity 

355 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ReplChangeManager.java 

under_code:
// Currently using fileuri#checksum#cmrooturi#subdirs as the format
 

ーーーーーーーーSearch the target string919ーーーーーーーーーーーーーーー
 
search_string:
 //todo:itwouldbenicetocheckthecontentsofthefiles...coulduseorc.FileDump-ithasmethodstoprinttoasuppliedstreambutthosearepackageprivate
 
sub_line:
 //methodstoprinttoasuppliedstreambutthosearepackageprivate 

frontremoved_sub_line:
 thodstoprinttoasuppliedstreambutthosearepackageprivate 

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 runStatementOnDriver("altertablenobucketscompact'major'"); 

frontremoved_sub_line:
 tatementOnDriver("altertablenobucketscompact'major'"); 

predict_string:
 //todo:itwouldbenicetocheckthecontentsofthefiles...coulduseorc.FileDump-ithas 

line_no || similarity 

133 || 0.7333333333333333 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/TestTxnNoBuckets.java 

under_code:
runStatementOnDriver("alter table nobuckets compact 'major'");
 

ーーーーーーーーSearch the target string920ーーーーーーーーーーーーーーー
 
search_string:
 /**Whynonullandclasschecks?*WiththenewdesignaWindowingSpecmustcontainaWindowFunctionSpec.*todo:cleanupdatastructs.*/
 
sub_line:
 *WiththenewdesignaWindowingSpecmustcontainaWindowFunctionSpec. 

frontremoved_sub_line:
 hthenewdesignaWindowingSpecmustcontainaWindowFunctionSpec. 

sub_line:
 *todo:cleanupdatastructs. 

frontremoved_sub_line:
 o:cleanupdatastructs. 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 WindowFunctionSpecwFn=(WindowFunctionSpec)getWindowExpressions().get(0); 

frontremoved_sub_line:
 owFunctionSpecwFn=(WindowFunctionSpec)getWindowExpressions().get(0); 

predict_string:
 *Whynonullandclasschecks? 

line_no || similarity 

93 || 0.3546099290780142 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/WindowingSpec.java 

under_code:
WindowFunctionSpec wFn = (WindowFunctionSpec) getWindowExpressions().get(0);
 

ーーーーーーーーSearch the target string921ーーーーーーーーーーーーーーー
 
search_string:
 /**RWlockensureswehaveaconsistentviewofthefiledata,whichisimportantgiventhat*wegenerate"stripe"boundariesarbitrarily.Readingbufferdataitselfdoesn'trequire*thatthislockisheld;however,everythingelseinstripeslistdoes.*TODO:makemoregranular?Weonlycarethateachonereaderseesconsistentboundaries.*So,wecouldshallow-copythestripeslist,thenhaveindividuallocksinsideeach.*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string922ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:wtf?
 
predict_string:
 //TODO:wtf? 

line_no || similarity 

27 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/exec/persistence/TestHashPartition.java 

under_code:
HashPartition hashPartition = new HashPartition(1024, (float) 0.75, 524288, 1, true, null);
 

ーーーーーーーーSearch the target string923ーーーーーーーーーーーーーーー
 
search_string:
 //TODOAvoidreadingthisfromtheenvironment
 
predict_string:
 //TODOAvoidreadingthisfromtheenvironment 

line_no || similarity 

171 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskCommunicator.java 

under_code:
user = System.getenv(ApplicationConstants.Environment.USER.name());
 

ーーーーーーーーSearch the target string924ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:wewishwecouldcachetheHiveobject,butit'snotthreadsafe,andeachthreadlocalwe"cache"wouldneedtobereinitializedforeveryquery.ThisisahugePITA.Hiveobjectwillbecachedinternally,butthecompatcheckwillbedoneeverytimeinsideget().
 
under_code:
too long.
 

ーーーーーーーーSearch the target string925ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:canwemergeneighboringsplits?Sowedon'tinitsomanyreaders.
 
predict_string:
 //TODO:canwemergeneighboringsplits?Sowedon'tinitsomanyreaders. 

line_no || similarity 

807 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/SerDeEncodedDataReader.java 

under_code:
FileSplit sliceSplit = new FileSplit(split.getPath(), split.getStart(),
 

ーーーーーーーーSearch the target string926ーーーーーーーーーーーーーーー
 
search_string:
 //Don'tbreak!Wemightfindabettermatchlater.
 
predict_string:
 //Don'tbreak!Wemightfindabettermatchlater. 

line_no || similarity 

1275 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 

under_code:
} else {
 

ーーーーーーーーSearch the target string927ーーーーーーーーーーーーーーー
 
search_string:
 //Nostatsexistforthiskey;addanewobjecttothecacheTODO:getridofdeepCopyaftermakingsurecallersdon'tusereferences
 
sub_line:
 //TODO:getridofdeepCopyaftermakingsurecallersdon'tusereferences 

frontremoved_sub_line:
 DO:getridofdeepCopyaftermakingsurecallersdon'tusereferences 

sub_line:
 if(maxCacheSizeInBytes>0){ 

frontremoved_sub_line:
 axCacheSizeInBytes>0){ 

predict_string:
 //Nostatsexistforthiskey;addanewobjecttothecache 

line_no || similarity 

393 || 0.6114649681528662 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/cache/SharedCache.java 

under_code:
if (maxCacheSizeInBytes > 0) {
 

ーーーーーーーーSearch the target string928ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:inthecurrentimpl,triggersareaddedtoRP.Fortez,nopooltriggers(mappingbetweentriggernameandpoolname)willexistwhichmeansalltriggersappliestotez.ForLLAP,pooltriggershastoexistforattachingtriggerstospecificpools.Forusability,Provideawayfortriggerssharing/inheritancepossiblywithfollowingmodesONLY-onlytopoolINHERIT-childpoolsinheritfromparent
 
under_code:
too long.
 

ーーーーーーーーSearch the target string929ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Using0mightbewrong;mightneedtowalkdowntofindthe
 
predict_string:
 //TODO:Using0mightbewrong;mightneedtowalkdowntofindthe 

line_no || similarity 

400 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/PlanModifierForASTConv.java 

under_code:
// proper index of a dummy.
 

ーーーーーーーーSearch the target string930ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisshouldcomethroughRelBuildertotheconstructorasopposedto
 
predict_string:
 //TODO:thisshouldcomethroughRelBuildertotheconstructorasopposedto 

line_no || similarity 

183 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/reloperators/HiveProject.java 

under_code:
// set method. This requires calcite change
 

ーーーーーーーーSearch the target string931ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thecontainsmessagecheckisfragile,weshouldrefactorSemanticExceptiontobequeriableforerrorcode,andnotsimplyhaveamessageNOTE:IF_EXISTSmightalsowanttoinvokethis,butthere'sagoodpossibilitythatIF_EXISTSisstricterabouttableexistence,andappliesonlytotheptn.Therefore,ignoringIF_EXISTShere.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string932ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:wewerediscussinganiterinterface,andalsoaLazyTuplechangethiswhenplansforthatsolidifies.
 
sub_line:
 //changethiswhenplansforthatsolidifies. 

frontremoved_sub_line:
 angethiswhenplansforthatsolidifies. 

sub_line:
 returnt; 

frontremoved_sub_line:
 rnt; 

predict_string:
 //TODO:wewerediscussinganiterinterface,andalsoaLazyTuple 

line_no || similarity 

65 || 0.7516778523489933 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/hcatalog-pig-adapter/src/main/java/org/apache/hive/hcatalog/pig/HCatBaseLoader.java 

under_code:
return t;
 

ーーーーーーーーSearch the target string933ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:addmethodtoUDFBridgetosayifitisacastfunc
 
predict_string:
 //TODO:addmethodtoUDFBridgetosayifitisacastfunc 

line_no || similarity 

373 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/RexNodeConverter.java 

under_code:
if (sp >= 0 & (sp + 1) < udfClassName.length()) {
 

ーーーーーーーーSearch the target string934ーーーーーーーーーーーーーーー
 
search_string:
 //TODOUnregisterthetaskforstateupdates,whichcouldinturnunregisterthenode.
 
predict_string:
 //TODOUnregisterthetaskforstateupdates,whichcouldinturnunregisterthenode. 

line_no || similarity 

857 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskCommunicator.java 

under_code:
getContext().taskKilled(taskAttemptId,
 

ーーーーーーーーSearch the target string935ーーーーーーーーーーーーーーー
 
search_string:
 //Note:weassume0-lengthsplitiscorrectgivennowLRRinterpretsoffsets(readinganextrarow).Shouldweinsteadassume1+charsandadd1forisUnfortunate?
 
sub_line:
 //extrarow).Shouldweinsteadassume1+charsandadd1forisUnfortunate? 

frontremoved_sub_line:
 trarow).Shouldweinsteadassume1+charsandadd1forisUnfortunate? 

sub_line:
 FileSplitsplitPart=newFileSplit(split.getPath(),uncachedSuffixStart, 

frontremoved_sub_line:
 SplitsplitPart=newFileSplit(split.getPath(),uncachedSuffixStart, 

predict_string:
 //Note:weassume0-lengthsplitiscorrectgivennowLRRinterpretsoffsets(readingan 

line_no || similarity 

838 || 0.7075471698113207 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/SerDeEncodedDataReader.java 

under_code:
FileSplit splitPart = new FileSplit(split.getPath(), uncachedSuffixStart,
 

ーーーーーーーーSearch the target string936ーーーーーーーーーーーーーーー
 
search_string:
 //TODOMaybeaddtheYARNURLfortheapp.
 
predict_string:
 //TODOMaybeaddtheYARNURLfortheapp. 

line_no || similarity 

320 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/cli/LlapStatusServiceDriver.java 

under_code:
appStatusBuilder.setAmInfo(
 

ーーーーーーーーSearch the target string937ーーーーーーーーーーーーーーー
 
search_string:
 //Note:thisparticularbitwillnotworkforMMtables,astherecanbemultipledirectoriesfordifferentMMIDs.WecouldputthepathherethatwouldaccountforthecurrentMMIDbeingwritten,butitwillnotguaranteethatotherMMIDshavethecorrectbuckets.Theexistingcodediscardstheinferreddatawhenthe
 
under_code:
too long.
 

ーーーーーーーーSearch the target string938ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:nothavingaliasesforpathusuallymeanssomebug.Shoulditgiveup?
 
predict_string:
 //TODO:nothavingaliasesforpathusuallymeanssomebug.Shoulditgiveup? 

line_no || similarity 

94 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/ProjectionPusher.java 

under_code:
LOG.warn("Couldn't find aliases for " + splitPath);
 

ーーーーーーーーSearch the target string939ーーーーーーーーーーーーーーー
 
search_string:
 //TODOGetridofMapOutputInfoifpossible
 
predict_string:
 //TODOGetridofMapOutputInfoifpossible 

line_no || similarity 

870 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/shufflehandler/ShuffleHandler.java 

under_code:
MapOutputInfo outputInfo = new MapOutputInfo(pathInfo.dataPath, info);
 

ーーーーーーーーSearch the target string940ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisobjectiscreatedoncetocallonemethodandthenimmediatelydestroyed.Soit'sbasicallyjustaroundaboutwaytopassargumentstoastaticmethod.Simplify?
 
sub_line:
 //Soit'sbasicallyjustaroundaboutwaytopassargumentstoastaticmethod.Simplify? 

frontremoved_sub_line:
 it'sbasicallyjustaroundaboutwaytopassargumentstoastaticmethod.Simplify? 

sub_line:
 publicclassTableExport{ 

frontremoved_sub_line:
 icclassTableExport{ 

predict_string:
 //TODO:thisobjectiscreatedoncetocallonemethodandthenimmediatelydestroyed. 

line_no || similarity 

54 || 0.6666666666666666 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/TableExport.java 

under_code:
public class TableExport {
 

ーーーーーーーーSearch the target string941ーーーーーーーーーーーーーーー
 
search_string:
 //TODOThisshouldbepassedintheTaskAttemptContextinstead
 
predict_string:
 //TODOThisshouldbepassedintheTaskAttemptContextinstead 

line_no || similarity 

103 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/core/src/main/java/org/apache/hive/hcatalog/mapreduce/HCatRecordReader.java 

under_code:
dataSchema = hcatSplit.getDataSchema();
 

ーーーーーーーーSearch the target string942ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:useadifferentexceptiontype?
 
predict_string:
 //FIXME:useadifferentexceptiontype? 

line_no || similarity 

252 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/plan/mapper/PlanMapper.java 

under_code:
throw new IllegalArgumentException("Expected match count is 1; but got:" + all);
 

ーーーーーーーーSearch the target string943ーーーーーーーーーーーーーーー
 
search_string:
 /**Thisislittlecomplicated.Firstwelookforourownconfigvaluesonthis.Ifthose*aren'tsetweusetheHiveones.ButHivealsohasmultiplewaystodothis,soweneedto*lookinbothoftheirsaswell.Wecan'tusetheirsdirectlybecausetheywrapthe*codahalereportersintheirownandwedonot.*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string944ーーーーーーーーーーーーーーー
 
search_string:
 //TODOshouldreplacewithBytesWritable.copyData()onceHiveremovessupportfortheHadoop0.20series.
 
sub_line:
 //removessupportfortheHadoop0.20series. 

frontremoved_sub_line:
 movessupportfortheHadoop0.20series. 

sub_line:
 returnArrays.copyOf(sourceBw.getBytes(),sourceBw.getLength()); 

frontremoved_sub_line:
 rnArrays.copyOf(sourceBw.getBytes(),sourceBw.getLength()); 

predict_string:
 //TODOshouldreplacewithBytesWritable.copyData()onceHive 

line_no || similarity 

428 || 0.7482993197278912 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java 

under_code:
return Arrays.copyOf(sourceBw.getBytes(), sourceBw.getLength());
 

ーーーーーーーーSearch the target string945ーーーーーーーーーーーーーーー
 
search_string:
 //Iftheimportstatementspecifiedthatwe'reimportingtoanexternaltable,weseemtobedoingthefollowing:a)Wedon'tallowreplacementinanunpartitionedpre-existingtableb)Wedon'tallowreplacementinapartitionedpre-existingtablewherethattableisexternalTODO:Doesthissimplymeanwedon'tallowreplacementinexternaltablesiftheyalreadyexist?Ifso(i.e.thecheckissuperfluousandwrong),thiscanbeasimplercheck.Ifnot,thenwhatweseemtobesayingisthattheonlycaseweallowistoallowanIMPORTintoanEXTERNALtableinthestatement,ifadestinationpartitionedtableexists,solongasitisactually
 
under_code:
too long.
 

ーーーーーーーーSearch the target string946ーーーーーーーーーーーーーーー
 
search_string:
 //todo:handleInsertOverwriteaswell:HIVE-18154
 
predict_string:
 //todo:handleInsertOverwriteaswell:HIVE-18154 

line_no || similarity 

380 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DbTxnManager.java 

under_code:
return false;
 

ーーーーーーーーSearch the target string947ーーーーーーーーーーーーーーー
 
search_string:
 //TODOHIVE-15865:Includeinformationaboutpendingrequests,andlastallocationtimeonceYARNServiceprovidesthisinformation.
 
sub_line:
 //allocationtimeonceYARNServiceprovidesthisinformation. 

frontremoved_sub_line:
 locationtimeonceYARNServiceprovidesthisinformation. 

sub_line:
 break; 

frontremoved_sub_line:
 k; 

predict_string:
 //TODOHIVE-15865:Includeinformationaboutpendingrequests,andlast 

line_no || similarity 

570 || 0.7039106145251397 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/cli/LlapStatusServiceDriver.java 

under_code:
break;
 

ーーーーーーーーSearch the target string948ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Atthispointwedon'tknowtheslotnumberoftherequestedhost,socan'trollovertonextavailable
 
predict_string:
 //TODO:Atthispointwedon'tknowtheslotnumberoftherequestedhost,socan'trollovertonextavailable 

line_no || similarity 

1465 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskSchedulerService.java 

under_code:
if (requestedHostIdx == -1) {
 

ーーーーーーーーSearch the target string949ーーーーーーーーーーーーーーー
 
search_string:
 //willthisbetruehere?Don'tcreateanewobjectifwearealreadyoutofmemory
 
sub_line:
 //Don'tcreateanewobjectifwearealreadyoutofmemory 

frontremoved_sub_line:
 n'tcreateanewobjectifwearealreadyoutofmemory 

sub_line:
 throw(OutOfMemoryError)e; 

frontremoved_sub_line:
 w(OutOfMemoryError)e; 

predict_string:
 //willthisbetruehere? 

line_no || similarity 

133 || 0.4772727272727273 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/mr/ExecMapper.java 

under_code:
throw (OutOfMemoryError) e;
 

ーーーーーーーーSearch the target string950ーーーーーーーーーーーーーーー
 
search_string:
 //TODOReplacethiswithaExceptionHandler/ShutdownHook
 
predict_string:
 //TODOReplacethiswithaExceptionHandler/ShutdownHook 

line_no || similarity 

545 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/daemon/impl/LlapDaemon.java 

under_code:
LOG.error("Failed to start LLAP Daemon with exception", t);
 

ーーーーーーーーSearch the target string951ーーーーーーーーーーーーーーー
 
search_string:
 //NOTE:thiscanbecalledoutsideofHS2,withoutcallingsetupPool.Basicallyitshouldbeabletohandlenotbeinginitialized.Perhapsweshouldgetridoftheinstanceand
 
sub_line:
 //abletohandlenotbeinginitialized.Perhapsweshouldgetridoftheinstanceand 

frontremoved_sub_line:
 letohandlenotbeinginitialized.Perhapsweshouldgetridoftheinstanceand 

sub_line:
 //movethesetupPoolcodetoctor.Fornow,atleasthasInitialSessionswillbefalse. 

frontremoved_sub_line:
 vethesetupPoolcodetoctor.Fornow,atleasthasInitialSessionswillbefalse. 

predict_string:
 //NOTE:thiscanbecalledoutsideofHS2,withoutcallingsetupPool.Basicallyitshouldbe 

line_no || similarity 

229 || 0.6933333333333334 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionPoolManager.java 

under_code:
//       move the setupPool code to ctor. For now, at least hasInitialSessions will be false.
 

ーーーーーーーーSearch the target string952ーーーーーーーーーーーーーーー
 
search_string:
 /**RowResolverofouterquery.Thisisusedtoresolveco-rrelatedcolumnsinFilter*TODO:*thiscurrentlywillonlybeabletoresolvereferencetoparentquery'scolumn*thiswillnotworkforreferencestogrand-parentcolumn*/
 
sub_line:
 *TODO: 

frontremoved_sub_line:
 O: 

sub_line:
 *thiscurrentlywillonlybeabletoresolvereferencetoparentquery'scolumn 

frontremoved_sub_line:
 scurrentlywillonlybeabletoresolvereferencetoparentquery'scolumn 

sub_line:
 *thiswillnotworkforreferencestogrand-parentcolumn 

frontremoved_sub_line:
 swillnotworkforreferencestogrand-parentcolumn 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 privateRowResolverouterRR; 

frontremoved_sub_line:
 ateRowResolverouterRR; 

predict_string:
 *RowResolverofouterquery.Thisisusedtoresolveco-rrelatedcolumnsinFilter 

line_no || similarity 

41 || 0.5263157894736842 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckCtx.java 

under_code:
private RowResolver outerRR;
 

ーーーーーーーーSearch the target string953ーーーーーーーーーーーーーーー
 
search_string:
 //TODOusestripestatisticstojumpoverstripes
 
predict_string:
 //TODOusestripestatisticstojumpoverstripes 

line_no || similarity 

245 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcRawRecordMerger.java 

under_code:
recordReader = reader.rowsOptions(options, conf);
 

ーーーーーーーーSearch the target string954ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#fileFormat(String)}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#fileFormat(String)}.ToberemovedinHive0.16. 

line_no || similarity 

371 || 0.9371428571428572 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public Builder fileFormat(String format) {
 

ーーーーーーーーSearch the target string955ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Whyisthisneeded(doesn'trepresentanycols)
 
predict_string:
 //TODO:Whyisthisneeded(doesn'trepresentanycols) 

line_no || similarity 

723 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/HiveGBOpConvUtil.java 

under_code:
String udafName = SemanticAnalyzer.getColumnInternalName(reduceKeys.size());
 

ーーーーーーーーSearch the target string956ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisisinvalidforSMB.Keepthisfornowforlegacyreasons.Seetheotheroverload.
 
predict_string:
 //TODO:thisisinvalidforSMB.Keepthisfornowforlegacyreasons.Seetheotheroverload. 

line_no || similarity 

261 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorizedRowBatchCtx.java 

under_code:
MapWork mapWork = Utilities.getMapWork(hiveConf);
 

ーーーーーーーーSearch the target string957ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:fixthis
 
predict_string:
 //TODO:fixthis 

line_no || similarity 

1465 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestOrcFile.java 

under_code:
//    assertEquals(null,stats.getSum());
 

ーーーーーーーーSearch the target string958ーーーーーーーーーーーーーーー
 
search_string:
 //Thisprobablyshouldnothappen;butitdoes...atleastalsostoptheconsumer.
 
predict_string:
 //Thisprobablyshouldnothappen;butitdoes...atleastalsostoptheconsumer. 

line_no || similarity 

83 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/decode/EncodedDataConsumer.java 

under_code:
LlapIoImpl.LOG.error("decodeBatch threw", ex);
 

ーーーーーーーーSearch the target string959ーーーーーーーーーーーーーーー
 
search_string:
 //Thisseemslikeaverywrongimplementation.
 
predict_string:
 //Thisseemslikeaverywrongimplementation. 

line_no || similarity 

373 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/JsonMetaDataFormatter.java 

under_code:
private Map<String, Object> makeOneTablePartition(String partIdent)
 

ーーーーーーーーSearch the target string960ーーーーーーーーーーーーーーー
 
search_string:
 //todo:shouldmakeabortTxns()writesomethingintoTXNS.TXN_META_INFOaboutthis
 
predict_string:
 //todo:shouldmakeabortTxns()writesomethingintoTXNS.TXN_META_INFOaboutthis 

line_no || similarity 

968 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java 

under_code:
if (abortTxns(dbConn, Collections.singletonList(txnid), true) != 1) {
 

ーーーーーーーーSearch the target string961ーーーーーーーーーーーーーーー
 
search_string:
 //registryagainjustincase.TODO:maybeweshouldenforcethat.
 
predict_string:
 //registryagainjustincase.TODO:maybeweshouldenforcethat. 

line_no || similarity 

266 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionPool.java 

under_code:
configureAmRegistry(newSession);
 

ーーーーーーーーSearch the target string962ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:lossyconversion,distanceisconsideredsecondssimilartotimestamp
 
predict_string:
 return(l1-l2)>amt;//TODO:lossyconversion,distanceisconsideredsecondssimilartotimestamp 

line_no || similarity 

618 || 0.8831168831168831 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/udf/ptf/ValueBoundaryScanner.java 

under_code:
}
 

ーーーーーーーーSearch the target string963ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Thisisfraughtwithperil.
 
predict_string:
 //TODO:Thisisfraughtwithperil. 

line_no || similarity 

3708 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 

under_code:
if (input != colSrcRR) {
 

ーーーーーーーーSearch the target string964ーーーーーーーーーーーーーーー
 
search_string:
 //TODONotthebestwaytosharetheaddress
 
predict_string:
 //TODONotthebestwaytosharetheaddress 

line_no || similarity 

118 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/daemon/impl/LlapDaemon.java 

under_code:
private final AtomicReference<InetSocketAddress> srvAddress = new AtomicReference<>(),
 

ーーーーーーーーSearch the target string965ーーーーーーーーーーーーーーー
 
search_string:
 /**Thismapsasplit(path+offset)toanindexbasedonthenumberoflocationsprovided.**Iflocationsdonotchangeacrossjobs,theintentionistomapthesamesplittothesamenode.**Abigproblemiswhennodeschange(added,removed,temporarilyremovedandre-added)etc.Thatchanges*thenumberoflocations/positionoflocations-andwillcausethecachetobealmostcompletelyinvalidated.**TODO:SupportforconsistenthashingwhencombiningthesplitlocationgeneratorandtheServiceRegistry.**/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string966ーーーーーーーーーーーーーーー
 
search_string:
 //Thelistisempty.Toomanyconcurrentoperations;spuriousfailure.Listisdrainedandrecreatedconcurrently.SamefortheOTHERlist;spurious.TODO:thefactthatconcurrentre-creationofotherlistnecessitatesfullstopisnotideal...thereasonisthatthelistNOTbeingre-createdstillusesthelistbeingre-createdforboundarycheck;itneedstheoldvalueoftheothermarker.However,NO_DELTAmeanstheothermarkerwasalreadysettoanewvalue.Fornow,assumeconcurrentre-creationisrareandthegapbeforecommitistiny.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string967ーーーーーーーーーーーーーーー
 
search_string:
 //Therecordcountfromthesecountersmaynotbecorrectiftheinputvertexhasedgestomorethanonevertex,sincethisvaluecountstherecordsgoingtoalldestinationvertices.
 
sub_line:
 //edgestomorethanonevertex,sincethisvaluecountstherecordsgoingtoall 

frontremoved_sub_line:
 gestomorethanonevertex,sincethisvaluecountstherecordsgoingtoall 

sub_line:
 //destinationvertices. 

frontremoved_sub_line:
 stinationvertices. 

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 StringintermediateRecordsCounterName=formattedName( 

frontremoved_sub_line:
 ngintermediateRecordsCounterName=formattedName( 

predict_string:
 //Therecordcountfromthesecountersmaynotbecorrectiftheinputvertexhas 

line_no || similarity 

102 || 0.6118721461187214 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/monitoring/DAGSummary.java 

under_code:
String intermediateRecordsCounterName = formattedName(
 

ーーーーーーーーSearch the target string968ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whyisthiscopy-pastedfromHiveInputFormat?
 
predict_string:
 //TODO:whyisthiscopy-pastedfromHiveInputFormat? 

line_no || similarity 

223 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/FetchOperator.java 

under_code:
InputFormat format = inputFormats.get(inputFormatClass.getName());
 

ーーーーーーーーSearch the target string969ーーーーーーーーーーーーーーー
 
search_string:
 //negativelengthshouldtakeprecedenceoverpositivevalue?
 
predict_string:
 //negativelengthshouldtakeprecedenceoverpositivevalue? 

line_no || similarity 

701 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 

under_code:
maxLength = -1;
 

ーーーーーーーーSearch the target string970ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:useDiskRangeListinstead
 
predict_string:
 List<DiskRange>diskRanges;//TODO:useDiskRangeListinstead 

line_no || similarity 

29 || 0.6976744186046512 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/storage-api/src/java/org/apache/hadoop/hive/common/DiskRangeInfo.java 

under_code:
long totalLength;
 

ーーーーーーーーSearch the target string971ーーーーーーーーーーーーーーー
 
search_string:
 //todo:shouldn'tignoreEmptyFilesbesetbasedonExecutionEngine?
 
predict_string:
 //todo:shouldn'tignoreEmptyFilesbesetbasedonExecutionEngine? 

line_no || similarity 

1206 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcInputFormat.java 

under_code:
AcidUtils.Directory dirInfo = AcidUtils.getAcidState(
 

ーーーーーーーーSearch the target string972ーーーーーーーーーーーーーーー
 
search_string:
 //AllErrorAndSolutionsthatErrorHeuristichasgenerated.Forthesameerror,theyshouldbethesamethoughit'spossiblethatdifferentfilepathsetc
 
sub_line:
 //shouldbethesamethoughit'spossiblethatdifferentfilepathsetc 

frontremoved_sub_line:
 ouldbethesamethoughit'spossiblethatdifferentfilepathsetc 

sub_line:
 //couldgeneratedifferenterrormessages 

frontremoved_sub_line:
 uldgeneratedifferenterrormessages 

predict_string:
 //AllErrorAndSolutionsthatErrorHeuristichasgenerated.Forthesameerror,they 

line_no || similarity 

78 || 0.7156862745098039 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/errors/TaskLogProcessor.java 

under_code:
// could generate different error messages
 

ーーーーーーーーSearch the target string973ーーーーーーーーーーーーーーー
 
search_string:
 //DifferentpathsifrunninglocallyvsaremotefileSystem.Ideallythisdifferenceshouldnotexist.
 
predict_string:
 //DifferentpathsifrunninglocallyvsaremotefileSystem.Ideallythisdifferenceshouldnotexist. 

line_no || similarity 

410 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/util/src/main/java/org/apache/hadoop/hive/ql/QTestUtil.java 

under_code:
Path warehousePath;
 

ーーーーーーーーSearch the target string974ーーーーーーーーーーーーーーー
 
search_string:
 //todo:shouldthisnotbepassedinthec'tor?
 
predict_string:
 //todo:shouldthisnotbepassedinthec'tor? 

line_no || similarity 

243 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/plan/LoadTableDesc.java 

under_code:
public void setStmtId(int stmtId) {
 

ーーーーーーーーSearch the target string975ーーーーーーーーーーーーーーー
 
search_string:
 //Currently,deserializationofcomplextypesisnotsupported
 
predict_string:
 //Currently,deserializationofcomplextypesisnotsupported 

line_no || similarity 

261 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/contrib/src/java/org/apache/hadoop/hive/contrib/serde2/TypedBytesSerDe.java 

under_code:
case LIST:
 

ーーーーーーーーSearch the target string976ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whataboutpartitionsnotinthedefaultlocation?
 
predict_string:
 //TODO:whataboutpartitionsnotinthedefaultlocation? 

line_no || similarity 

435 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/util/HiveStrictManagedMigration.java 

under_code:
checkAndSetFileOwnerPermissions(fs, tablePath,
 

ーーーーーーーーSearch the target string977ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:wecurrentlyputtaskinfoeverywherebeforewesubmititandknowthe"real"nodeid.Therefore,wearegoingtostorethisseparately.Ideally,weshouldrolluniqueness
 
sub_line:
 //Therefore,wearegoingtostorethisseparately.Ideally,weshouldrolluniqueness 

frontremoved_sub_line:
 erefore,wearegoingtostorethisseparately.Ideally,weshouldrolluniqueness 

sub_line:
 //intoLlapNodeId.Wegetnodeinfofromregistry;thatshould(orcan)includeit. 

frontremoved_sub_line:
 toLlapNodeId.Wegetnodeinfofromregistry;thatshould(orcan)includeit. 

predict_string:
 //TODO:wecurrentlyputtaskinfoeverywherebeforewesubmititandknowthe"real"nodeid. 

line_no || similarity 

888 || 0.6842105263157895 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskCommunicator.java 

under_code:
//       into LlapNodeId. We get node info from registry; that should (or can) include it.
 

ーーーーーーーーSearch the target string978ーーーーーーーーーーーーーーー
 
search_string:
 //ItwouldbeniceifOIcouldreturntypeInfo...
 
predict_string:
 //ItwouldbeniceifOIcouldreturntypeInfo... 

line_no || similarity 

131 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinBytesTableContainer.java 

under_code:
TypeInfo typeInfo = TypeInfoUtils.getTypeInfoFromTypeString(
 

ーーーーーーーーSearch the target string979ーーーーーーーーーーーーーーー
 
search_string:
 //TODOreplaceIgnoreKeyTextOutputFormatwithaHiveOutputFormatWrapperinStorageHandler
 
sub_line:
 //HiveOutputFormatWrapperinStorageHandler 

frontremoved_sub_line:
 veOutputFormatWrapperinStorageHandler 

sub_line:
 Propertiesprops=outputJobInfo.getTableInfo().getStorerInfo().getProperties(); 

frontremoved_sub_line:
 ertiesprops=outputJobInfo.getTableInfo().getStorerInfo().getProperties(); 

predict_string:
 //TODOreplaceIgnoreKeyTextOutputFormatwitha 

line_no || similarity 

486 || 0.688 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/core/src/main/java/org/apache/hive/hcatalog/common/HCatUtil.java 

under_code:
Properties props = outputJobInfo.getTableInfo().getStorerInfo().getProperties();
 

ーーーーーーーーSearch the target string980ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#getNumBuckets()}.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#getNumBuckets()}. 

line_no || similarity 

137 || 0.912 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public int getNumBuckets() {
 

ーーーーーーーーSearch the target string981ーーーーーーーーーーーーーーー
 
search_string:
 //TODOThislinecanberemovedonceprecommitjenkinsjobsmovetoJava8
 
predict_string:
 //TODOThislinecanberemovedonceprecommitjenkinsjobsmovetoJava8 

line_no || similarity 

286 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/testutils/ptest2/src/main/java/org/apache/hive/ptest/api/client/PTestClient.java 

under_code:
System.setProperty("https.protocols", "TLSv1,TLSv1.1,TLSv1.2");
 

ーーーーーーーーSearch the target string982ーーーーーーーーーーーーーーー
 
search_string:
 //RecoveryisnotimplementedyetforPPDpath.
 
predict_string:
 if(!isPpd){//RecoveryisnotimplementedyetforPPDpath. 

line_no || similarity 

651 || 0.8791208791208791 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestOrcSplitElimination.java 

under_code:
ByteBuffer restored = OrcInputFormatForTest.caches.cache.get(key).data;
 

ーーーーーーーーSearch the target string983ーーーーーーーーーーーーーーー
 
search_string:
 //ShimLoader.getHadoopShims().isSecurityEnabled()willonlycheckthathadoopAuthisnotsimple,itdoesnotguaranteeitiskerberos
 
sub_line:
 //hadoopAuthisnotsimple,itdoesnotguaranteeitiskerberos 

frontremoved_sub_line:
 doopAuthisnotsimple,itdoesnotguaranteeitiskerberos 

sub_line:
 hadoopAuth=conf.get(HADOOP_SECURITY_AUTHENTICATION,"simple"); 

frontremoved_sub_line:
 opAuth=conf.get(HADOOP_SECURITY_AUTHENTICATION,"simple"); 

predict_string:
 //ShimLoader.getHadoopShims().isSecurityEnabled()willonlycheckthat 

line_no || similarity 

77 || 0.717391304347826 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/service/src/java/org/apache/hive/service/auth/HiveAuthFactory.java 

under_code:
hadoopAuth = conf.get(HADOOP_SECURITY_AUTHENTICATION, "simple");
 

ーーーーーーーーSearch the target string984ーーーーーーーーーーーーーーー
 
search_string:
 //Findtheclassthathasthismethod.NotethatMethod.getDeclaringClass()maynotworkherebecausethemethod
 
sub_line:
 //NotethatMethod.getDeclaringClass()maynotworkherebecausethemethod 

frontremoved_sub_line:
 tethatMethod.getDeclaringClass()maynotworkherebecausethemethod 

sub_line:
 //canbeinheritedfromabaseclass. 

frontremoved_sub_line:
 nbeinheritedfromabaseclass. 

predict_string:
 //Findtheclassthathasthismethod. 

line_no || similarity 

85 || 0.5 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/DefaultUDAFEvaluatorResolver.java 

under_code:
// can be inherited from a base class.
 

ーーーーーーーーSearch the target string985ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatAddPartitionDesc.#create(HCatPartition)}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatAddPartitionDesc.#create(HCatPartition)}.ToberemovedinHive0.16. 

line_no || similarity 

121 || 0.9458128078817734 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatAddPartitionDesc.java 

under_code:
public static Builder create(String dbName,
 

ーーーーーーーーSearch the target string986ーーーーーーーーーーーーーーー
 
search_string:
 //fs.permission.AccessControlExceptionremovedbyHADOOP-11356,butHiveusersonolderHadoopversionsmaystillseethisexception..havetoreferencebyname.
 
sub_line:
 //Hadoopversionsmaystillseethisexception..havetoreferencebyname. 

frontremoved_sub_line:
 doopversionsmaystillseethisexception..havetoreferencebyname. 

sub_line:
 if(curErrinstanceoforg.apache.hadoop.security.AccessControlException 

frontremoved_sub_line:
 urErrinstanceoforg.apache.hadoop.security.AccessControlException 

predict_string:
 //fs.permission.AccessControlExceptionremovedbyHADOOP-11356,butHiveusersonolder 

line_no || similarity 

942 || 0.7181818181818181 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/shims/0.23/src/main/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java 

under_code:
if (curErr instanceof org.apache.hadoop.security.AccessControlException
 

ーーーーーーーーSearch the target string987ーーーーーーーーーーーーーーー
 
search_string:
 //thisisdumb.HiveOperationisnotalwaysset.seeHIVE-16447/HIVE-16443
 
predict_string:
 //thisisdumb.HiveOperationisnotalwaysset.seeHIVE-16447/HIVE-16443 

line_no || similarity 

928 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/Driver.java 

under_code:
switch (queryState.getHiveOperation() == null ? HiveOperation.QUERY : queryState.getHiveOperation()) {
 

ーーーーーーーーSearch the target string988ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:OnceHIVE-18948isin,shouldbeabletoretrievewriteIdListfromtheconf.cachedWriteIdList=AcidUtils.getValidTxnWriteIdList(conf);
 
sub_line:
 //cachedWriteIdList=AcidUtils.getValidTxnWriteIdList(conf); 

frontremoved_sub_line:
 chedWriteIdList=AcidUtils.getValidTxnWriteIdList(conf); 

sub_line:
 // 

frontremoved_sub_line:
  

sub_line:
 List<String>transactionalTables=tablesFromReadEntities(inputs) 

frontremoved_sub_line:
 <String>transactionalTables=tablesFromReadEntities(inputs) 

predict_string:
 //TODO:OnceHIVE-18948isin,shouldbeabletoretrievewriteIdListfromtheconf. 

line_no || similarity 

14661 || 0.7135678391959799 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 

under_code:
List<String> transactionalTables = tablesFromReadEntities(inputs)
 

ーーーーーーーーSearch the target string989ーーーーーーーーーーーーーーー
 
search_string:
 //Thisisanon-poolsession,getridofit.
 
predict_string:
 session.close(false);//Thisisanon-poolsession,getridofit. 

line_no || similarity 

1630 || 0.7741935483870968 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/WorkloadManager.java 

under_code:
}
 

ーーーーーーーーSearch the target string990ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:removethis
 
predict_string:
 //TODO:removethisconstructor 

line_no || similarity 

41 || 0.7555555555555555 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/service/src/java/org/apache/hive/service/cli/TableSchema.java 

under_code:
}
 

ーーーーーーーーSearch the target string991ーーーーーーーーーーーーーーー
 
search_string:
 //Notimplemented
 
predict_string:
 //Notimplemented. 

line_no || similarity 

225 || 0.9696969696969697 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/common/src/java/org/apache/hadoop/hive/common/metrics/LegacyMetrics.java 

under_code:
}
 

ーーーーーーーーSearch the target string992ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:weonlyeveruseonerowoftheseatatime.Whydoweneedtocachemultiple?
 
predict_string:
 //TODO:weonlyeveruseonerowoftheseatatime.Whydoweneedtocachemultiple? 

line_no || similarity 

133 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/ReduceSinkOperator.java 

under_code:
protected transient Object[][] cachedKeys;
 

ーーーーーーーーSearch the target string993ーーーーーーーーーーーーーーー
 
search_string:
 /**getDeserializer**GettheDeserializerforatable.**@paramconf*-hadoopconfig*@paramtable*thetable*@return*Returnsinstantiateddeserializerbylookingupclassnameofdeserializerstoredin*storagedescriptorofpassedintable.Also,initializesthedeserializerwithschema*oftable.*@exceptionMetaException*ifanyproblemsinstantiatingtheDeserializer**todo-thisshouldmovesomewhereintoserde.jar**/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string994ーーーーーーーーーーーーーーー
 
search_string:
 //Notpretty,butweneedawaytogetthesize
 
predict_string:
 //Notpretty,butweneedawaytogetthesize 

line_no || similarity 

373 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/expressions/aggregates/VectorUDAFBloomFilter.java 

under_code:
try {
 

ーーーーーーーーSearch the target string995ーーーーーーーーーーーーーーー
 
search_string:
 //Seectorcomment.TODO:weshouldgetridofthis
 
under_code:
None
 

ーーーーーーーーSearch the target string996ーーーーーーーーーーーーーーー
 
search_string:
 //inadditiontothatDruidallownumericdimensionsnowsothischeckisnotaccurate
 
predict_string:
 //inadditiontothatDruidallownumericdimensionsnowsothischeckisnotaccurate 

line_no || similarity 

2780 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/CalcitePlanner.java 

under_code:
for (RelDataTypeField field : rowType.getFieldList()) {
 

ーーーーーーーーSearch the target string997ーーーーーーーーーーーーーーー
 
search_string:
 //converted=true;//[TODO]:shouldwecheck&converttypetoStringandsetittotrue?
 
sub_line:
 if(tableFieldTypeInfo.getCategory()!=Category.PRIMITIVE){ 

frontremoved_sub_line:
 ableFieldTypeInfo.getCategory()!=Category.PRIMITIVE){ 

predict_string:
 converted=true; 

line_no || similarity 

8070 || 0.33707865168539325 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 

under_code:
if (tableFieldTypeInfo.getCategory() != Category.PRIMITIVE) {
 

ーーーーーーーーSearch the target string998ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ideallyweshouldmakeaspecialformofinsertoverwritesothatwe:1)CouldusefastmergepathforORCandRC.2)Didn'thavetocreateatable.
 
sub_line:
 //1)CouldusefastmergepathforORCandRC. 

frontremoved_sub_line:
 CouldusefastmergepathforORCandRC. 

sub_line:
 //2)Didn'thavetocreateatable. 

frontremoved_sub_line:
 Didn'thavetocreateatable. 

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 Stringquery="insertoverwritetable"+tmpName+""; 

frontremoved_sub_line:
 ngquery="insertoverwritetable"+tmpName+""; 

predict_string:
 //TODO:ideallyweshouldmakeaspecialformofinsertoverwritesothatwe: 

line_no || similarity 

510 || 0.6736842105263158 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/txn/compactor/CompactorMR.java 

under_code:
String query = "insert overwrite table " + tmpName + " ";
 

ーーーーーーーーSearch the target string999ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:policyondeserializationerrors
 
predict_string:
 //TODO:policyondeserializationerrors 

line_no || similarity 

559 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java 

under_code:
String message = null;
 

ーーーーーーーーSearch the target string1000ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:DoweneedtokeeptrackofRR,ColNameToPosMapforeveryopor
 
predict_string:
 //TODO:DoweneedtokeeptrackofRR,ColNameToPosMapforeveryopor 

line_no || similarity 

1626 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/CalcitePlanner.java 

under_code:
// just last one.
 
----------結果492件ヒットしました--------------------------

ans_lists1: DataOutputBuffer port_dob = new DataOutputBuffer(); 

ans_lists2: // renaming test to make test framework skip it 

ans_lists3: too long. 

ans_lists4: too long. 

ans_lists5: } 

ans_lists6: return; 

ans_lists7: // projections from child? 

ans_lists8: Token<LlapTokenIdentifier> token = new Token<LlapTokenIdentifier>(llapId, this); 

ans_lists9: for (RelOptRule r : rules) 

ans_lists10: too long. 

ans_lists11: // we can generate ranges from e.g. rowid > (4 + 5) 

ans_lists12: constantPropDistinctUDAFParam = SemanticAnalyzer 

ans_lists13: String clientId = getClientId(jobId); 

ans_lists14: if (ifName.equals(format)) { 

ans_lists15: too long. 

ans_lists16: inputVrb.cols[ixInVrb] = cvb.cols[ixInReadSet]; 

ans_lists17: schema.setProperty(serdeConstants.QUOTE_CHAR, "(\"|\\[|\\])"); 

ans_lists18: List<String> tabBucketCols = tab.getBucketCols(); 

ans_lists19: too long. 

ans_lists20: return false; 

ans_lists21: cachedObjectInspector = ObjectInspectorFactory 

ans_lists22: for (FileStatus fileStatus : contents) { 

ans_lists23: // data with the separator bytes before creating a "Put" object 

ans_lists24: if (obAST != null && !(selForWindow != null && selExprList.getToken().getType() == HiveParser.TOK_SELECTDI) && !isAllColRefRewrite) { 

ans_lists25: return table; 

ans_lists26: final JobConf cloneJobConf = new JobConf(jobConf); 

ans_lists27: // fall through 

ans_lists28: if (joinRel instanceof SemiJoin) { 

ans_lists29: for (int j = 0; j < 10; ++j) { 

ans_lists30: too long. 

ans_lists31: validateRestrictedConfigValues(var.varname, userValue, serverValue); 

ans_lists32: ctx.hiveConf = new HiveConf(IDriver.class); 

ans_lists33: too long. 

ans_lists34: // This is only required to support the deprecated methods in HCatAddPartitionDesc.Builder. 

ans_lists35: for (Partition partition : metadata.getPartitions()) { 

ans_lists36: too long. 

ans_lists37: too long. 

ans_lists38: throw new HiveException("Converting list bucketed tables stored as subdirectories " 

ans_lists39: if (oldtbl 

ans_lists40: boolean hasFileId = this.fileKey != null; 

ans_lists41: // From the value arrays and our isRepeated, selected, isNull arrays, generate the batch! 

ans_lists42: // NullPointerException, remote throws TTransportException 

ans_lists43: LOG.info("DP can be rewritten to SP!"); 

ans_lists44: if (SessionState.get() != null) { 

ans_lists45: try { 

ans_lists46: private final FixedSizedObjectPool<IoTrace> tracePool; 

ans_lists47: public class TableExport { 

ans_lists48: @Override 

ans_lists49: public String getApplyPathScriptPath() { 

ans_lists50: too long. 

ans_lists51: String[] jarPaths = auxJars.split(delimiter); 

ans_lists52: coordinator = LlapCoordinator.getInstance(); 

ans_lists53: private static final String BASE_PREFIX = "base_", DELTA_PREFIX = "delta_", 

ans_lists54: // in all hadoop versions. 

ans_lists55: dummyOp.initialize(jconf, null); 

ans_lists56: UserGroupInformation ugi = Utils.getUGI(); 

ans_lists57: return OrcFile.createWriter(path, createOrcWriterOptions(oi, conf, cacheWriter, allocSize)); 

ans_lists58: long evicted = evictor.evictSomeBlocks(remainingToReserve); 

ans_lists59: private List<AggrColStats> nodes = new ArrayList<>(); 

ans_lists60: //this uses VectorizedOrcAcidRowBatchReader 

ans_lists61: too long. 

ans_lists62: localDirs = conf.getTrimmedStrings(SHUFFLE_HANDLER_LOCAL_DIRS); 

ans_lists63: List<String> versionFiles = QTestUtil.getVersionFiles(queryDirectory, tname); 

ans_lists64: too long. 

ans_lists65: // Finally add the partitioning columns 

ans_lists66: int badCallCount = 0; 

ans_lists67: return sortColNames.subList(0, joinCols.size()).containsAll(joinCols); 

ans_lists68: verify(sessionState).ensureLocalResources(any(Configuration.class), eq(inputOutputJars)); 

ans_lists69: return get(fieldName, recordSchema); 

ans_lists70: // moved...this may change 

ans_lists71: too long. 

ans_lists72: too long. 

ans_lists73: Assert.assertTrue("Unexpected: HCAT_PARTITION_DONE_EVENT not supported (yet).", false); 

ans_lists74: for (IOSpecProto inputSpec : vertex.getInputSpecsList()) { 

ans_lists75: caughtException = tae; 

ans_lists76: Integer numReducersFromWork = rWork == null ? 0 : rWork.getNumReduceTasks(); 

ans_lists77: if (null == rangeSplit.getIterators() 

ans_lists78: too long. 

ans_lists79: pw.println("-- These commands may be executed by Hive 1.x later"); 

ans_lists80: too long. 

ans_lists81: private static ExprNodeDesc propConstDistUDAFParams() { 

ans_lists82: OrcProto.ColumnEncoding columnEncoding = encodings.get(columnIndex); 

ans_lists83: boolean nonDefaultUser = conf.getBoolVar(HiveConf.ConfVars.HIVE_SERVER2_ENABLE_DOAS); 

ans_lists84: /* 

ans_lists85: if (!isBlacklistWhitelistEmpty(conf) || !isCachePrewarmed.get()) { 

ans_lists86: return super.explainTerms(pw) 

ans_lists87: // prefix = work.getAggKey(); 

ans_lists88: if (context.linkChildOpWithDummyOp.containsKey(mj)) { 

ans_lists89: public synchronized String getDelegationTokenFromMetaStore(String owner) 

ans_lists90: if (cacheStripeDetails) { 

ans_lists91: if (fsOp.getConf().getDynPartCtx() != null) { 

ans_lists92: ret.numRows = newRowCount; 

ans_lists93: runStatementOnDriver("create table myctas2 stored as ORC TBLPROPERTIES ('transactional" + 

ans_lists94: public class OpWalkerCtx implements NodeProcessorCtx { 

ans_lists95: ByteBuffer copy = ByteBuffer.allocate(bb.capacity()); 

ans_lists96: private TCLIService.Iface client; 

ans_lists97: private Builder(String dbName, String tableName, List<HCatFieldSchema> columns) { 

ans_lists98: ExprNodeConverter exprConv = new ExprNodeConverter(inputTabAlias, inputRel.getRowType(), 

ans_lists99: validateTableCols(table, colNames); 

ans_lists100: t.addDependentTask(alterTable); 

ans_lists101: // 3. Return result 

ans_lists102: setOperationException(e); 

ans_lists103: return new Text(objInspector.getWritableConstantValue().toString()); 

ans_lists104: too long. 

ans_lists105: final RelMetadataQuery mq = call.getMetadataQuery(); 

ans_lists106: System.exit(rc); 

ans_lists107: ctx.close(); 

ans_lists108: ColumnStreamData[] datas = ecb.getColumnData(colIx); 

ans_lists109: break; 

ans_lists110: // Tracks tasks which could not be allocated immediately. 

ans_lists111: RelCollation canonizedCollation = traitSet.canonize(newCollation); 

ans_lists112: public void testAddPartitionEmptyValue() throws Exception { 

ans_lists113: resultObjects[rowIndex++] = scrqtchRow[0]; 

ans_lists114: ASTNode queryForCbo = ast; 

ans_lists115: SignatureUtils.write(sigMap, op.getConf()); 

ans_lists116: if (valToPaths.size() > maxPartitions) { 

ans_lists117: if (failed > 0) { 

ans_lists118: @VisibleForTesting 

ans_lists119: resultObjects[rowIndex++] = scrqtchRow[0]; 

ans_lists120: public class CachedStore implements RawStore, Configurable { 

ans_lists121: return getRecordUpdater(jc, acidOutputFormat, 

ans_lists122: too long. 

ans_lists123: UnsignedInt128 scratch = new UnsignedInt128(); 

ans_lists124: too long. 

ans_lists125: clean(compactId2CompactInfoMap.get(queueEntry.getKey())); 

ans_lists126: private long numRowsCompareHashAggr; 

ans_lists127: import org.apache.hadoop.io.retry.RetryPolicies; 

ans_lists128: //       that fractions or query parallelism add up, etc. 

ans_lists129: } 

ans_lists130: List<Integer> cwColIds = writer.isOnlyWritingIncludedColumns() ? splitColumnIds : columnIds; 

ans_lists131: private JobMetricsListener jobMetricsListener; 

ans_lists132: String attemptId = Converters.createTaskAttemptId(context).toString(); 

ans_lists133: public MappingInput(String userName, List<String> groups, String wmPool, String appName) { 

ans_lists134: } 

ans_lists135: too long. 

ans_lists136: if (fos.size() > 0 && oss.size() > 0) { 

ans_lists137: return; 

ans_lists138: client.dropDatabase(dbName1, true, true, true); 

ans_lists139: QueryIdentifier queryId = executorService.findQueryByFragment(fragmentId); 

ans_lists140: throw new AssertionError("Unsupported mode"); 

ans_lists141: HCatUtil.getHiveMetastoreClient(hiveConf); 

ans_lists142: public String getLocation() { 

ans_lists143: if (sendCounters) { 

ans_lists144: Assert.assertEquals(initialCount + 1, 

ans_lists145: // only mechanical data retrieval should remain here. 

ans_lists146: stats.addToDataSize(getDataSizeFromColumnStats(nr, columnStats)); 

ans_lists147: if (children.contains(null)) { 

ans_lists148: for (int i = 1; i < numDistinctExprs; i++) { 

ans_lists149: tableValue += (" and " + TBLS + ".\"TBL_NAME\" = ? and " + DBS + ".\"NAME\" = ? and " 

ans_lists150: // https://issues.apache.org/jira/browse/HIVE-17627 

ans_lists151: //extra heartbeat is logically harmless, but ... 

ans_lists152: public Builder partCols(List<HCatFieldSchema> partCols) { 

ans_lists153: throw new IOException("Couldn't write to node " + id, nfe); 

ans_lists154: int formatScale = 0 + r.nextInt(38); 

ans_lists155: String eventType = event.getEventType(); 

ans_lists156: too long. 

ans_lists157: Deque<Object> stack = createWorkStack(rootObj, byType); 

ans_lists158: // way! 

ans_lists159: assert result.length == files.size(); 

ans_lists160: int wndSpecASTIndx = getWindowSpecIndx(windowProjAst); 

ans_lists161: if (cacheEncodings == null) { 

ans_lists162: private final static void setEnv(Map<String, String> newenv) throws Exception { 

ans_lists163: PerfLogger perfLogger = SessionState.getPerfLogger(); 

ans_lists164: OpAttr visit(HiveFilter filterRel) throws SemanticException { 

ans_lists165: RelDataTypeFactory dtFactory = cluster.getRexBuilder().getTypeFactory(); 

ans_lists166: None 

ans_lists167: for (OperationType opType : values()) { 

ans_lists168: /** Linked list pointers for LRFU/LRU cache policies. Given that each block is in cache 

ans_lists169: // different, or duplicate some other function). 

ans_lists170: return ""; 

ans_lists171: LOG.trace("Cannot determine map type: {}", field); 

ans_lists172: @Override 

ans_lists173: // don't go  through Initiator for user initiated compactions) 

ans_lists174: // lock correctly. See the comment on the lock field - the locking needs to be reworked. 

ans_lists175: removeEnv.add("HADOOP_ROOT_LOGGER"); 

ans_lists176: success = sql(line.substring("all ".length())) && success; 

ans_lists177: } 

ans_lists178: too long. 

ans_lists179: newCacheDataForCol[streamIx] = stream.data.toArray(new LlapSerDeDataBuffer[stream.data.size()]); 

ans_lists180: private static byte[] join(String[] items, char separator) { 

ans_lists181: if(ci.type == null) { ci.type = CompactionType.MINOR; } 

ans_lists182: if (isAllParts) { 

ans_lists183: AddPartitionDesc partsDesc = getBaseAddPartitionDescFromPartition(fromPath, dbname, tblDesc, partition); 

ans_lists184: Path scratchDir = utils.createTezDir(ctx.getMRScratchDir(), job); 

ans_lists185: private VectorDeserializeRow() { 

ans_lists186: } else if (isCompare && (func.getChildren().size() == 2)) { 

ans_lists187: InStream stream = ((StringDirectTreeReader) reader).getStream(); 

ans_lists188: Connection conn = null; 

ans_lists189: too long. 

ans_lists190: // if the default was decided by the serde 

ans_lists191: public Builder sortCols(ArrayList<Order> sortCols) { 

ans_lists192: sendError(ctx, FORBIDDEN); 

ans_lists193: // NullPointerException, remote throws TTransportException 

ans_lists194: too long. 

ans_lists195: too long. 

ans_lists196: too long. 

ans_lists197: public String getDatabaseName() { 

ans_lists198: if (endReason != null && EnumSet 

ans_lists199: threadPool.submit(new DateTestCallable(bad, timeZone)).get(); 

ans_lists200: if (buffer.declaredCachedLength != LlapDataBuffer.UNKNOWN_CACHED_LENGTH) { 

ans_lists201: void init(AtomicBoolean stop, AtomicBoolean looped) throws MetaException; 

ans_lists202: String checksumString = null; 

ans_lists203: class Direct implements OpTreeSignatureFactory { 

ans_lists204: if (opType == OpType.DELETE) { 

ans_lists205: too long. 

ans_lists206: private static final Set<String> llapDaemonVarsSet; 

ans_lists207: this.evolution = sef.createSchemaEvolution(fileMetadata.getSchema()); 

ans_lists208: public String getComments() { 

ans_lists209: // child process. so we add it here explicitly 

ans_lists210: too long. 

ans_lists211: HashPartition hashPartition = new HashPartition(1024, (float) 0.75, 524288, 1, true, null); 

ans_lists212: File qf = new File(outDir, fileName); 

ans_lists213: too long. 

ans_lists214: None 

ans_lists215: VectorExpression[] child = new VectorExpression[1]; 

ans_lists216: //       This only lives for the duration of the service init. 

ans_lists217: boolean dbHasJoinCastBug = DatabaseProduct.hasJoinOperationOrderBug(dbType); 

ans_lists218: public void testConstraints() throws IOException { 

ans_lists219: OpAttr visit(HiveTableScan scanRel) { 

ans_lists220: runStatementOnDriver("alter table " + Table.NONACIDORCTBL + " SET TBLPROPERTIES ('transactional'='true', 'transactional_properties'='default')"); 

ans_lists221: public PPart(Table table, Partition partiton) { 

ans_lists222: if (!status.isDir()) { 

ans_lists223: too long. 

ans_lists224: // since we cannot directly set the private byte[] field inside Text. 

ans_lists225: too long. 

ans_lists226: @Test 

ans_lists227: // Assuming the used memory is equally divided among all executors. 

ans_lists228: for (org.apache.hadoop.hive.metastore.api.Partition outPart 

ans_lists229: newValue = State.switchFlag(newValue, State.FLAG_NEW_ALLOC); 

ans_lists230: int rc = setFSPermsNGrp(ss, driver.getConf()); 

ans_lists231: } 

ans_lists232: boolean[] included = new boolean[schema.size()]; 

ans_lists233: outputColVector.init(); 

ans_lists234: too long. 

ans_lists235: public class JsonSerDe extends AbstractSerDe { 

ans_lists236: tmpNoNulls = getMaxNulls(stats, ((ExprNodeFieldDesc) pred).getDesc()); 

ans_lists237: // codes and messages. This should be fixed. 

ans_lists238: JSON_MAPPER.setTimeZone(TimeZone.getTimeZone("UTC")); 

ans_lists239: if (!doesTimeMatter) return daysToMillis(d + 1) - (MILLIS_PER_DAY >> 1); 

ans_lists240: throw new RuntimeException(e.getCause()); 

ans_lists241: synchronized (watchesPerAttempt) { 

ans_lists242: Preconditions.checkState(maxJvmMemory >= memRequired, 

ans_lists243: this.writeBuffers = writeBuffers; 

ans_lists244: public Builder escapeChar(char escapeChar) { 

ans_lists245: // 'n' columns where 'n' is the length of the bucketed columns. 

ans_lists246: private final static String tid = 

ans_lists247: if (ndvToBeSmoothed > 3) 

ans_lists248: private static boolean add(RowResolver rrToAddTo, RowResolver rrToAddFrom, 

ans_lists249: // For eg: select count(1) from T where t.ds = .... 

ans_lists250: too long. 

ans_lists251: if (task instanceof TaskAttempt) { 

ans_lists252: LOG.debug("Found " + deltas.size() + " delta files, threshold is " + deltaNumThreshold + 

ans_lists253: cumulativeBackoffFactor = cumulativeBackoffFactor * blacklistConf.backoffFactor; 

ans_lists254: too long. 

ans_lists255: too long. 

ans_lists256: Assert.fail("Expected a NullPointerException or TTransportException to be thrown"); 

ans_lists257: LlapNodeId nodeId = LlapNodeId.getInstance(hostname, port); 

ans_lists258: too long. 

ans_lists259: boolean isBrokenUntilMapreduce7086 = "TEXTFILE".equals(format); 

ans_lists260: conf.setBoolean(ColumnProjectionUtils.READ_ALL_COLUMNS, false); 

ans_lists261: TezAttemptArray aw = new TezAttemptArray(); 

ans_lists262: return null; 

ans_lists263: String loggedInUserName = SessionState.get().getUserName(); 

ans_lists264: if (!distParamInRefsToOutputPos.containsKey(argLst.get(i)) 

ans_lists265: too long. 

ans_lists266: SessionState.setCurrentSessionState(parentSessionState); 

ans_lists267: if (isLocationSet) { 

ans_lists268: private PrimitiveType getElementType(Type type) { 

ans_lists269: public Builder mapKeysTerminatedBy(char delimiter) { 

ans_lists270: private final QueryFragmentCounters counters; 

ans_lists271: return true; 

ans_lists272: // We need to consolidate 2 or more buffers into one to decompress. 

ans_lists273: // The wait queue should be able to fit at least (waitQueue + currentFreeExecutor slots) 

ans_lists274: primary.run("drop database if exists " + primaryDbName + " cascade"); 

ans_lists275: public String getFileFormat() { 

ans_lists276: check.replaceSelfWith(new IncompleteCb(check.getOffset(), check.getEnd())); 

ans_lists277: switch (((PrimitiveTypeInfo)columnTypes.get(i)).getTypeName()) { 

ans_lists278: if (!unusedTriggers.isEmpty()) { 

ans_lists279: MockFileSystem.clearGlobalFiles(); 

ans_lists280: return false; 

ans_lists281: // same as in getRecordReader? 

ans_lists282: too long. 

ans_lists283: private final Object lock = new Object(); 

ans_lists284: private interface Field { 

ans_lists285: too long. 

ans_lists286: SessionState ss = SessionState.get(); 

ans_lists287: too long. 

ans_lists288: None 

ans_lists289: None 

ans_lists290: // (will need to handle an alternate work-dir as well in this case - derive from branch?) 

ans_lists291: too long. 

ans_lists292: if (requestedHosts != null && requestedHosts.length != 0) { 

ans_lists293: too long. 

ans_lists294: runStatementOnDriver("delete from " + Table.ACIDTBL + " where a in(select a from " + Table.NONACIDORCTBL + ")"); 

ans_lists295: String hiveQueryId; 

ans_lists296: public static void floor(int i, HiveDecimal input, DecimalColumnVector outputColVector) { 

ans_lists297: too long. 

ans_lists298: private boolean isExprResolver; 

ans_lists299: too long. 

ans_lists300: boolean isFirst = true; 

ans_lists301: public static Path generateTmpPathForPartitionPruning(Path basePath, String id) { 

ans_lists302: private static final Cache<String, LlapTokenLocalClient> localClientCache = CacheBuilder 

ans_lists303: // LOG4J2-1292 utilize gc-free Layout.encode() method: taken care of in superclass 

ans_lists304: for (int i = 0; i < locInfo.length; i++) { 

ans_lists305: too long. 

ans_lists306: super(LlapPluginEndpointClientImpl.class.getSimpleName(), 

ans_lists307: req.setCapabilities(new ClientCapabilities( 

ans_lists308: public boolean getExternal() { 

ans_lists309: // See: SPARK-21187 

ans_lists310: shouldRun.compareAndSet(true, false); 

ans_lists311: return new OpAttr("", new HashSet<Integer>(), rsGBOp2); 

ans_lists312: too long. 

ans_lists313: /** Planner rule that adjusts projects when counts are added. */ 

ans_lists314: // What we need is a way to get buckets not splits 

ans_lists315: if (queryParallelism == null && likeName == null) { 

ans_lists316: None 

ans_lists317: if (work.isClearAggregatorStats()) { 

ans_lists318: List<Integer> filePhysicalColumnIds = readerLogicalColumnIds; 

ans_lists319: too long. 

ans_lists320: String line; 

ans_lists321: throw new SemanticException(ErrorMsg.CTAS_PARCOL_COEXISTENCE.getMsg()); 

ans_lists322: this.parameters.put(ReplChangeManager.SOURCE_OF_REPLICATION, parameters.get(key)); 

ans_lists323: // Requires schema change 

ans_lists324: for (int i = 0; i < logSize; ++i) { 

ans_lists325: if (sr.dataSize > sr.maxDataSize) { 

ans_lists326: too long. 

ans_lists327: * @deprecated Use MetastoreConf.DATANUCLEUS_INIT_COL_INFO 

ans_lists328: if (fastScale == 0) { 

ans_lists329: int threadCount = HiveConf.getIntVar(pctx.getConf(), 

ans_lists330: private void registerAllFunctionsOnce() throws HiveException { 

ans_lists331: return (T) super.getObject(columnIndex); 

ans_lists332: e.printStackTrace(); 

ans_lists333: private DynamicServiceInstanceSet instances; 

ans_lists334: List<Path> finalDirs = null, dirsWithMmOriginals = null; 

ans_lists335: too long. 

ans_lists336: if (maxCacheSizeInBytes > 0) { 

ans_lists337: if (LOG.isInfoEnabled()) { 

ans_lists338: too long. 

ans_lists339: LOG.info("Converting {} to full transactional table", getQualifiedName(tableObj)); 

ans_lists340: List<Partition> partitionEntries = metaStoreClient.listPartitions(table.getDbName(), table.getTableName(), 

ans_lists341: syncWork.toRestartInUse.add(session); 

ans_lists342: too long. 

ans_lists343: public static InputSplit createTableSnapshotRegionSplit() { 

ans_lists344: errorMessage = "FAILED: Hive Internal Error: " + Utilities.getNameMessage(e); 

ans_lists345: return value; 

ans_lists346: deepCopyPartitions(r.getPartitions(), result); 

ans_lists347: preemptedTaskList = preemptTasksFromMap(speculativeTasks, forPriority, forVertex, 

ans_lists348: // walking through all active nodes, if they don't have potential capacity. 

ans_lists349: while (!threadPool.awaitTermination(10, TimeUnit.SECONDS)) { 

ans_lists350: if (expr.getType() == HiveParser.TOK_DATELITERAL) { 

ans_lists351: LOG.debug("Done retrieving all objects for getPartitionsViaOrmFilter"); 

ans_lists352: } 

ans_lists353: DataInputByteBuffer in = new DataInputByteBuffer(); 

ans_lists354: return -1; 

ans_lists355: private static final int[] BUCKET_COLUMN_INDEXES = new int[] { 0 }; 

ans_lists356: public Builder comments(String comment) { 

ans_lists357: @Test 

ans_lists358: if (existing == null) { 

ans_lists359: public static final byte NULL = 1; 

ans_lists360: FileStatus status = getFileStatus(f); 

ans_lists361: boolean includeGrpSetInGBDesc = (gbInfo.grpSets.size() > 0) 

ans_lists362: executor = new StatsRecordingThreadPool(1, 1, 

ans_lists363: None 

ans_lists364: too long. 

ans_lists365: if (splitStrategy instanceof ETLSplitStrategy) { 

ans_lists366: if (task instanceof ConditionalTask) { 

ans_lists367: public class TopNHash { 

ans_lists368: @Deprecated 

ans_lists369: int i = gbExprNDescLst.size(); 

ans_lists370: LOG.warn("Skipping unknown directory " + dirName 

ans_lists371: public class VectorizedListColumnReader extends BaseVectorizedColumnReader { 

ans_lists372: //       DagClient as such should have no bearing on jobClose. 

ans_lists373: semiJoin = false; 

ans_lists374: return null; 

ans_lists375: too long. 

ans_lists376: StatsSetupConst.setBasicStatsState(parameters, StatsSetupConst.FALSE); 

ans_lists377: if (client == null) { 

ans_lists378: if (hasSpaceForCacheEntry(entry, size)) { 

ans_lists379: if (tbl.getSd().getLocation() == null) { 

ans_lists380: runtimeWatch.start(); 

ans_lists381: if (!enablePreemption || preemptionQueue.isEmpty()) { 

ans_lists382: private String resultsDirectory; 

ans_lists383: if (!isTxnTable && ((loadFileType == LoadFileType.REPLACE_ALL) || (oldPart == null && !isAcidIUDoperation))) { 

ans_lists384: too long. 

ans_lists385: too long. 

ans_lists386: inpFormat = CombineHiveInputFormat.class.getName(); 

ans_lists387: { 

ans_lists388: //       older-node tasks proactively. For now let the heartbeats fail them. 

ans_lists389: if (hiveConf != null) { 

ans_lists390: firePreEvent(new PreDropPartitionEvent(tbl, part, deleteData, this)); 

ans_lists391: return Float.parseFloat(toFormalString()); 

ans_lists392: too long. 

ans_lists393: too long. 

ans_lists394: ponderNextBufferToRead(readPos); 

ans_lists395: String sh = tbl.getStorageHandler().toString(); 

ans_lists396: return StageType.REPL_DUMP; 

ans_lists397: path = System.getProperty(TEST_ENV_WORKAROUND + envVar); 

ans_lists398: too long. 

ans_lists399: sb.append("\nMetadata cache state: ").append(metadata.size()).append( 

ans_lists400: newSession.getConf().set(TezConfiguration.TEZ_QUEUE_NAME, queueName); 

ans_lists401: @Override 

ans_lists402: // firstFetchHappened == true. In reality it almost always calls joinOneGroup. Fix it? 

ans_lists403: if (_dataStream != null && _dataStream.available() > 0) { 

ans_lists404: SelectDesc sd = new SelectDesc(exprCols, exprNames); 

ans_lists405: // an exception 

ans_lists406: // in addition to that Druid allow numeric dimensions now so this check is not accurate 

ans_lists407: public String getTableName() { 

ans_lists408: if (getSubjectMethod == null) { 

ans_lists409: return new PathFilter() { 

ans_lists410: } 

ans_lists411: too long. 

ans_lists412: public final static String stringifyDiskRanges(DiskRangeList range) { 

ans_lists413: boolean[] readerIncludes = OrcInputFormat.genIncludedColumns( 

ans_lists414: if (i > 0) { 

ans_lists415: //       after all the perf changes that we might was well hardcode them separately. 

ans_lists416: public Builder linesTerminatedBy(char delimiter) { 

ans_lists417: validate = false; 

ans_lists418: // Currently using fileuri#checksum#cmrooturi#subdirs as the format 

ans_lists419: runStatementOnDriver("alter table nobuckets compact 'major'"); 

ans_lists420: WindowFunctionSpec wFn = (WindowFunctionSpec) getWindowExpressions().get(0); 

ans_lists421: too long. 

ans_lists422: HashPartition hashPartition = new HashPartition(1024, (float) 0.75, 524288, 1, true, null); 

ans_lists423: user = System.getenv(ApplicationConstants.Environment.USER.name()); 

ans_lists424: too long. 

ans_lists425: FileSplit sliceSplit = new FileSplit(split.getPath(), split.getStart(), 

ans_lists426: } else { 

ans_lists427: if (maxCacheSizeInBytes > 0) { 

ans_lists428: too long. 

ans_lists429: // proper index of a dummy. 

ans_lists430: // set method. This requires calcite change 

ans_lists431: too long. 

ans_lists432: return t; 

ans_lists433: if (sp >= 0 & (sp + 1) < udfClassName.length()) { 

ans_lists434: getContext().taskKilled(taskAttemptId, 

ans_lists435: FileSplit splitPart = new FileSplit(split.getPath(), uncachedSuffixStart, 

ans_lists436: appStatusBuilder.setAmInfo( 

ans_lists437: too long. 

ans_lists438: LOG.warn("Couldn't find aliases for " + splitPath); 

ans_lists439: MapOutputInfo outputInfo = new MapOutputInfo(pathInfo.dataPath, info); 

ans_lists440: public class TableExport { 

ans_lists441: dataSchema = hcatSplit.getDataSchema(); 

ans_lists442: throw new IllegalArgumentException("Expected match count is 1; but got:" + all); 

ans_lists443: too long. 

ans_lists444: return Arrays.copyOf(sourceBw.getBytes(), sourceBw.getLength()); 

ans_lists445: too long. 

ans_lists446: return false; 

ans_lists447: break; 

ans_lists448: if (requestedHostIdx == -1) { 

ans_lists449: throw (OutOfMemoryError) e; 

ans_lists450: LOG.error("Failed to start LLAP Daemon with exception", t); 

ans_lists451: //       move the setupPool code to ctor. For now, at least hasInitialSessions will be false. 

ans_lists452: private RowResolver outerRR; 

ans_lists453: recordReader = reader.rowsOptions(options, conf); 

ans_lists454: public Builder fileFormat(String format) { 

ans_lists455: String udafName = SemanticAnalyzer.getColumnInternalName(reduceKeys.size()); 

ans_lists456: MapWork mapWork = Utilities.getMapWork(hiveConf); 

ans_lists457: //    assertEquals(null,stats.getSum()); 

ans_lists458: LlapIoImpl.LOG.error("decodeBatch threw", ex); 

ans_lists459: private Map<String, Object> makeOneTablePartition(String partIdent) 

ans_lists460: if (abortTxns(dbConn, Collections.singletonList(txnid), true) != 1) { 

ans_lists461: configureAmRegistry(newSession); 

ans_lists462: } 

ans_lists463: if (input != colSrcRR) { 

ans_lists464: private final AtomicReference<InetSocketAddress> srvAddress = new AtomicReference<>(), 

ans_lists465: too long. 

ans_lists466: too long. 

ans_lists467: String intermediateRecordsCounterName = formattedName( 

ans_lists468: InputFormat format = inputFormats.get(inputFormatClass.getName()); 

ans_lists469: maxLength = -1; 

ans_lists470: long totalLength; 

ans_lists471: AcidUtils.Directory dirInfo = AcidUtils.getAcidState( 

ans_lists472: // could generate different error messages 

ans_lists473: Path warehousePath; 

ans_lists474: public void setStmtId(int stmtId) { 

ans_lists475: case LIST: 

ans_lists476: checkAndSetFileOwnerPermissions(fs, tablePath, 

ans_lists477: //       into LlapNodeId. We get node info from registry; that should (or can) include it. 

ans_lists478: TypeInfo typeInfo = TypeInfoUtils.getTypeInfoFromTypeString( 

ans_lists479: Properties props = outputJobInfo.getTableInfo().getStorerInfo().getProperties(); 

ans_lists480: public int getNumBuckets() { 

ans_lists481: System.setProperty("https.protocols", "TLSv1,TLSv1.1,TLSv1.2"); 

ans_lists482: ByteBuffer restored = OrcInputFormatForTest.caches.cache.get(key).data; 

ans_lists483: hadoopAuth = conf.get(HADOOP_SECURITY_AUTHENTICATION, "simple"); 

ans_lists484: // can be inherited from a base class. 

ans_lists485: public static Builder create(String dbName, 

ans_lists486: if (curErr instanceof org.apache.hadoop.security.AccessControlException 

ans_lists487: switch (queryState.getHiveOperation() == null ? HiveOperation.QUERY : queryState.getHiveOperation()) { 

ans_lists488: List<String> transactionalTables = tablesFromReadEntities(inputs) 

ans_lists489: } 

ans_lists490: } 

ans_lists491: } 

ans_lists492: protected transient Object[][] cachedKeys; 

ans_lists493: too long. 

ans_lists494: try { 

ans_lists495: None 

ans_lists496: for (RelDataTypeField field : rowType.getFieldList()) { 

ans_lists497: if (tableFieldTypeInfo.getCategory() != Category.PRIMITIVE) { 

ans_lists498: String query = "insert overwrite table " + tmpName + " "; 

ans_lists499: String message = null; 

ans_lists500: // just last one. 

