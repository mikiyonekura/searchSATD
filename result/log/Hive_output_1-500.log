
ーーーーーーーーSearch the target string1ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:probablythisshouldalsobeintegratedwithisSame()logics
 
predict_string:
 //FIXME:probablythisshouldalsobeintegratedwithisSame()logics 

line_no || similarity 

655 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SharedWorkOptimizer.java 

under_code:
private static boolean areMergeable(ParseContext pctx, SharedWorkOptimizerCache optimizerCache,
 

ーーーーーーーーSearch the target string2ーーーーーーーーーーーーーーー
 
search_string:
 //Waitfort1toblock,justbesure.Notideal...
 
predict_string:
 //Waitfort1toblock,justbesure.Notideal... 

line_no || similarity 

575 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/exec/tez/TestWorkloadManager.java 

under_code:
State s;
 

ーーーーーーーーSearch the target string3ーーーーーーーーーーーーーーー
 
search_string:
 //HIVE-17328:notsurethisiscorrect...Idon'tthinkisgetswrappedinUDFToInteger....
 
predict_string:
 //HIVE-17328:notsurethisiscorrect...Idon'tthinkisgetswrappedinUDFToInteger.... 

line_no || similarity 

209 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedDynPartitionOptimizer.java 

under_code:
bucketColumns.add(new ExprNodeColumnDesc(ci));
 

ーーーーーーーーSearch the target string4ーーーーーーーーーーーーーーー
 
search_string:
 //Weexpectthistoneverhappeninpractice.Canpoolpathsevenhaveangledbraces?
 
predict_string:
 //Weexpectthistoneverhappeninpractice.Canpoolpathsevenhaveangledbraces? 

line_no || similarity 

940 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/MetaDataFormatUtils.java 

under_code:
} while (result != null);
 

ーーーーーーーーSearch the target string5ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Thisdoesnotworkcorrectly.Noneofthepartitionsiscreated,butthefolderforthefirsttwoiscreated.ItisbecauseinHiveMetaStore.add_partitions_corewhengoingthroughthepartitions,thefirsttwoarealreadyputandstartedinthethreadpoolwhentheexceptionoccursinthethirdone.Whentheexceptionoccurs,wegotothefinallypart,butthemapcanbeempty(itdependsontheprogressoftheotherthreads)sothefolderswon'tbedeleted.Assert.assertFalse(metaStore.isPathExists(newPath(tableLocation+"/year=2016")));
 
under_code:
too long.
 

ーーーーーーーーSearch the target string6ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:removethisafterstashingonlyrqdpiecesfromopconverter
 
predict_string:
 //TODO:removethisafterstashingonlyrqdpiecesfromopconverter 

line_no || similarity 

122 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/HiveOpConverter.java 

under_code:
private final SemanticAnalyzer                              semanticAnalyzer;
 

ーーーーーーーーSearch the target string7ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:shouldwetrytomakeagiantarrayforonecachecalltoavoidoverhead?
 
predict_string:
 //TODO:shouldwetrytomakeagiantarrayforonecachecalltoavoidoverhead? 

line_no || similarity 

267 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/llap/LlapCacheAwareFs.java 

under_code:
for (Map.Entry<Long, Long> missingChunk : chunksInThisRead.entrySet()) {
 

ーーーーーーーーSearch the target string8ーーーーーーーーーーーーーーー
 
search_string:
 //Forwardtherowtoreducerasis.Discardtherow.Vectorized-mayforwardtherow,notsureyet.
 
under_code:
None
 

ーーーーーーーーSearch the target string9ーーーーーーーーーーーーーーー
 
search_string:
 //7.Handleanymovesessionrequests.Thewaymovesessionworksrightnowisa)sessionsgetmovedtodestinationpoolifthereiscapacityindestinationpoolb)ifthereisnocapacityindestinationpool,thesessiongetskilled(sincewecannotpauseaquery)TODO:infuturethistheprocessofkillingcanbedelayeduntilthepointwhereasessionisactuallyrequired.Wecouldconsiderdelayingthemove(whendestinationcapacityisfull)untilthereisclaiminsrcpool.Maybechangecommandtosupport...DELAYEDMOVETOetl...whichwillrunundersrcclusterfractionaslong
 
under_code:
too long.
 

ーーーーーーーーSearch the target string10ーーーーーーーーーーーーーーー
 
search_string:
 //Notthread-safe.
 
predict_string:
 //Notthread-safe. 

line_no || similarity 

2177 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/util/src/main/java/org/apache/hadoop/hive/ql/QTestUtil.java 

under_code:
System.out.println("Getting versions from " + queryDir);
 

ーーーーーーーーSearch the target string11ーーーーーーーーーーーーーーー
 
search_string:
 //itwouldbebetterifAlreadyExistsExceptionhadanerrorCodefield....
 
predict_string:
 //itwouldbebetterifAlreadyExistsExceptionhadanerrorCodefield.... 

line_no || similarity 

4831 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 

under_code:
throw new HiveException(ex, ErrorMsg.DATABSAE_ALREADY_EXISTS, crtDb.getName());
 

ーーーーーーーーSearch the target string12ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thiscanprobablybereplacedwithmuchlesscodeviadynamicdispatchand/ortemplates.
 
predict_string:
 //TODO:thiscanprobablybereplacedwithmuchlesscodeviadynamicdispatchand/ortemplates. 

line_no || similarity 

36 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/plan/DDLWork.java 

under_code:
private PreInsertTableDesc preInsertTableDesc;
 

ーーーーーーーーSearch the target string13ーーーーーーーーーーーーーーー
 
search_string:
 //TODOHandlethisproperly
 
predict_string:
 //TODOHandlethisproperly 

line_no || similarity 

376 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskCommunicator.java 

under_code:
throw new RuntimeException("ContainerInfo not found for container: " + containerId +
 

ーーーーーーーーSearch the target string14ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:DoweneedmaxLengthchecking?
 
predict_string:
 //TODO:DoweneedmaxLengthchecking? 

line_no || similarity 

786 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorAssignRow.java 

under_code:
byte[] bytes = hiveVarchar.getValue().getBytes();
 

ーーーーーーーーSearch the target string15ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:prewarmandupdatecanprobablybemerged.
 
predict_string:
 //TODO:prewarmandupdatecanprobablybemerged. 

line_no || similarity 

512 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/cache/CachedStore.java 

under_code:
update();
 

ーーーーーーーーSearch the target string16ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#getTblProps()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#getTblProps()}.ToberemovedinHive0.16. 

line_no || similarity 

199 || 0.9333333333333333 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public Map<String, String> getTblProps() {
 

ーーーーーーーーSearch the target string17ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:disablingthistestastezpublishescountersonlyaftertaskcompletionwhichwillcausewritesidecounterstobenotvalidatedcorrectly(DAGwillbecompletedbeforevalidation)@Test(timeout=60000)
 
sub_line:
 publicvoidtestTriggerSlowQueryExecutionTime()throwsException{ 

frontremoved_sub_line:
 icvoidtestTriggerSlowQueryExecutionTime()throwsException{ 

predict_string:
 @Test(timeout=60000) 

line_no || similarity 

45 || 0.19900497512437812 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hive-unit/src/test/java/org/apache/hive/jdbc/TestTriggersNoTezSessionPool.java 

under_code:
public void testTriggerSlowQueryExecutionTime() throws Exception {
 

ーーーーーーーーSearch the target string18ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:mightwanttoincreasethedefaultbatchsize.1024isviable;MSgetsOOMiftoohigh.
 
predict_string:
 //TODO:mightwanttoincreasethedefaultbatchsize.1024isviable;MSgetsOOMiftoohigh. 

line_no || similarity 

3090 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java 

under_code:
int nParts = partNames.size();
 

ーーーーーーーーSearch the target string19ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:removewhenaverageTypeValueSizemethodRelMdSize
 
predict_string:
 //TODO:removewhenaverageTypeValueSizemethodRelMdSize 

line_no || similarity 

120 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/stats/HiveRelMdSize.java 

under_code:
//       supports all types
 

ーーーーーーーーSearch the target string20ーーーーーーーーーーーーーーー
 
search_string:
 //Westoreallcachesinvariablestochangethemainonebasedonconfig.Thisisnotthreadsafebetweendifferentsplitgenerations(andwasn'tanyway).
 
sub_line:
 //Thisisnotthreadsafebetweendifferentsplitgenerations(andwasn'tanyway). 

frontremoved_sub_line:
 isisnotthreadsafebetweendifferentsplitgenerations(andwasn'tanyway). 

sub_line:
 privateFooterCachefooterCache; 

frontremoved_sub_line:
 ateFooterCachefooterCache; 

predict_string:
 //Westoreallcachesinvariablestochangethemainonebasedonconfig. 

line_no || similarity 

608 || 0.6387434554973822 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcInputFormat.java 

under_code:
private FooterCache footerCache;
 

ーーーーーーーーSearch the target string21ーーーーーーーーーーーーーーー
 
search_string:
 //$x/$user/appcache/$appId/${dagId}/output/$mapIdTODO:OnceShuffleisoutofNM,thiscanuseMRAPIstoconvertbetweenAppandJob
 
sub_line:
 //TODO:OnceShuffleisoutofNM,thiscanuseMRAPIstoconvert 

frontremoved_sub_line:
 DO:OnceShuffleisoutofNM,thiscanuseMRAPIstoconvert 

sub_line:
 //betweenAppandJob 

frontremoved_sub_line:
 tweenAppandJob 

sub_line:
 Stringparts[]=jobIdString.split("_"); 

frontremoved_sub_line:
 ngparts[]=jobIdString.split("_"); 

predict_string:
 //$x/$user/appcache/$appId/${dagId}/output/$mapId 

line_no || similarity 

1074 || 0.593939393939394 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/shufflehandler/ShuffleHandler.java 

under_code:
String parts[] = jobIdString.split("_");
 

ーーーーーーーーSearch the target string22ーーーーーーーーーーーーーーー
 
search_string:
 //todo:doesthisneedthefinalDestination?
 
predict_string:
 //todo:doesthisneedthefinalDestination? 

line_no || similarity 

287 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/exec/TestFileSinkOperator.java 

under_code:
desc = new FileSinkDesc(basePath, tableDesc, false, 1, false,
 

ーーーーーーーーSearch the target string23ーーーーーーーーーーーーーーー
 
search_string:
 //todo:addLIMIT1insteadofcount-shouldbemoreefficient
 
predict_string:
 //todo:addLIMIT1insteadofcount-shouldbemoreefficient 

line_no || similarity 

4235 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java 

under_code:
s = "select count(*) from COMPLETED_TXN_COMPONENTS where CTC_TXNID = " + txnid;
 

ーーーーーーーーSearch the target string24ーーーーーーーーーーーーーーー
 
search_string:
 /**TODO:client.executeStatementdonotsupportlistingresourcescommand*(beeline>listjar)*/
 
sub_line:
 *(beeline>listjar) 

frontremoved_sub_line:
 eline>listjar) 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 //Assert.assertEquals("expecteduri",api.getAddedResource("jar")); 

frontremoved_sub_line:
 sert.assertEquals("expecteduri",api.getAddedResource("jar")); 

predict_string:
 *TODO:client.executeStatementdonotsupportlistingresourcescommand 

line_no || similarity 

145 || 0.8533333333333334 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/service/src/test/org/apache/hive/service/cli/session/TestSessionGlobalInitFile.java 

under_code:
// Assert.assertEquals("expected uri", api.getAddedResource("jar"));
 

ーーーーーーーーSearch the target string25ーーーーーーーーーーーーーーー
 
search_string:
 //Note:schedulerwillcallthisbasedonlackofsourcesatscheduletimeandsetthistotrue...there'snoeasywaytoworkaroundthis.Needbetterclasses
 
sub_line:
 //totrue...there'snoeasywaytoworkaroundthis.Needbetterclasses 

frontremoved_sub_line:
 true...there'snoeasywaytoworkaroundthis.Needbetterclasses 

sub_line:
 if(this.canUpdateFinishable){ 

frontremoved_sub_line:
 his.canUpdateFinishable){ 

predict_string:
 //Note:schedulerwillcallthisbasedonlackofsourcesatscheduletimeandsetthis 

line_no || similarity 

363 || 0.7093596059113301 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/test/org/apache/hadoop/hive/llap/daemon/impl/TaskExecutorTestHelpers.java 

under_code:
if (this.canUpdateFinishable) {
 

ーーーーーーーーSearch the target string26ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:willthisalsofixwindowing?try
 
predict_string:
 //TODO:willthisalsofixwindowing?try 

line_no || similarity 

4344 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/CalcitePlanner.java 

under_code:
RowResolver inputRR = this.relToHiveRR.get(srcRel), starRR = inputRR;
 

ーーーーーーーーSearch the target string27ーーーーーーーーーーーーーーー
 
search_string:
 //butlet'smakeitalittlebitmoreexplicit.
 
predict_string:
 //butlet'smakeitalittlebitmoreexplicit. 

line_no || similarity 

3939 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 

under_code:
if (allPartitions != null) {
 

ーーーーーーーーSearch the target string28ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ThisshouldinheritfromVolcanoCostandshouldjustoverrideisLEmethod.
 
sub_line:
 //method. 

frontremoved_sub_line:
 thod. 

sub_line:
 publicclassHiveCostimplementsRelOptCost{ 

frontremoved_sub_line:
 icclassHiveCostimplementsRelOptCost{ 

predict_string:
 //TODO:ThisshouldinheritfromVolcanoCostandshouldjustoverrideisLE 

line_no || similarity 

31 || 0.9481481481481482 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/cost/HiveCost.java 

under_code:
public class HiveCost implements RelOptCost {
 

ーーーーーーーーSearch the target string29ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:1)checkforduplicates2)WeassumeinclausevaluestobepresentinNDVwhichmaynotbecorrect(Rangecheckcanfindit)3)WeassumevaluesinNDVsetisuniformlydistributedovercolvalues(accountforskewness-histogram).
 
sub_line:
 //presentinNDVwhichmaynotbecorrect(Rangecheckcanfindit)3)We 

frontremoved_sub_line:
 esentinNDVwhichmaynotbecorrect(Rangecheckcanfindit)3)We 

sub_line:
 //assumevaluesinNDVsetisuniformlydistributedovercolvalues 

frontremoved_sub_line:
 sumevaluesinNDVsetisuniformlydistributedovercolvalues 

sub_line:
 //(accountforskewness-histogram). 

frontremoved_sub_line:
 ccountforskewness-histogram). 

sub_line:
 selectivity=computeFunctionSelectivity(call)*(call.operands.size()-1); 

frontremoved_sub_line:
 ctivity=computeFunctionSelectivity(call)*(call.operands.size()-1); 

predict_string:
 //TODO:1)checkforduplicates2)Weassumeinclausevaluestobe 

line_no || similarity 

117 || 0.43478260869565216 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/stats/FilterSelectivityEstimator.java 

under_code:
selectivity = computeFunctionSelectivity(call) * (call.operands.size() - 1);
 

ーーーーーーーーSearch the target string30ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ifwedidn'tcareaboutthecolumnorder,wecouldswitchjoinsideshere
 
predict_string:
 //TODO:ifwedidn'tcareaboutthecolumnorder,wecouldswitchjoinsideshere 

line_no || similarity 

9546 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 

under_code:
//       for TOK_JOIN and TOK_FULLOUTERJOIN.
 

ーーーーーーーーSearch the target string31ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:wecouldrememberifit'sunsupportedandstopsendingcalls;although,itmightbeabadideaforHS2+standalonemetastorethatcouldbeupdatedwithsupport.Maybeweshouldjustrememberthisforsometime.
 
sub_line:
 //beabadideaforHS2+standalonemetastorethatcouldbeupdatedwithsupport. 

frontremoved_sub_line:
 abadideaforHS2+standalonemetastorethatcouldbeupdatedwithsupport. 

sub_line:
 //Maybeweshouldjustrememberthisforsometime. 

frontremoved_sub_line:
 ybeweshouldjustrememberthisforsometime. 

sub_line:
 if(!resp.isIsSupported()){ 

frontremoved_sub_line:
 resp.isIsSupported()){ 

predict_string:
 //TODO:wecouldrememberifit'sunsupportedandstopsendingcalls;although,itmight 

line_no || similarity 

2605 || 0.5836575875486382 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClientPreCatalog.java 

under_code:
if (!resp.isIsSupported()) {
 

ーーーーーーーーSearch the target string32ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#location(String)}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#location(String)}.ToberemovedinHive0.16. 

line_no || similarity 

310 || 0.935672514619883 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public Builder location(String location) {
 

ーーーーーーーーSearch the target string33ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whyisthislikethat?
 
predict_string:
 //TODO:whyisthislikethat? 

line_no || similarity 

1012 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/UpdateDeleteSemanticAnalyzer.java 

under_code:
for(ReadEntity re : partitionsRead) {
 

ーーーーーーーーSearch the target string34ーーーーーーーーーーーーーーー
 
search_string:
 /*TODOEscapehandlingmaybechangedbyafollowon.*Thelargestissueis;whicharetreatedasstatement*terminatorsforthecli.Oncethecliisfixedthis*codeshouldbere-investigated*/
 
sub_line:
 *Thelargestissueis;whicharetreatedasstatement 

frontremoved_sub_line:
 largestissueis;whicharetreatedasstatement 

sub_line:
 *terminatorsforthecli.Oncethecliisfixedthis 

frontremoved_sub_line:
 minatorsforthecli.Oncethecliisfixedthis 

sub_line:
 *codeshouldbere-investigated 

frontremoved_sub_line:
 eshouldbere-investigated 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 while(command.charAt(startPosition++)!='`'&&startPosition<command.length()){ 

frontremoved_sub_line:
 e(command.charAt(startPosition++)!='`'&&startPosition<command.length()){ 

predict_string:
 /*TODOEscapehandlingmaybechangedbyafollowon. 

line_no || similarity 

154 || 0.42718446601941745 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/processors/CompileProcessor.java 

under_code:
while (command.charAt(startPosition++) != '`' && startPosition < command.length()){
 

ーーーーーーーーSearch the target string35ーーーーーーーーーーーーーーー
 
search_string:
 //Deletedata?Failiftabledoesn'texist?Needresultsback?
 
under_code:
None
 

ーーーーーーーーSearch the target string36ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Thisdoesnotworkcorrectly.Noneofthepartitionsiscreated,butthefolderforthefirsttwoiscreated.ItisbecauseinHiveMetaStore.add_partitions_corewhengoingthroughthepartitions,thefirsttwoarealreadyputandstartedinthethreadpoolwhentheexceptionoccursinthethirdone.Whentheexceptionoccurs,wegotothefinallypart,butthemapcanbeempty(itdependsontheprogressoftheotherthreads)sothefolderswon'tbedeleted.Assert.assertTrue(metaStore.isPathExists(newPath(partition1.getSd().getLocation())));Assert.assertTrue(metaStore.isPathExists(newPath(partition2.getSd().getLocation())));Assert.assertTrue(metaStore.isPathExists(newPath(partition3.getSd().getLocation())));
 
under_code:
too long.
 

ーーーーーーーーSearch the target string37ーーーーーーーーーーーーーーー
 
search_string:
 //Note:weassumethatthisisn'tanalreadymalformedquery;wedon'tcheckforthathere-itwillfaillateranyway.
 
sub_line:
 //wedon'tcheckforthathere-itwillfaillateranyway. 

frontremoved_sub_line:
 don'tcheckforthathere-itwillfaillateranyway. 

sub_line:
 //First,wefindtheSELECTclosesttothetop. 

frontremoved_sub_line:
 rst,wefindtheSELECTclosesttothetop. 

predict_string:
 //Note:weassumethatthisisn'tanalreadymalformedquery; 

line_no || similarity 

402 || 0.6933333333333334 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseUtils.java 

under_code:
// First, we find the SELECT closest to the top.
 

ーーーーーーーーSearch the target string38ーーーーーーーーーーーーーーー
 
search_string:
 //TODO-notclearifweshouldcachetheseornot.Fornow,don'tbother
 
predict_string:
 //TODO-notclearifweshouldcachetheseornot.Fornow,don'tbother 

line_no || similarity 

2202 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/cache/CachedStore.java 

under_code:
@Override
 

ーーーーーーーーSearch the target string39ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisneedstoberemoved;seeTestReplicationScenarios*comments.
 
predict_string:
 //TODO:thisneedstoberemoved;seeTestReplicationScenarios*comments. 

line_no || similarity 

582 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 

under_code:
HIVE_IN_TEST_REPL("hive.in.repl.test", false, "internal usage only, true in replication test mode", true),
 

ーーーーーーーーSearch the target string40ーーーーーーーーーーーーーーー
 
search_string:
 //BUG:Thiswillnotworkinremotemode-HIVE-5153
 
predict_string:
 //BUG:Thiswillnotworkinremotemode-HIVE-5153 

line_no || similarity 

892 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java 

under_code:
String currDb = SessionState.get().getCurrentDatabase();
 

ーーーーーーーーSearch the target string41ーーーーーーーーーーーーーーー
 
search_string:
 //TODOChangethismethodtomaketheoutputeasiertoparse(parseprogrammatically)
 
predict_string:
 //TODOChangethismethodtomaketheoutputeasiertoparse(parseprogrammatically) 

line_no || similarity 

231 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/daemon/impl/TaskExecutorService.java 

under_code:
Set<String> result = new LinkedHashSet<>();
 

ーーーーーーーーSearch the target string42ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:remove?
 
predict_string:
 RowIndexEntrygetRowIndexEntry(intcolIx,intrgIx);//TODO:remove? 

line_no || similarity 

32 || 0.3684210526315789 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/metadata/ConsumerStripeMetadata.java 

under_code:
RowIndex[] getRowIndexes();
 

ーーーーーーーーSearch the target string43ーーーーーーーーーーーーーーー
 
search_string:
 //Wouldn'titmakemoresensetoreturnthefirstelementofthelistreturnedbythepreviouscall?
 
sub_line:
 //previouscall? 

frontremoved_sub_line:
 eviouscall? 

sub_line:
 returnnewPartition(); 

frontremoved_sub_line:
 rnnewPartition(); 

predict_string:
 //Wouldn'titmakemoresensetoreturnthefirstelementofthelistreturnedbythe 

line_no || similarity 

3917 || 0.9150326797385621 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 

under_code:
return new Partition();
 

ーーーーーーーーSearch the target string44ーーーーーーーーーーーーーーー
 
search_string:
 //abetterlogicwouldbetofindthealias
 
predict_string:
 //abetterlogicwouldbetofindthealias 

line_no || similarity 

518 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/MapRecordProcessor.java 

under_code:
theMRInput = (MRInputLegacy) inp.getValue();
 

ーーーーーーーーSearch the target string45ーーーーーーーーーーーーーーー
 
search_string:
 //weneedtoenforcethesizehereeventhetypesarethesame
 
predict_string:
 //weneedtoenforcethesizehereeventhetypesarethesame 

line_no || similarity 

106 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/vector/ParquetDataColumnReaderFactory.java 

under_code:
return valuesReader.readBytes().getBytesUnsafe();
 

ーーーーーーーーSearch the target string46ーーーーーーーーーーーーーーー
 
search_string:
 //ThismethodmaynotbesafeasitcanthrowanNPEifakeyorvalueisnull.
 
predict_string:
 //ThismethodmaynotbesafeasitcanthrowanNPEifakeyorvalueisnull. 

line_no || similarity 

725 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/core/src/main/java/org/apache/hive/hcatalog/common/HCatUtil.java 

under_code:
return Maps.fromProperties(properties);
 

ーーーーーーーーSearch the target string47ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisisanuglyhackbecauseTezpluginisolationdoesnotmakesenseforLLAPplugins.Wearegoingtoregisterathread-localherefornow,sothatthescheduler,initializinginthesamethreadafterthecommunicator,willpickup.Ortheotherwayaround.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string48ーーーーーーーーーーーーーーー
 
search_string:
 //TODOMS-SPLITuncommentoncewemoveEventMessageover
 
predict_string:
 //TODOMS-SPLITuncommentoncewemoveEventMessageover 

line_no || similarity 

520 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/TestObjectStore.java 

under_code:
@Test
 

ーーーーーーーーSearch the target string49ーーーーーーーーーーーーーーー
 
search_string:
 //Followhive'srulesfortypeinferenceasopposetoCalcite'sforreturntype.TODO:Perhapsweshoulddothisforallfunctions,notjust+,-
 
sub_line:
 //forreturntype. 

frontremoved_sub_line:
 rreturntype. 

sub_line:
 //TODO:Perhapsweshoulddothisforallfunctions,notjust+,- 

frontremoved_sub_line:
 DO:Perhapsweshoulddothisforallfunctions,notjust+,- 

sub_line:
 case"-": 

frontremoved_sub_line:
 "-": 

predict_string:
 //Followhive'srulesfortypeinferenceasopposetoCalcite's 

line_no || similarity 

565 || 0.6206896551724138 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/SqlFunctionConverter.java 

under_code:
case "-":
 

ーーーーーーーーSearch the target string50ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:[HIVE-6289]whilegettingstatsfrommetastore,wecurrentlyonlygetonecolatatime;thiscouldbeimproved-getallnecessarycolumnsinadvance,thenuselocal.TODO:[HIVE-6292]aggregationscouldbedonedirectlyinmetastore.HiveoverMySQL!
 
under_code:
too long.
 

ーーーーーーーーSearch the target string51ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:seeplanIndexReading;thisisnotneededhere.
 
predict_string:
 //TODO:seeplanIndexReading;thisisnotneededhere. 

line_no || similarity 

2099 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/encoded/EncodedReaderImpl.java 

under_code:
private static boolean hadBadBloomFilters(TypeDescription.Category category,
 

ーーーーーーーーSearch the target string52ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whyisitstoredinbothtableanddpCtx?
 
predict_string:
 //TODO:whyisitstoredinbothtableanddpCtx? 

line_no || similarity 

1382 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java 

under_code:
int numBuckets = (conf.getTable() != null) ? conf.getTable().getNumBuckets()
 

ーーーーーーーーSearch the target string53ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Usethreadpoolformoreconcurrency?TODO:check/setallfiles,oronlydirectories
 
sub_line:
 //TODO:check/setallfiles,oronlydirectories 

frontremoved_sub_line:
 DO:check/setallfiles,oronlydirectories 

sub_line:
 checkAndSetFileOwnerPermissions(fs,subFile,userName,groupName,dirPerms,filePerms,dryRun,recurse); 

frontremoved_sub_line:
 kAndSetFileOwnerPermissions(fs,subFile,userName,groupName,dirPerms,filePerms,dryRun,recurse); 

predict_string:
 //TODO:Usethreadpoolformoreconcurrency? 

line_no || similarity 

893 || 0.6610169491525424 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/util/HiveStrictManagedMigration.java 

under_code:
checkAndSetFileOwnerPermissions(fs, subFile, userName, groupName, dirPerms, filePerms, dryRun, recurse);
 

ーーーーーーーーSearch the target string54ーーーーーーーーーーーーーーー
 
search_string:
 //TODOHIVE-15865HandleadditionalreasonslikeOSlaunchfailed
 
predict_string:
 //TODOHIVE-15865HandleadditionalreasonslikeOSlaunchfailed 

line_no || similarity 

516 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/cli/LlapStatusServiceDriver.java 

under_code:
sb.append("\tFAILED container: ");
 

ーーーーーーーーSearch the target string55ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:1)handleAggFuncNametranslation2)isitcorrecttoaddfunc
 
predict_string:
 //TODO:1)handleAggFuncNametranslation2)isitcorrecttoaddfunc 

line_no || similarity 

230 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/SqlFunctionConverter.java 

under_code:
// args as child of func?
 

ーーーーーーーーSearch the target string56ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:BothoftheseareTException,whydoweneedtheseseparateclauses?
 
predict_string:
 //TODO:BothoftheseareTException,whydoweneedtheseseparateclauses? 

line_no || similarity 

5953 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 

under_code:
if (e instanceof MetaException) {
 

ーーーーーーーーSearch the target string57ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:iftwoHS2sstartatexactlythesametime,whichcouldhappenduringacoordinatedrestart,theycouldstartgeneratingthesameIDs.ShouldwestorethestartTime
 
sub_line:
 //restart,theycouldstartgeneratingthesameIDs.ShouldwestorethestartTime 

frontremoved_sub_line:
 start,theycouldstartgeneratingthesameIDs.ShouldwestorethestartTime 

sub_line:
 //somewherelikeZK?Trytorandomizeitabitfornow... 

frontremoved_sub_line:
 mewherelikeZK?Trytorandomizeitabitfornow... 

predict_string:
 //TODO:iftwoHS2sstartatexactlythesametime,whichcouldhappenduringacoordinated 

line_no || similarity 

91 || 0.6909090909090909 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-client/src/java/org/apache/hadoop/hive/llap/coordinator/LlapCoordinator.java 

under_code:
//       somewhere like ZK? Try to randomize it a bit for now...
 

ーーーーーーーーSearch the target string58ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:giventhespecificdataandlookups,perhapsthenestedthingshouldnotbeamapInfact,CSLMhasslowsingle-threadedoperation,andonefileisprobablyoftenreadbyjustone(orfew)threads,soamuchmoresimpleDSwithlockingmightbebetter.Let'suseCSLMfornow,sinceit'savailable.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string59ーーーーーーーーーーーーーーー
 
search_string:
 //TODOIdeallythisshouldbedoneindependentofwhethermrissetupornot.
 
predict_string:
 //TODOIdeallythisshouldbedoneindependentofwhethermrissetupornot. 

line_no || similarity 

381 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/util/src/main/java/org/apache/hadoop/hive/ql/QTestUtil.java 

under_code:
setFsRelatedProperties(conf, fs.getScheme().equals("file"),fs);
 

ーーーーーーーーSearch the target string60ーーーーーーーーーーーーーーー
 
search_string:
 //Thisisnotmodeledasa@Before,becauseitneedstobeparameterizedper-test.Ifthereisabetterwaytodothis,weshoulddoit.
 
sub_line:
 //Ifthereisabetterwaytodothis,weshoulddoit. 

frontremoved_sub_line:
 thereisabetterwaytodothis,weshoulddoit. 

sub_line:
 privatevoidinitHS2(booleanenableXSRFFilter)throwsException{ 

frontremoved_sub_line:
 atevoidinitHS2(booleanenableXSRFFilter)throwsException{ 

predict_string:
 //Thisisnotmodeledasa@Before,becauseitneedstobeparameterizedper-test. 

line_no || similarity 

64 || 0.770949720670391 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hive-unit/src/test/java/org/apache/hive/jdbc/TestXSRFFilter.java 

under_code:
private void initHS2(boolean enableXSRFFilter) throws Exception {
 

ーーーーーーーーSearch the target string61ーーーーーーーーーーーーーーー
 
search_string:
 //todoHIVE-5269
 
predict_string:
 //todoHIVE-5269 

line_no || similarity 

178 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/serde/src/java/org/apache/hadoop/hive/serde2/SerDeUtils.java 

under_code:
return new String((byte[])obj);
 

ーーーーーーーーSearch the target string62ーーーーーーーーーーーーーーー
 
search_string:
 //Makesurenull-valuedConfVarpropertiesdonotoverridetheHadoopConfigurationNOTE:Commentoutthefollowingtestcasefornowuntilabetterwaytotestisfound,asthistestcasecannotbereliablytested.ThereasonforthisisthatHivedoesoverwritefs.default.nameinHiveConfifthepropertyissetinsystemproperties.checkHadoopConf(ConfVars.HADOOPFS.varname,"core-site.xml");checkConfVar(ConfVars.HADOOPFS,null);checkHiveConf(ConfVars.HADOOPFS.varname,"core-site.xml");
 
under_code:
too long.
 

ーーーーーーーーSearch the target string63ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatPartition.#getDatabaseName()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatPartition.#getDatabaseName()}.ToberemovedinHive0.16. 

line_no || similarity 

101 || 0.9392265193370166 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatAddPartitionDesc.java 

under_code:
public String getDatabaseName() {
 

ーーーーーーーーSearch the target string64ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:duetovalue101thisprobablyshouldthrowanexception
 
predict_string:
 //TODO:duetovalue101thisprobablyshouldthrowanexception 

line_no || similarity 

1124 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/client/TestListPartitions.java 

under_code:
List<String> partitionNames = client.listPartitionNames(DB_NAME, TABLE_NAME,
 

ーーーーーーーーSearch the target string65ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#getSortCols()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#getSortCols()}.ToberemovedinHive0.16. 

line_no || similarity 

189 || 0.9333333333333333 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public List<Order> getSortCols() {
 

ーーーーーーーーSearch the target string66ーーーーーーーーーーーーーーー
 
search_string:
 //Hmm..notgood,theonlytypeexpectedhereisSTRUCT,whichmapstoHCatRecord-anythingelseisanerror.Returnnullastheinspector.
 
sub_line:
 //theonlytypeexpectedhereisSTRUCT,whichmapstoHCatRecord 

frontremoved_sub_line:
 eonlytypeexpectedhereisSTRUCT,whichmapstoHCatRecord 

sub_line:
 //-anythingelseisanerror.Returnnullastheinspector. 

frontremoved_sub_line:
 nythingelseisanerror.Returnnullastheinspector. 

sub_line:
 thrownewSerDeException("TypeInfo["+typeInfo.getTypeName() 

frontremoved_sub_line:
 wnewSerDeException("TypeInfo["+typeInfo.getTypeName() 

predict_string:
 //Hmm..notgood, 

line_no || similarity 

74 || 0.22900763358778625 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/core/src/main/java/org/apache/hive/hcatalog/data/HCatRecordObjectInspectorFactory.java 

under_code:
throw new SerDeException("TypeInfo [" + typeInfo.getTypeName()
 

ーーーーーーーーSearch the target string67ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:shouldtheseratherbearrays?
 
predict_string:
 //TODO:shouldtheseratherbearrays? 

line_no || similarity 

62 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/plan/MapJoinDesc.java 

under_code:
private Map<Integer, String> parentToInput = new HashMap<Integer, String>();
 

ーーーーーーーーSearch the target string68ーーーーーーーーーーーーーーー
 
search_string:
 //TODOChangeallthistobebasedonaregularinterfaceinsteadofrelyingontheProtoservice-Exceptionsignaturescannotbecontrolledwithoutthisforthemoment.
 
predict_string:
 //TODOChangeallthistobebasedonaregularinterfaceinsteadofrelyingontheProtoservice-Exceptionsignaturescannotbecontrolledwithoutthisforthemoment. 

line_no || similarity 

46 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-common/src/java/org/apache/hadoop/hive/llap/impl/LlapProtocolClientImpl.java 

under_code:
public class LlapProtocolClientImpl implements LlapProtocolBlockingPB {
 

ーーーーーーーーSearch the target string69ーーーーーーーーーーーーーーー
 
search_string:
 //PolicyChangeListenerwillbeimplementedlater
 
predict_string:
 //PolicyChangeListenerwillbeimplementedlater 

line_no || similarity 

137 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hive-unit/src/test/java/org/apache/hive/service/server/TestInformationSchemaWithPrivilege.java 

under_code:
}
 

ーーーーーーーーSearch the target string70ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:doweactuallyneedthisreader?thecallerjustextractschildreaders.
 
predict_string:
 //TODO:doweactuallyneedthisreader?thecallerjustextractschildreaders. 

line_no || similarity 

2266 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/encoded/EncodedTreeReaderFactory.java 

under_code:
return StructStreamReader.builder()
 

ーーーーーーーーSearch the target string71ーーーーーーーーーーーーーーー
 
search_string:
 //TODOHIVE-14042.WhatismergeWork,andwhyisitnotpartoftheregularoperatorchain.ThemergeMapOp.initializecallfurtherdowncanblock,andwillnotreceiveinformationaboutanabortrequest.
 
sub_line:
 //ThemergeMapOp.initializecallfurtherdowncanblock,andwillnotreceiveinformation 

frontremoved_sub_line:
 emergeMapOp.initializecallfurtherdowncanblock,andwillnotreceiveinformation 

sub_line:
 //aboutanabortrequest. 

frontremoved_sub_line:
 outanabortrequest. 

sub_line:
 MapWorkmergeMapWork=(MapWork)mergeWork; 

frontremoved_sub_line:
 orkmergeMapWork=(MapWork)mergeWork; 

predict_string:
 //TODOHIVE-14042.WhatismergeWork,andwhyisitnotpartoftheregularoperatorchain. 

line_no || similarity 

215 || 0.6129032258064516 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/MapRecordProcessor.java 

under_code:
MapWork mergeMapWork = (MapWork) mergeWork;
 

ーーーーーーーーSearch the target string72ーーーーーーーーーーーーーーー
 
search_string:
 //TODOHIVE-15163.Handlecaseswherenodesgodownandcomebackonthesameport.Historicinformation
 
predict_string:
 //TODOHIVE-15163.Handlecaseswherenodesgodownandcomebackonthesameport.Historicinformation 

line_no || similarity 

566 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskCommunicator.java 

under_code:
// can prevent updates from being sent out to the new node.
 

ーーーーーーーーSearch the target string73ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:mostprotocolexceptionsareprobablyunrecoverable...throw?
 
predict_string:
 //TODO:mostprotocolexceptionsareprobablyunrecoverable...throw? 

line_no || similarity 

234 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/RetryingMetaStoreClient.java 

under_code:
caughtException = (TException)t;
 

ーーーーーーーーSearch the target string74ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:dowealsoneedtoremovetheMapJoinfromthelistofRS'schildren?
 
predict_string:
 //TODO:dowealsoneedtoremovetheMapJoinfromthelistofRS'schildren? 

line_no || similarity 

454 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/GenTezWork.java 

under_code:
}
 

ーーーーーーーーSearch the target string75ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whyisthereaTezSessioninMRExecDriver?
 
predict_string:
 //TODO:whyisthereaTezSessioninMRExecDriver? 

line_no || similarity 

410 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/mr/ExecDriver.java 

under_code:
if (ss != null && HiveConf.getVar(job, ConfVars.HIVE_EXECUTION_ENGINE).equals("tez")) {
 

ーーーーーーーーSearch the target string76ーーーーーーーーーーーーーーー
 
search_string:
 //ReplaceINSERTOVERWRITEbyMERGEequivalentrewriting.HereweneedtodothiscomplexASTrewritingthatgeneratesthesameplanthataMERGEclausewouldgeneratebecauseCBOdoesnotsupportMERGEyet.TODO:SupportMERGEasfirstclassmemberinCBOtosimplifythislogic.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string77ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:CurrentimplementationofreplicationwillresultinDROP_PARTITIONunderreplicationscopebeingcalledper-partitioninsteadofmultiplepartitions.However,toberobust,wemuststillhandlethecaseofmultiplepartitionsincasethisassumptionchangesinthefuture.However,ifthisassumptionchanges,wewillnotbeveryperformantifwefetcheachpartitionone-by-one,andthendecideoninspectionwhetherornotthisisacandidatefordropping.Thus,weneedawaytopushthisfilter(replicationSpec.allowEventReplacementInto)tothemetastoretoallowittododropapartitionornot,dependingonaPredicateontheparameterkeyvalues.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string78ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:shouldwepasscurrinsteadofnull?
 
predict_string:
 //TODO:shouldwepasscurrinsteadofnull? 

line_no || similarity 

6238 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 

under_code:
curr = genPostGroupByBodyPlan(groupByOperatorInfo, dest, qb, aliasToOpInfo, null);
 

ーーーーーーーーSearch the target string79ーーーーーーーーーーーーーーー
 
search_string:
 //Reallynotsureifthisshouldgohere.Willhavetoseehowthestoragemechanismevolves.
 
sub_line:
 //toseehowthestoragemechanismevolves. 

frontremoved_sub_line:
 seehowthestoragemechanismevolves. 

sub_line:
 if(type.equals(Type.JOB)){ 

frontremoved_sub_line:
 ype.equals(Type.JOB)){ 

predict_string:
 //Reallynotsureifthisshouldgohere.Willhave 

line_no || similarity 

125 || 0.7058823529411765 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/svr/src/main/java/org/apache/hive/hcatalog/templeton/tool/ZooKeeperStorage.java 

under_code:
if (type.equals(Type.JOB)) {
 

ーーーーーーーーSearch the target string80ーーーーーーーーーーーーーーー
 
search_string:
 //TODOForcefstofile://,setupstagingdir?conf.set("fs.defaultFS","file:///");conf.set(TezConfiguration.TEZ_AM_STAGING_DIR,"/tmp");
 
sub_line:
 conf.setBoolean("tez.runtime.optimize.local.fetch",true); 

frontremoved_sub_line:
 .setBoolean("tez.runtime.optimize.local.fetch",true); 

predict_string:
 conf.set("fs.defaultFS","file:///"); 

line_no || similarity 

864 || 0.43902439024390244 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/TestAcidOnTez.java 

under_code:
conf.setBoolean("tez.runtime.optimize.local.fetch", true);
 

ーーーーーーーーSearch the target string81ーーーーーーーーーーーーーーー
 
search_string:
 //todo:whynotjustusegetRootDir()?
 
predict_string:
 root=path.getParent().getParent();//todo:whynotjustusegetRootDir()? 

line_no || similarity 

357 || 0.66 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/VectorizedOrcAcidRowBatchReader.java 

under_code:
assert root.equals(orcSplit.getRootDir()) : "root mismatch: baseDir=" + orcSplit.getRootDir() +
 

ーーーーーーーーSearch the target string82ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:lossyconversion!
 
predict_string:
 returnd1.subtract(d2).intValue()>amt;//TODO:lossyconversion! 

line_no || similarity 

529 || 0.5542168674698795 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/udf/ptf/ValueBoundaryScanner.java 

under_code:
}
 

ーーーーーーーーSearch the target string83ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:removethecopyafterORC-158andORC-197
 
predict_string:
 //TODO:removethecopyafterORC-158andORC-197 

line_no || similarity 

546 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/OrcEncodedDataReader.java 

under_code:
// if (bb.isDirect()) {
 

ーーーーーーーーSearch the target string84ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:IftheDBnamedoesn'tmatchwiththemetadatafromdump,thenneedtorewritetheoriginalandexpandedtextsusingnewDBname.Currentlyitreferstothesourcedatabasename.
 
sub_line:
 //textsusingnewDBname.Currentlyitreferstothesourcedatabasename. 

frontremoved_sub_line:
 xtsusingnewDBname.Currentlyitreferstothesourcedatabasename. 

sub_line:
 } 

frontremoved_sub_line:
  

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 this.createViewDesc.setViewOriginalText(originalText); 

frontremoved_sub_line:
 .createViewDesc.setViewOriginalText(originalText); 

predict_string:
 //TODO:IftheDBnamedoesn'tmatchwiththemetadatafromdump,thenneedtorewritetheoriginalandexpanded 

line_no || similarity 

142 || 0.7530364372469636 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/plan/ImportTableDesc.java 

under_code:
this.createViewDesc.setViewOriginalText(originalText);
 

ーーーーーーーーSearch the target string85ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:removethisconstructor
 
predict_string:
 //TODO:removethisconstructor 

line_no || similarity 

41 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/service/src/java/org/apache/hive/service/cli/TableSchema.java 

under_code:
}
 

ーーーーーーーーSearch the target string86ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:addtheabilitytoextractFileTailtoreadfrommultiplebuffers?
 
predict_string:
 //TODO:addtheabilitytoextractFileTailtoreadfrommultiplebuffers? 

line_no || similarity 

554 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/OrcEncodedDataReader.java 

under_code:
MemoryBuffer[] tailBufferArray = tailBuffers.getMultipleBuffers();
 

ーーーーーーーーSearch the target string87ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:insteadofsimplyrestrictingbymessageformat,weshouldeventuallymovetoajdbc-driver-styperegisteringofmessageformat,andpickingmessagefactorypereventtodecode.Fornow,however,sinceallmessageshavethesamefactory,restrictingbymessageformatiseffectivelyaguardagainstolderleftoverdatathatwouldcauseusproblems.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string88ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Whenhivemovestojava8,makeupdateTimezone()asdefaultmethodin
 
predict_string:
 //TODO:Whenhivemovestojava8,makeupdateTimezone()asdefaultmethodin 

line_no || similarity 

321 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/decode/OrcEncodedDataConsumer.java 

under_code:
// SettableTreeReader so that we can avoid this check.
 

ーーーーーーーーSearch the target string89ーーーーーーーーーーーーーーー
 
search_string:
 //Notstrictlynecessary,noonewilllookatit.
 
predict_string:
 extraOffsetInChunk+=smallSize;//Notstrictlynecessary,noonewilllookatit. 

line_no || similarity 

304 || 0.7321428571428571 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/llap/LlapCacheAwareFs.java 

under_code:
if (newCacheData == null) {
 

ーーーーーーーーSearch the target string90ーーーーーーーーーーーーーーー
 
search_string:
 //2**exponentpartisscalingdownwhile10**scaleisscalingup.Nowit'stricky.unscaledValue=significand*10**scale/2**twoScaleDown
 
sub_line:
 //Nowit'stricky. 

frontremoved_sub_line:
 wit'stricky. 

sub_line:
 //unscaledValue=significand*10**scale/2**twoScaleDown 

frontremoved_sub_line:
 scaledValue=significand*10**scale/2**twoScaleDown 

sub_line:
 shorttwoScaleDown=(short)-exponent; 

frontremoved_sub_line:
 ttwoScaleDown=(short)-exponent; 

predict_string:
 //2**exponentpartisscalingdownwhile10**scaleisscalingup. 

line_no || similarity 

393 || 0.632768361581921 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/common/src/java/org/apache/hadoop/hive/common/type/Decimal128.java 

under_code:
short twoScaleDown = (short) -exponent;
 

ーーーーーーーーSearch the target string91ーーーーーーーーーーーーーーー
 
search_string:
 //TODOCAT-Iamfairlycertainthatmostcallstothisareinerror.Thisshouldonlybeusedwhenthedatabaselocationisunset,whichshouldneverhappenexceptwhenanewdatabaseisbeingcreated.OnceIhaveconfirmationofthischangecallsofthistogetDatabasePath(),sinceitdoestherightthing.Also,mergethiswithdetermineDatabasePath()asitduplicatesmuchofthelogic.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string92ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Shouldthisbetheconcernofthemutator?
 
predict_string:
 //TODO:Shouldthisbetheconcernofthemutator? 

line_no || similarity 

233 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/streaming/src/java/org/apache/hive/hcatalog/streaming/mutate/worker/MutatorCoordinator.java 

under_code:
deleteDeltaIfExists(newPartitionPath, table.getWriteId(), newBucketId);
 

ーーーーーーーーSearch the target string93ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ProvidesupportforreportingerrorsThisshouldneverhappenasserveralwaysreturnsavalidstatusonsuccess
 
sub_line:
 //Thisshouldneverhappenasserveralwaysreturnsavalidstatusonsuccess 

frontremoved_sub_line:
 isshouldneverhappenasserveralwaysreturnsavalidstatusonsuccess 

sub_line:
 thrownewRuntimeException("SubmissionStateinresponseisexpected!"); 

frontremoved_sub_line:
 wnewRuntimeException("SubmissionStateinresponseisexpected!"); 

predict_string:
 //TODO:Providesupportforreportingerrors 

line_no || similarity 

429 || 0.5531914893617021 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskCommunicator.java 

under_code:
throw new RuntimeException("SubmissionState in response is expected!");
 

ーーーーーーーーSearch the target string94ーーーーーーーーーーーーーーー
 
search_string:
 /*TODO:ideally,whenthesplitsUDFismadeaproperAPI,coordinatorshouldnot*bemanagedasaglobal.HS2shouldcreateitandthenpassitaround.*/
 
sub_line:
 privatestaticfinalLlapCoordinatorINSTANCE=newLlapCoordinator(); 

frontremoved_sub_line:
 atestaticfinalLlapCoordinatorINSTANCE=newLlapCoordinator(); 

predict_string:
 *bemanagedasaglobal.HS2shouldcreateitandthenpassitaround.*/ 

line_no || similarity 

155 || 0.6344086021505376 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-client/src/java/org/apache/hadoop/hive/llap/coordinator/LlapCoordinator.java 

under_code:
private static final LlapCoordinator INSTANCE = new LlapCoordinator();
 

ーーーーーーーーSearch the target string95ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:convertsqlState,etc.
 
predict_string:
 //TODO:convertsqlState,etc. 

line_no || similarity 

119 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/service/src/java/org/apache/hive/service/cli/HiveSQLException.java 

under_code:
TStatus tStatus = new TStatus(TStatusCode.ERROR_STATUS);
 

ーーーーーーーーSearch the target string96ーーーーーーーーーーーーーーー
 
search_string:
 //TODOIncludeEXTERNAL_PREEMPTIONinthislist?
 
predict_string:
 //TODOIncludeEXTERNAL_PREEMPTIONinthislist? 

line_no || similarity 

1211 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskSchedulerService.java 

under_code:
// TODO HIVE-16134. Differentiate between EXTERNAL_PREEMPTION_WAITQUEU vs EXTERNAL_PREEMPTION_FINISHABLE?
 

ーーーーーーーーSearch the target string97ーーーーーーーーーーーーーーー
 
search_string:
 //ToworkaroundAvroUTF8
 
predict_string:
 returndatum.toString();//ToworkaroundAvroUTF8 

line_no || similarity 

256 || 0.6567164179104478 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroDeserializer.java 

under_code:
// This also gets us around the Enum issue since we just take the value
 

ーーーーーーーーSearch the target string98ーーーーーーーーーーーーーーー
 
search_string:
 //TODOneedstogoinInitializeInput?aspartofInputJobInfo
 
predict_string:
 //TODOneedstogoinInitializeInput?aspartofInputJobInfo 

line_no || similarity 

67 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/core/src/main/java/org/apache/hive/hcatalog/mapreduce/HCatBaseInputFormat.java 

under_code:
private static HCatSchema getOutputSchema(Configuration conf)
 

ーーーーーーーーSearch the target string99ーーーーーーーーーーーーーーー
 
search_string:
 //NotethatthislogicmaydropsomeofthetablesofthedatabaseevenifthedropdatabasefailforanyreasonTODO:Fixthis
 
sub_line:
 //evenifthedropdatabasefailforanyreason 

frontremoved_sub_line:
 enifthedropdatabasefailforanyreason 

sub_line:
 //TODO:Fixthis 

frontremoved_sub_line:
 DO:Fixthis 

sub_line:
 List<String>materializedViews=getTables(dbName,".*",TableType.MATERIALIZED_VIEW); 

frontremoved_sub_line:
 <String>materializedViews=getTables(dbName,".*",TableType.MATERIALIZED_VIEW); 

predict_string:
 //Notethatthislogicmaydropsomeofthetablesofthedatabase 

line_no || similarity 

1032 || 0.6878980891719745 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 

under_code:
List<String> materializedViews = getTables(dbName, ".*", TableType.MATERIALIZED_VIEW);
 

ーーーーーーーーSearch the target string100ーーーーーーーーーーーーーーー
 
search_string:
 //SomewalkersextendingDefaultGraphWalkere.g.ForwardWalkerdonotuseopQueueandrelyuniquelyinthetoWalkstructure,thuswestoretheresultsproducedbythedispatcherhereTODO:rewritingthelogicofthosewalkerstouseopQueue
 
under_code:
too long.
 

ーーーーーーーーSearch the target string101ーーーーーーーーーーーーーーー
 
search_string:
 //Thisisacornercasewherewehaveanextractoftimeunitlikeday/monthpushedasExtractionFn@TODOThebestwaytofixthisistoaddexplicitoutputDruidtypestoCalciteExtractionFunctionsimpls
 
sub_line:
 //@TODOThebestwaytofixthisistoaddexplicitoutputDruidtypestoCalciteExtractionFunctionsimpls 

frontremoved_sub_line:
 ODOThebestwaytofixthisistoaddexplicitoutputDruidtypestoCalciteExtractionFunctionsimpls 

sub_line:
 output.add(newIntWritable(Integer.valueOf((String)value))); 

frontremoved_sub_line:
 ut.add(newIntWritable(Integer.valueOf((String)value))); 

predict_string:
 //Thisisacornercasewherewehaveanextractoftimeunitlikeday/monthpushedasExtractionFn 

line_no || similarity 

442 || 0.6507936507936508 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/druid-handler/src/java/org/apache/hadoop/hive/druid/serde/DruidSerDe.java 

under_code:
output.add(new IntWritable(Integer.valueOf((String) value)));
 

ーーーーーーーーSearch the target string102ーーーーーーーーーーーーーーー
 
search_string:
 //WorkaroundforHADOOP-12659-removewhenHadoop2.7.Xisnolongersupported.
 
predict_string:
 //WorkaroundforHADOOP-12659-removewhenHadoop2.7.Xisnolongersupported. 

line_no || similarity 

90 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-common/src/java/org/apache/hadoop/hive/llap/security/SecretManager.java 

under_code:
private void checkForZKDTSMBug() {
 

ーーーーーーーーSearch the target string103ーーーーーーーーーーーーーーー
 
search_string:
 //Wecouldpassinthenumberofnodesthatweexpectinsteadof-1.Also,asingleconcurrentrequestpernodeiscurrentlyhardcoded.
 
sub_line:
 //Also,asingleconcurrentrequestpernodeiscurrentlyhardcoded. 

frontremoved_sub_line:
 so,asingleconcurrentrequestpernodeiscurrentlyhardcoded. 

sub_line:
 super(LlapProtocolClientProxy.class.getSimpleName(),numThreads,conf,llapToken, 

frontremoved_sub_line:
 r(LlapProtocolClientProxy.class.getSimpleName(),numThreads,conf,llapToken, 

predict_string:
 //Wecouldpassinthenumberofnodesthatweexpectinsteadof-1. 

line_no || similarity 

49 || 0.6586826347305389 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-client/src/java/org/apache/hadoop/hive/llap/tez/LlapProtocolClientProxy.java 

under_code:
super(LlapProtocolClientProxy.class.getSimpleName(), numThreads, conf, llapToken,
 

ーーーーーーーーSearch the target string104ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Strangelythedefaultparametrizationistoignoremissingtables
 
predict_string:
 //TODO:Strangelythedefaultparametrizationistoignoremissingtables 

line_no || similarity 

555 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/client/TestTablesCreateDropAlterTruncate.java 

under_code:
client.dropTable("no_such_database", table.getTableName());
 

ーーーーーーーーSearch the target string105ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:shouldcleanupTEST_PATH,butnotdoingitnow,fordebugging'ssake
 
predict_string:
 //FIXME:shouldcleanupTEST_PATH,butnotdoingitnow,fordebugging'ssake 

line_no || similarity 

185 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenarios.java 

under_code:
}
 

ーーーーーーーーSearch the target string106ーーーーーーーーーーーーーーー
 
search_string:
 //Thiswillthrowerrorifweclosepoutearly.
 
predict_string:
 //Thiswillthrowerrorifweclosepoutearly. 

line_no || similarity 

82 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-common/src/test/org/apache/hadoop/hive/llap/io/TestChunkedInputStream.java 

under_code:
streams.out.close();
 

ーーーーーーーーSearch the target string107ーーーーーーーーーーーーーーー
 
search_string:
 //Itisnotaverycleanway,andshouldbemodifiedlater-duetocompatibilityreasons,userseestheresultsasjsonforcustomscriptsandhasnowayforspecifyingthat.Rightnow,itishard-codedinthecode
 
sub_line:
 //compatibilityreasons, 

frontremoved_sub_line:
 mpatibilityreasons, 

sub_line:
 //userseestheresultsasjsonforcustomscriptsandhasnowayfor 

frontremoved_sub_line:
 erseestheresultsasjsonforcustomscriptsandhasnowayfor 

sub_line:
 //specifyingthat. 

frontremoved_sub_line:
 ecifyingthat. 

sub_line:
 //Rightnow,itishard-codedinthecode 

frontremoved_sub_line:
 ghtnow,itishard-codedinthecode 

sub_line:
 if(useDelimitedJSON){ 

frontremoved_sub_line:
 seDelimitedJSON){ 

predict_string:
 //Itisnotaverycleanway,andshouldbemodifiedlater-dueto 

line_no || similarity 

268 || 0.4649122807017544 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/plan/PlanUtils.java 

under_code:
if (useDelimitedJSON) {
 

ーーーーーーーーSearch the target string108ーーーーーーーーーーーーーーー
 
search_string:
 //TODOThistestpassesfinelocallybutfailsonLinux,notsurewhy
 
predict_string:
 @Ignore//TODOThistestpassesfinelocallybutfailsonLinux,notsurewhy 

line_no || similarity 

184 || 0.9421487603305785 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/client/TestCatalogs.java 

under_code:
public void createCatalogWithBadLocation() throws TException {
 

ーーーーーーーーSearch the target string109ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:SeekableInputStream.readFullyeventuallycallsaHadoopmethodthatusedtobebuggyin2.7andalsoanywayjustdoesacopyforadirectbuffer.Doacopyhere.((SeekableInputStream)stream).readFully(bb);
 
sub_line:
 //buggyin2.7andalsoanywayjustdoesacopyforadirectbuffer.Doacopyhere. 

frontremoved_sub_line:
 ggyin2.7andalsoanywayjustdoesacopyforadirectbuffer.Doacopyhere. 

sub_line:
 //((SeekableInputStream)stream).readFully(bb); 

frontremoved_sub_line:
 SeekableInputStream)stream).readFully(bb); 

sub_line:
 FileUtils.readFully(stream,length,bb); 

frontremoved_sub_line:
 Utils.readFully(stream,length,bb); 

predict_string:
 //TODO:SeekableInputStream.readFullyeventuallycallsaHadoopmethodthatusedtobe 

line_no || similarity 

245 || 0.5823754789272031 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/metadata/MetadataCache.java 

under_code:
FileUtils.readFully(stream, length, bb);
 

ーーーーーーーーSearch the target string110ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:1)Expandtootherfunctionsasneeded2)Whatabouttypesotherthanprimitive.
 
predict_string:
 //TODO:1)Expandtootherfunctionsasneeded2)Whatabouttypesotherthanprimitive. 

line_no || similarity 

246 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/RexNodeConverter.java 

under_code:
TypeInfo tgtDT = null;
 

ーーーーーーーーSearch the target string111ーーーーーーーーーーーーーーー
 
search_string:
 //Setfootercacheforcurrentsplitgeneration.Seefieldcomment-notthreadsafe.
 
predict_string:
 //Setfootercacheforcurrentsplitgeneration.Seefieldcomment-notthreadsafe. 

line_no || similarity 

701 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcInputFormat.java 

under_code:
// TODO: we should be able to enable caches separately
 

ーーーーーーーーSearch the target string112ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thebelowseemliketheyshouldjustbecombinedintopartitionDesc
 
predict_string:
 //TODO:thebelowseemliketheyshouldjustbecombinedintopartitionDesc 

line_no || similarity 

45 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/plan/LoadTableDesc.java 

under_code:
private org.apache.hadoop.hive.ql.plan.TableDesc table;
 

ーーーーーーーーSearch the target string113ーーーーーーーーーーーーーーー
 
search_string:
 //CallableWithNdcinheritsfromNDConlywhencall()isinvoked.CallableWithNdchastoextendedtoprovideaccesstoitsndcStackthatisclonedduringcreation.Until,thenwewillusereflectiontoaccesstheprivatefield.FIXME:HIVE-14243followtoremovethisreflection
 
under_code:
too long.
 

ーーーーーーーーSearch the target string114ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisisbrittle.Whosaideveryonehastoupgradeusingupgradeprocess?
 
predict_string:
 //TODO:thisisbrittle.Whosaideveryonehastoupgradeusingupgradeprocess? 

line_no || similarity 

252 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcSplit.java 

under_code:
assert isSplitUpdate : "should be true in Hive 3.0";
 

ーーーーーーーーSearch the target string115ーーーーーーーーーーーーーーー
 
search_string:
 /**Checkwhetherataskcanruntocompletionormayendupblockingonit'ssources.*Thiscurrentlyhappensvialookingupsourcestate.*TODO:Eventually,thisshouldlookuptheHiveProcessortofigureoutwhether*it'sreachedastatewhereitcanfinish-especiallyincasesoffailures*afterdatahasbeenfetched.**@returntrueifthetaskcanfinish,falseotherwise*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string116ーーーーーーーーーーーーーーー
 
search_string:
 //UNDONE:HowtolookforallNULLsinamulti-key?????Letnullsthroughfornow.
 
predict_string:
 //UNDONE:HowtolookforallNULLsinamulti-key?????Letnullsthroughfornow. 

line_no || similarity 

30 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/mapjoin/optimized/VectorMapJoinOptimizedMultiKeyHashMap.java 

under_code:
public VectorMapJoinOptimizedMultiKeyHashMap(boolean isOuterJoin,
 

ーーーーーーーーSearch the target string117ーーーーーーーーーーーーーーー
 
search_string:
 //Note:thiscanstillconflictwithparalleltransactions.Wedonotcurrentlyhandleparallelchangesfromtwoadmins(bydesign:().
 
sub_line:
 //parallelchangesfromtwoadmins(bydesign:(). 

frontremoved_sub_line:
 rallelchangesfromtwoadmins(bydesign:(). 

sub_line:
 copyName=generateOldPlanName(newName,++i); 

frontremoved_sub_line:
 Name=generateOldPlanName(newName,++i); 

predict_string:
 //Note:thiscanstillconflictwithparalleltransactions.Wedonotcurrentlyhandle 

line_no || similarity 

11251 || 0.783068783068783 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ObjectStore.java 

under_code:
copyName = generateOldPlanName(newName, ++i);
 

ーーーーーーーーSearch the target string118ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:timegoodenoughfornow-we'lllikelyimprovethis.Wemayalsoworkinsomethingtheequivalentofpid,thridandmovetonanostoensureuniqueness.
 
sub_line:
 //Wemayalsoworkinsomethingtheequivalentofpid,thridandmovetonanostoensure 

frontremoved_sub_line:
 mayalsoworkinsomethingtheequivalentofpid,thridandmovetonanostoensure 

sub_line:
 //uniqueness. 

frontremoved_sub_line:
 iqueness. 

sub_line:
 } 

frontremoved_sub_line:
  

sub_line:
 } 

frontremoved_sub_line:
  

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 privatevoiddumpFunctionMetadata(StringdbName,PathdumpRoot)throwsException{ 

frontremoved_sub_line:
 atevoiddumpFunctionMetadata(StringdbName,PathdumpRoot)throwsException{ 

predict_string:
 //TODO:timegoodenoughfornow-we'lllikelyimprovethis. 

line_no || similarity 

387 || 0.5573770491803278 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/repl/ReplDumpTask.java 

under_code:
private void dumpFunctionMetadata(String dbName, Path dumpRoot) throws Exception {
 

ーーーーーーーーSearch the target string119ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:somehowplacepointersthatre-executioncompilationhavefailed;thequeryhavebeensuccessfullycompiledbefore?
 
predict_string:
 //FIXME:somehowplacepointersthatre-executioncompilationhavefailed;thequeryhavebeensuccessfullycompiledbefore? 

line_no || similarity 

173 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/reexec/ReExecDriver.java 

under_code:
return compile_resp;
 

ーーーーーーーーSearch the target string120ーーーーーーーーーーーーーーー
 
search_string:
 //UNDONE:Haven'tfinishedisRepeated
 
predict_string:
 //UNDONE:Haven'tfinishedisRepeated 

line_no || similarity 

374 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/exec/vector/util/batchgen/VectorColumnGroupGenerator.java 

under_code:
assert !isRepeated;
 

ーーーーーーーーSearch the target string121ーーーーーーーーーーーーーーー
 
search_string:
 //hack,insteadfigureoutawaytogetthedbpaths
 
predict_string:
 //hack,insteadfigureoutawaytogetthedbpaths 

line_no || similarity 

161 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveMetaStoreChecker.java 

under_code:
String isExternal = table.getParameters().get("EXTERNAL");
 

ーーーーーーーーSearch the target string122ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:supportcomplextypesforcomplextypewesimplyreturn0
 
sub_line:
 //forcomplextypewesimplyreturn0 

frontremoved_sub_line:
 rcomplextypewesimplyreturn0 

sub_line:
 return0; 

frontremoved_sub_line:
 rn0; 

predict_string:
 //TODO:supportcomplextypes 

line_no || similarity 

1376 || 0.6419753086419753 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/stats/StatsUtils.java 

under_code:
return 0;
 

ーーーーーーーーSearch the target string123ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thecontrolflowforthisneedstobedefined.Hiveissupposedtobethread-local.
 
predict_string:
 //TODO:thecontrolflowforthisneedstobedefined.Hiveissupposedtobethread-local. 

line_no || similarity 

117 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/service/src/java/org/apache/hive/service/cli/session/HiveSessionImpl.java 

under_code:
private Hive sessionHive;
 

ーーーーーーーーSearch the target string124ーーーーーーーーーーーーーーー
 
search_string:
 //todo:shouldbeatthetopofthefile...
 
predict_string:
 //todo:shouldbeatthetopofthefile... 

line_no || similarity 

455 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/upgrade-acid/src/main/java/org/apache/hadoop/hive/upgrade/acid/UpgradeTool.java 

under_code:
pw.println(
 

ーーーーーーーーSearch the target string125ーーーーーーーーーーーーーーー
 
search_string:
 //GetridofTOK_SELEXPR
 
predict_string:
 //GetridofTOK_SELEXPR 

line_no || similarity 

4507 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 

under_code:
expr = (ASTNode) child.getChild(0);
 

ーーーーーーーーSearch the target string126ーーーーーーーーーーーーーーー
 
search_string:
 //Cleartheworkmapafterbuild.TODO:removecachinginstead?
 
predict_string:
 //Cleartheworkmapafterbuild.TODO:removecachinginstead? 

line_no || similarity 

488 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezTask.java 

under_code:
Utilities.clearWorkMap(conf);
 

ーーーーーーーーSearch the target string127ーーーーーーーーーーーーーーー
 
search_string:
 //DO_NOT_UPDATE_STATSissupposedtobeatransientparameterthatisonlypassedviaRPCWewanttoavoidthispropertyfrombeingpersistent.NOTE:Ifthisproperty*is*setastablepropertywewillremoveitwhichisincorrectbutwecan'tdistinguishbetweenthesetwocasesThisproblemwasintroducedbyHIVE-10228.Abetterapproachwouldbetopasstheproperty
 
under_code:
too long.
 

ーーーーーーーーSearch the target string128ーーーーーーーーーーーーーーー
 
search_string:
 //ThisisusingthepayloadfromtheRootVertexInitializercorrespondingtoInputName.Ideallyitshouldbeusingit'sownconfigurationclass-butthat
 
sub_line:
 //toInputName.Ideallyitshouldbeusingit'sownconfigurationclass- 

frontremoved_sub_line:
 InputName.Ideallyitshouldbeusingit'sownconfigurationclass- 

sub_line:
 //butthat 

frontremoved_sub_line:
 tthat 

sub_line:
 //meansserializinganotherinstance. 

frontremoved_sub_line:
 ansserializinganotherinstance. 

predict_string:
 //ThisisusingthepayloadfromtheRootVertexInitializercorresponding 

line_no || similarity 

170 || 0.6564102564102564 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/CustomPartitionVertex.java 

under_code:
// means serializing another instance.
 

ーーーーーーーーSearch the target string129ーーーーーーーーーーーーーーー
 
search_string:
 //likeHiveHBaseTableInputFormatcannotbeusedwiththis(todo)
 
predict_string:
 //likeHiveHBaseTableInputFormatcannotbeusedwiththis(todo) 

line_no || similarity 

760 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/FetchOperator.java 

under_code:
private static class FetchInputFormatSplit extends HiveInputFormat.HiveInputSplit {
 

ーーーーーーーーSearch the target string130ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#collectionItemsTerminatedBy()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#collectionItemsTerminatedBy()}.ToberemovedinHive0.16. 

line_no || similarity 

393 || 0.9441624365482234 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public Builder collectionItemsTerminatedBy(char delimiter) {
 

ーーーーーーーーSearch the target string131ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:OnceHBASE-11163iscompleted,usethatAPI,orswitchtousingmapreduceversionoftheAPIs.ratherthanmapredCopiedfromHBase'sTableMapreduceUtilsinceitisnotpublicAPI
 
sub_line:
 //usingmapreduceversionoftheAPIs.ratherthanmapred 

frontremoved_sub_line:
 ingmapreduceversionoftheAPIs.ratherthanmapred 

sub_line:
 //CopiedfromHBase'sTableMapreduceUtilsinceitisnotpublicAPI 

frontremoved_sub_line:
 piedfromHBase'sTableMapreduceUtilsinceitisnotpublicAPI 

sub_line:
 staticStringconvertScanToString(Scanscan)throwsIOException{ 

frontremoved_sub_line:
 icStringconvertScanToString(Scanscan)throwsIOException{ 

predict_string:
 //TODO:OnceHBASE-11163iscompleted,usethatAPI,orswitchto 

line_no || similarity 

52 || 0.5164319248826291 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HiveHBaseTableSnapshotInputFormat.java 

under_code:
static String convertScanToString(Scan scan) throws IOException {
 

ーーーーーーーーSearch the target string132ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Fetchpartitionsinbatches?TODO:Threadpooltoprocesspartitions?
 
sub_line:
 //TODO:Threadpooltoprocesspartitions? 

frontremoved_sub_line:
 DO:Threadpooltoprocesspartitions? 

sub_line:
 for(StringpartName:partNames){ 

frontremoved_sub_line:
 StringpartName:partNames){ 

predict_string:
 //TODO:Fetchpartitionsinbatches? 

line_no || similarity 

501 || 0.6464646464646465 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/util/HiveStrictManagedMigration.java 

under_code:
for (String partName : partNames) {
 

ーーーーーーーーSearch the target string133ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:simplewrap&rethrowfornow,cleanupwitherrorcodes
 
predict_string:
 //TODO:simplewrap&rethrowfornow,cleanupwitherrorcodes 

line_no || similarity 

228 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/ReplicationSemanticAnalyzer.java 

under_code:
LOG.warn("Error during analyzeReplDump", e);
 

ーーーーーーーーSearch the target string134ーーーーーーーーーーーーーーー
 
search_string:
 //todo:addmethodtoonlygetcurrenti.e.skiphistory-moreefficient
 
predict_string:
 //todo:addmethodtoonlygetcurrenti.e.skiphistory-moreefficient 

line_no || similarity 

91 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/txn/compactor/Initiator.java 

under_code:
ShowCompactResponse currentCompactions = txnHandler.showCompact(new ShowCompactRequest());
 

ーーーーーーーーSearch the target string135ーーーーーーーーーーーーーーー
 
search_string:
 /**SimplewrapperofobjectwithObjectInspector.**TODO:weneedtoredefinethehashCodeandequalsmethods,sothatitcanbe*putintoaHashMapasakey.**Thisclassalsoservesasafacilityforafunctionthatreturnsbothan*objectandanObjectInspector.*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string136ーーーーーーーーーーーーーーー
 
search_string:
 //Theorderingoftypeshereisusedtodeterminewhichnumerictypesarecommon/convertibletooneanother.ProbablybettertorelyontheorderingexplicitlydefinedherethantoassumethattheenumvaluesthatwerearbitrarilyassignedinPrimitiveCategoryworkforourpurposes.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string137ーーーーーーーーーーーーーーー
 
search_string:
 //Somethingelseiswrong
 
predict_string:
 //Somethingelseiswrong 

line_no || similarity 

181 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/svr/src/test/java/org/apache/hive/hcatalog/templeton/tool/TestTempletonUtils.java 

under_code:
e.printStackTrace();
 

ーーーーーーーーSearch the target string138ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:CommentsinRexShuttle.visitCall()mentionothertypesinthiscategory.NeedtoresolvethosetogetherandpreferablyinthebaseclassRexShuttle.
 
sub_line:
 //typesinthiscategory.Needtoresolvethosetogether 

frontremoved_sub_line:
 pesinthiscategory.Needtoresolvethosetogether 

sub_line:
 //andpreferablyinthebaseclassRexShuttle. 

frontremoved_sub_line:
 dpreferablyinthebaseclassRexShuttle. 

sub_line:
 newCall= 

frontremoved_sub_line:
 all= 

predict_string:
 //TODO:CommentsinRexShuttle.visitCall()mentionother 

line_no || similarity 

2157 || 0.5483870967741935 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/rules/HiveRelDecorrelator.java 

under_code:
newCall =
 

ーーーーーーーーSearch the target string139ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Verifyifthisisneeded(Whycan'titbealwaysnull/empty
 
predict_string:
 //TODO:Verifyifthisisneeded(Whycan'titbealwaysnull/empty 

line_no || similarity 

1233 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/HiveGBOpConvUtil.java 

under_code:
String tabAlias = addEmptyTabAlias ? "" : null;
 

ーーーーーーーーSearch the target string140ーーーーーーーーーーーーーーー
 
search_string:
 //istheouterjointhatwesawmostrecentlyisarightouterjoin?
 
predict_string:
 //istheouterjointhatwesawmostrecentlyisarightouterjoin? 

line_no || similarity 

511 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java 

under_code:
boolean lastSeenRightOuterJoin = false;
 

ーーーーーーーーSearch the target string141ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisreliesonHDFSnotchangingtheformat;weassumeifwecouldgetinodeID,thisisstillgoingtowork.Otherwise,fileIDscanbeturnedoff.Later,weshoulduseaspublicutilitymethodinHDFStoobtaintheinode-basedpath.
 
sub_line:
 //isstillgoingtowork.Otherwise,fileIDscanbeturnedoff.Later,weshoulduse 

frontremoved_sub_line:
 stillgoingtowork.Otherwise,fileIDscanbeturnedoff.Later,weshoulduse 

sub_line:
 //aspublicutilitymethodinHDFStoobtaintheinode-basedpath. 

frontremoved_sub_line:
 publicutilitymethodinHDFStoobtaintheinode-basedpath. 

sub_line:
 privatestaticfinalStringHDFS_ID_PATH_PREFIX="/.reserved/.inodes/"; 

frontremoved_sub_line:
 atestaticfinalStringHDFS_ID_PATH_PREFIX="/.reserved/.inodes/"; 

predict_string:
 //TODO:thisreliesonHDFSnotchangingtheformat;weassumeifwecouldgetinodeID,this 

line_no || similarity 

60 || 0.5547445255474452 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/utils/HdfsUtils.java 

under_code:
private static final String HDFS_ID_PATH_PREFIX = "/.reserved/.inodes/";
 

ーーーーーーーーSearch the target string142ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:shoulditratherdoaprefix?
 
predict_string:
 StringlbDirSuffix=lbDirName.replace(partDirName,"");//TODO:shoulditratherdoaprefix? 

line_no || similarity 

2059 || 0.543859649122807 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java 

under_code:
if (lbDirSuffix.startsWith(Path.SEPARATOR)) {
 

ーーーーーーーーSearch the target string143ーーーーーーーーーーーーーーー
 
search_string:
 /**TODOThismethodistemporary.IdeallyHiveshouldonlyneedtopasstoTeztheamountofmemory*itrequirestodothemapjoin,andTezshouldtakecareoffiguringouthowmuchtoallocate*AdjustthepercentageofmemorytobereservedfortheprocessorfromTez*basedontheactualrequestedmemorybytheMapJoin,i.e.HIVECONVERTJOINNOCONDITIONALTASKTHRESHOLD*@returntheadjustedpercentage*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string144ーーーーーーーーーーーーーーー
 
search_string:
 //Ahacktoverifythatauthorizationcheckpassed.Exceptioncanbethrownbecausethefunctionsarenotbeingcalledwithvalidparams.verifythatexceptionhascomefromObjectStorecode,whichmeansthatthe
 
sub_line:
 //thefunctionsarenotbeingcalledwithvalidparams. 

frontremoved_sub_line:
 efunctionsarenotbeingcalledwithvalidparams. 

sub_line:
 //verifythatexceptionhascomefromObjectStorecode,whichmeansthatthe 

frontremoved_sub_line:
 rifythatexceptionhascomefromObjectStorecode,whichmeansthatthe 

sub_line:
 //authorizationcheckspassed. 

frontremoved_sub_line:
 thorizationcheckspassed. 

predict_string:
 //Ahacktoverifythatauthorizationcheckpassed.Exceptioncanbethrownbecause 

line_no || similarity 

89 || 0.568 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/AbstractTestAuthorizationApiAuthorizer.java 

under_code:
// authorization checks passed.
 

ーーーーーーーーSearch the target string145ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:shouldthisusegetUserFromAuthenticator?
 
predict_string:
 //TODO:shouldthisusegetUserFromAuthenticator? 

line_no || similarity 

2270 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/Driver.java 

under_code:
hookContext = new PrivateHookContext(plan, queryState, ctx.getPathToCS(), SessionState.get().getUserName(),
 

ーーーーーーーーSearch the target string146ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Movethistocalcite
 
predict_string:
 //TODO:Movethistocalcite 

line_no || similarity 

78 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/stats/HiveRelMdPredicates.java 

under_code:
public class HiveRelMdPredicates implements MetadataHandler<BuiltInMetadata.Predicates> {
 

ーーーーーーーーSearch the target string147ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:addthistometadatareaderinORC-SI=>metadatabuffer,notjustmetadata.
 
predict_string:
 //TODO:addthistometadatareaderinORC-SI=>metadatabuffer,notjustmetadata. 

line_no || similarity 

668 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/OrcEncodedDataReader.java 

under_code:
if (LOG.isTraceEnabled()) {
 

ーーーーーーーーSearch the target string148ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Thisshouldcomefromtypesystem;Currentlythereisnodefinition
 
predict_string:
 //TODO:Thisshouldcomefromtypesystem;Currentlythereisnodefinition 

line_no || similarity 

24 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/HiveTypeSystemImpl.java 

under_code:
// in type system for this.
 

ーーーーーーーーSearch the target string149ーーーーーーーーーーーーーーー
 
search_string:
 //TODOAtthemomentthere'snowayofknowingwhetheraqueryisrunningornot.AraceispossiblebetweendagCompleteandregisterFragment-wheretheregisterFragmentisprocessedafteradagCompletes.Mayneedtokeeptrackofcompleteddagsforacertaintimedurationtoavoidthis.Alternately-sendinanexplicitdagstartmessagebeforeanyothermessageisprocessed.MultiplethreadscommunicatingfromasingleAMgetsinthewayofthis.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string150ーーーーーーーーーーーーーーー
 
search_string:
 /*Shouldweallowwritingtonon-transactionaltablesinanexplicittransaction?TheusermayissueROLLBACKbutthesetableswon'trollback.CandothisbycheckingReadEntity/WriteEntitytodeterminewhetherit'sreading/writinganynonacidandraiseanappropriateerror*Driver.acidSinksandDriver.transactionalInQuerycanbeusedifanyacidisinthequery*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string151ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:implement?
 
predict_string:
 thrownewUnsupportedOperationException("UnsupportedOperationException");//TODO:implement? 

line_no || similarity 

1553 || 0.3238095238095238 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ObjectStore.java 

under_code:
}
 

ーーーーーーーーSearch the target string152ーーーーーーーーーーーーーーー
 
search_string:
 //todo:whatisthischecking????
 
predict_string:
 ||this.isOriginal!=isOriginal){//todo:whatisthischecking???? 

line_no || similarity 

950 || 0.651685393258427 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcInputFormat.java 

under_code:
return (files.size() > otherFiles.size())
 

ーーーーーーーーSearch the target string153ーーーーーーーーーーーーーーー
 
search_string:
 //Ithinkthisiswrong,thedroptablestatementshouldcomeonthetabletopicnottheDBtopic-Alan.
 
sub_line:
 //DBtopic-Alan. 

frontremoved_sub_line:
 topic-Alan. 

sub_line:
 StringtopicName=getTopicPrefix(tableEvent.getIHMSHandler().getConf())+"."+table.getDbName().toLowerCase(); 

frontremoved_sub_line:
 ngtopicName=getTopicPrefix(tableEvent.getIHMSHandler().getConf())+"."+table.getDbName().toLowerCase(); 

predict_string:
 //Ithinkthisiswrong,thedroptablestatementshouldcomeonthetabletopicnotthe 

line_no || similarity 

283 || 0.9171974522292994 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/server-extensions/src/main/java/org/apache/hive/hcatalog/listener/NotificationListener.java 

under_code:
String topicName = getTopicPrefix(tableEvent.getIHMSHandler().getConf()) + "." + table.getDbName().toLowerCase();
 

ーーーーーーーーSearch the target string154ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:rather,TezsessionsshouldnotdependonSessionState.
 
predict_string:
 //TODO:rather,TezsessionsshouldnotdependonSessionState. 

line_no || similarity 

86 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionPool.java 

under_code:
private SessionState parentSessionState;
 

ーーーーーーーーSearch the target string155ーーーーーーーーーーーーーーー
 
search_string:
 //todo:supporttez/vectorization
 
predict_string:
 //todo:supporttez/vectorization 

line_no || similarity 

149 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/LocalMapJoinProcFactory.java 

under_code:
boolean useNontaged = conf.getBoolVar(
 

ーーーーーーーーSearch the target string156ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:readthissomewhereuseful,likethetaskscheduler
 
predict_string:
 //TODO:readthissomewhereuseful,likethetaskscheduler 

line_no || similarity 

138 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-client/src/java/org/apache/hadoop/hive/llap/registry/impl/LlapZookeeperRegistryImpl.java 

under_code:
srv.set(kv.getKey(), kv.getValue());
 

ーーーーーーーーSearch the target string157ーーーーーーーーーーーーーーー
 
search_string:
 //TODOAddsupportforserializationofvalueshere
 
predict_string:
 //TODOAddsupportforserializationofvalueshere 

line_no || similarity 

78 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hbase-handler/src/java/org/apache/hadoop/hive/hbase/struct/DefaultHBaseValueFactory.java 

under_code:
return null;
 

ーーーーーーーーSearch the target string158ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ConvertgenIncludedColumnsandsetSearchArgumenttouseTypeDescription.
 
predict_string:
 //TODO:ConvertgenIncludedColumnsandsetSearchArgumenttouseTypeDescription. 

line_no || similarity 

2152 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcInputFormat.java 

under_code:
final List<OrcProto.Type> schemaTypes = OrcUtils.getOrcTypes(schema);
 

ーーーーーーーーSearch the target string159ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whenthiscodeisalittlelesshot,changemostlogstodebug.Wewilldeterminewhattodounderlockandthendostuffoutsideofthelock.Theapproachisstate-based.Weconsiderthetasktohaveaduckwhenwehavedecidedtogiveitone;thesendsbelowmerelyfixthediscrepancywiththeactualstate.WemayaddtheabilitytowaitforLLAPstopositivelyacktherevokesinfuture.The"procedural"approachrequiresthatwetracktheduckstravelingonnetwork,concurrentterminations,etc.So,whilemorepreciseit'smuchmorecomplex.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string160ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whydoesn'tthisusecontext?
 
predict_string:
 //TODO:whydoesn'tthisusecontext? 

line_no || similarity 

1027 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/encoded/EncodedTreeReaderFactory.java 

under_code:
return new DoubleStreamReader(columnIndex, present, data, isFileCompressed, vectors);
 

ーーーーーーーーSearch the target string161ーーーーーーーーーーーーーーー
 
search_string:
 //Note:thisisredundantwithtypes
 
predict_string:
 this.fileSchema=fileSchema;//Note:thisisredundantwithtypes 

line_no || similarity 

160 || 0.6966292134831461 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/encoded/EncodedReaderImpl.java 

under_code:
this.version = version;
 

ーーーーーーーーSearch the target string162ーーーーーーーーーーーーーーー
 
search_string:
 //Thefollowing2linesareexactlywhatMySQLdoesTODO:whydowedothis?
 
predict_string:
 //Thefollowing2linesareexactlywhatMySQLdoesTODO:whydowedothis? 

line_no || similarity 

563 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java 

under_code:
case '%':
 

ーーーーーーーーSearch the target string163ーーーーーーーーーーーーーーー
 
search_string:
 //temporaryvariablefortesting.Thisisaddedjusttoturnoffthisfeatureincaseofabugindeployment.Ithasnotbeendocumentedinhive-default.xmlintentionally,thisshouldberemoved
 
sub_line:
 //deployment.Ithasnotbeendocumentedinhive-default.xmlintentionally,thisshouldberemoved 

frontremoved_sub_line:
 ployment.Ithasnotbeendocumentedinhive-default.xmlintentionally,thisshouldberemoved 

sub_line:
 //oncethefeatureisstable 

frontremoved_sub_line:
 cethefeatureisstable 

predict_string:
 //temporaryvariablefortesting.Thisisaddedjusttoturnoffthisfeatureincaseofabugin 

line_no || similarity 

2844 || 0.6528925619834711 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 

under_code:
// once the feature is stable
 

ーーーーーーーーSearch the target string164ーーーーーーーーーーーーーーー
 
search_string:
 //TODOneedsessionhandle
 
predict_string:
 //TODOneedsessionhandle 

line_no || similarity 

251 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/jdbc/src/java/org/apache/hive/jdbc/HiveQueryResultSet.java 

under_code:
TGetResultSetMetadataResp  metadataResp;
 

ーーーーーーーーSearch the target string165ーーーーーーーーーーーーーーー
 
search_string:
 //Thisiskindofhacky-thereadentitycontainstheoldtable,whereasthewriteentitycontainsthenewtable.Thisisneededforrename-boththeoldandthenewtablenamesarepassed
 
sub_line:
 //thewriteentity 

frontremoved_sub_line:
 ewriteentity 

sub_line:
 //containsthenewtable.Thisisneededforrename-boththeoldandthe 

frontremoved_sub_line:
 ntainsthenewtable.Thisisneededforrename-boththeoldandthe 

sub_line:
 //newtablenamesare 

frontremoved_sub_line:
 wtablenamesare 

sub_line:
 //passed 

frontremoved_sub_line:
 ssed 

sub_line:
 //Don'tacquirelocksforanyofthese,wehavealreadyaskedfortheminDDLSemanticAnalyzer. 

frontremoved_sub_line:
 n'tacquirelocksforanyofthese,wehavealreadyaskedfortheminDDLSemanticAnalyzer. 

predict_string:
 //Thisiskindofhacky-thereadentitycontainstheoldtable,whereas 

line_no || similarity 

3977 || 0.5607476635514018 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 

under_code:
// Don't acquire locks for any of these, we have already asked for them in DDLSemanticAnalyzer.
 

ーーーーーーーーSearch the target string166ーーーーーーーーーーーーーーー
 
search_string:
 //UNDONE:Fornow,don'taddmoresmallkeys...
 
predict_string:
 //UNDONE:Fornow,don'taddmoresmallkeys... 

line_no || similarity 

130 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/exec/vector/mapjoin/MapJoinTestData.java 

under_code:
/*
 

ーーーーーーーーSearch the target string167ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:canthiseverhappen?
 
predict_string:
 //TODO:canthiseverhappen? 

line_no || similarity 

1579 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/WorkloadManager.java 

under_code:
LOG.warn("Session configuration is null for " + wmTezSession);
 

ーーーーーーーーSearch the target string168ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:there'sapotentialproblemhereifsometableusesexternalschemalikeAvro,withaverylargetypename.ItseemsliketheviewdoesnotderivetheSerDefromthetable,soitwon'tbeabletojustgetthetypefromthedeserializerlikethetabledoes;wewon'tbeabletoproperlystorethetypeintheRDBMSmetastore.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string169ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisshoulddependsoninputformatandbeinamap,orsomething.
 
predict_string:
 //TODO:thisshoulddependsoninputformatandbeinamap,orsomething. 

line_no || similarity 

198 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/api/impl/LlapIoImpl.java 

under_code:
this.orcCvp = new OrcColumnVectorProducer(
 

ーーーーーーーーSearch the target string170ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:wecanactuallyconsiderstoringALLthedeltaencodedrowoffsets-notalotofoverheadcomparedtothedataitself,andwithrowoffsets,wecouldusecolumnarblocksforinconsistentsplits.Wearenotoptimizingforinconsistentsplitsfornow.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string171ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:shouldthisjustusephysicalIDs?
 
predict_string:
 //TODO:shouldthisjustusephysicalIDs? 

line_no || similarity 

294 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/api/impl/LlapRecordReader.java 

under_code:
for (int i = 0; i < includes.getReaderLogicalColumnIds().size(); ++i) {
 

ーーーーーーーーSearch the target string172ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:wtf?!!whyisthisinthismethod?Thishasnothingtodowithanything.
 
sub_line:
 HashPartitionhashPartition=newHashPartition(1024,(float)0.75,524288,1,true,null); 

frontremoved_sub_line:
 PartitionhashPartition=newHashPartition(1024,(float)0.75,524288,1,true,null); 

predict_string:
 //TODO:wtf? 

line_no || similarity 

27 || 0.2857142857142857 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/exec/persistence/TestHashPartition.java 

under_code:
HashPartition hashPartition = new HashPartition(1024, (float) 0.75, 524288, 1, true, null);
 

ーーーーーーーーSearch the target string173ーーーーーーーーーーーーーーー
 
search_string:
 //Thisclassisn'tusedandIsuspectdoestotallythewrongthing.It'sonlyheresothatIcanprovidesomeoutputformattothetablesandpartitionsIcreate.Iactuallywriteto
 
sub_line:
 //canprovidesomeoutputformattothetablesandpartitionsIcreate.Iactuallywriteto 

frontremoved_sub_line:
 nprovidesomeoutputformattothetablesandpartitionsIcreate.Iactuallywriteto 

sub_line:
 //thosetablesdirectory. 

frontremoved_sub_line:
 osetablesdirectory. 

predict_string:
 //Thisclassisn'tusedandIsuspectdoestotallythewrongthing.It'sonlyheresothatI 

line_no || similarity 

508 || 0.6696428571428571 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/txn/compactor/CompactorTest.java 

under_code:
// those tables directory.
 

ーーーーーーーーSearch the target string174ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:doesargneedtypecast?
 
predict_string:
 //TODO:doesargneedtypecast? 

line_no || similarity 

3373 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/CalcitePlanner.java 

under_code:
aggArgRelDTBldr.add(TypeConverter.convert(expr.getTypeInfo(), dtFactory));
 

ーーーーーーーーSearch the target string175ーーーーーーーーーーーーーーー
 
search_string:
 //what??!!
 
predict_string:
 if(path==null){//what??!! 

line_no || similarity 

398 || 0.5714285714285714 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/Warehouse.java 

under_code:
return false;
 

ーーーーーーーーSearch the target string176ーーーーーーーーーーーーーーー
 
search_string:
 //TODOnotsurethisistherightexception
 
predict_string:
 //TODOnotsurethisistherightexception 

line_no || similarity 

175 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/txn/compactor/CompactorThread.java 

under_code:
LOG.debug("Unable to stat file as current user, trying as table owner");
 

ーーーーーーーーSearch the target string177ーーーーーーーーーーーーーーー
 
search_string:
 //weneedtoconverttheHivetypetotheSQLtypenameTODO:thiswouldbebetterhandledinanenum
 
sub_line:
 //TODO:thiswouldbebetterhandledinanenum 

frontremoved_sub_line:
 DO:thiswouldbebetterhandledinanenum 

sub_line:
 if("string".equalsIgnoreCase(type)){ 

frontremoved_sub_line:
 string".equalsIgnoreCase(type)){ 

predict_string:
 //weneedtoconverttheHivetypetotheSQLtypename 

line_no || similarity 

181 || 0.704 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/jdbc/src/java/org/apache/hive/jdbc/JdbcColumn.java 

under_code:
if ("string".equalsIgnoreCase(type)) {
 

ーーーーーーーーSearch the target string178ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:NPEshouldnotbethrown
 
predict_string:
 //TODO:NPEshouldnotbethrown. 

line_no || similarity 

176 || 0.9818181818181818 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/client/TestAddPartitionsFromPartSpec.java 

under_code:
client.add_partitions_pspec(null);
 

ーーーーーーーーSearch the target string179ーーーーーーーーーーーーーーー
 
search_string:
 //CONSIDER:Allocatealargerinitialsize.
 
predict_string:
 //CONSIDER:Allocatealargerinitialsize. 

line_no || similarity 

444 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/fast/BinarySortableDeserializeRead.java 

under_code:
if(tempDecimalBuffer == null || tempDecimalBuffer.length < length) {
 

ーーーーーーーーSearch the target string180ーーーーーーーーーーーーーーー
 
search_string:
 //Nogoodwaytofindout(mayevenhavenoapp).
 
predict_string:
 returnnull;//Nogoodwaytofindout(mayevenhavenoapp). 

line_no || similarity 

283 || 0.8764044943820225 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-client/src/java/org/apache/hadoop/hive/llap/registry/impl/LlapFixedRegistryImpl.java 

under_code:
}
 

ーーーーーーーーSearch the target string181ーーーーーーーーーーーーーーー
 
search_string:
 //HardcodeSASLhere.ZKDTSMonlysupportsnoneorsaslandweneverwantnone.
 
predict_string:
 //HardcodeSASLhere.ZKDTSMonlysupportsnoneorsaslandweneverwantnone. 

line_no || similarity 

185 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-common/src/java/org/apache/hadoop/hive/llap/security/SecretManager.java 

under_code:
zkConf.set(ZK_DTSM_ZK_AUTH_TYPE, "sasl");
 

ーーーーーーーーSearch the target string182ーーーーーーーーーーーーーーー
 
search_string:
 //WesupportList<Object>,Set<Object>andObject[]sowehavetododifferently.
 
sub_line:
 //sowehavetododifferently. 

frontremoved_sub_line:
 wehavetododifferently. 

sub_line:
 if(!(datainstanceofList)){ 

frontremoved_sub_line:
 (datainstanceofList)){ 

predict_string:
 //WesupportList<Object>,Set<Object>andObject[] 

line_no || similarity 

62 || 0.7931034482758621 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/StandardListObjectInspector.java 

under_code:
if (! (data instanceof List)) {
 

ーーーーーーーーSearch the target string183ーーーーーーーーーーーーーーー
 
search_string:
 //Ifwhisstillnullafterjusthavinginitializedit,bailout-something'sverywrong.
 
predict_string:
 //Ifwhisstillnullafterjusthavinginitializedit,bailout-something'sverywrong. 

line_no || similarity 

91 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java 

under_code:
throw new IllegalStateException("Unable to initialize Warehouse from clientside.");
 

ーーーーーーーーSearch the target string184ーーーーーーーーーーーーーーー
 
search_string:
 //TODOConvertthistoanAssert.failonceHIVE-14682isfixed
 
predict_string:
 //TODOConvertthistoanAssert.failonceHIVE-14682isfixed 

line_no || similarity 

1150 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/util/src/main/java/org/apache/hadoop/hive/ql/QTestUtil.java 

under_code:
}
 

ーーーーーーーーSearch the target string185ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:weshouldbeabletoenablecachesseparately
 
predict_string:
 //TODO:weshouldbeabletoenablecachesseparately 

line_no || similarity 

702 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcInputFormat.java 

under_code:
footerCache = useExternalCache ? metaCache : localCache;
 

ーーーーーーーーSearch the target string186ーーーーーーーーーーーーーーー
 
search_string:
 //Fordynamicpartitionedhashjoin,thebigtablewillalsobecomingfromaReduceSinkOperatorCheckforthiscondition.TODO:useindexOf(),orparentRS.getTag()?
 
sub_line:
 //Checkforthiscondition. 

frontremoved_sub_line:
 eckforthiscondition. 

sub_line:
 //TODO:useindexOf(),orparentRS.getTag()? 

frontremoved_sub_line:
 DO:useindexOf(),orparentRS.getTag()? 

sub_line:
 isBigTable= 

frontremoved_sub_line:
 gTable= 

predict_string:
 //Fordynamicpartitionedhashjoin,thebigtablewillalsobecomingfromaReduceSinkOperator 

line_no || similarity 

98 || 0.7321428571428571 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ReduceSinkMapJoinProc.java 

under_code:
isBigTable =
 

ーーーーーーーーSearch the target string187ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:FollowingHiveSubQueryFinderhasbeencopiedfromRexUtil::SubQueryFindersincethereisBUGinthere(CALCITE-1726).OnceCALCITE-1726isfixedweshouldgetridofthefollowingcode
 
under_code:
None
 

ーーーーーーーーSearch the target string188ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Extendrulesoitcanbeappliedforthesecases.
 
predict_string:
 //TODO:Extendrulesoitcanbeappliedforthesecases. 

line_no || similarity 

1130 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SharedWorkOptimizer.java 

under_code:
final Set<Operator<?>> workOps1 = findWorkOperators(optimizerCache, op1);
 

ーーーーーーーーSearch the target string189ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:SupportcaseDATE:
 
predict_string:
 //TODO:SupportcaseDATE: 

line_no || similarity 

280 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/ColumnStatsAutoGatherContext.java 

under_code:
break;
 

ーーーーーーーーSearch the target string190ーーーーーーーーーーーーーーー
 
search_string:
 //TODOfigureoutabetterwaytosetrepeatforBinarytype
 
predict_string:
 //TODOfigureoutabetterwaytosetrepeatforBinarytype 

line_no || similarity 

317 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/vector/VectorizedPrimitiveColumnReader.java 

under_code:
c.isRepeating = false;
 

ーーーーーーーーSearch the target string191ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Ifweareokwithbreakingcompatibilityofexisting3rdpartyStorageHandlers,thismethodcouldbemovedtotheHiveStorageHandlerinterface.
 
sub_line:
 //thismethodcouldbemovedtotheHiveStorageHandlerinterface. 

frontremoved_sub_line:
 ismethodcouldbemovedtotheHiveStorageHandlerinterface. 

sub_line:
 booleanretval=true; 

frontremoved_sub_line:
 eanretval=true; 

predict_string:
 //TODO:Ifweareokwithbreakingcompatibilityofexisting3rdpartyStorageHandlers, 

line_no || similarity 

5361 || 0.7317073170731707 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 

under_code:
boolean retval = true;
 

ーーーーーーーーSearch the target string192ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ThisgloballockmaynotbenecessaryasallconcurrentmethodsinICacheableMetaStoreClientaresynchronized.
 
sub_line:
 //aresynchronized. 

frontremoved_sub_line:
 esynchronized. 

sub_line:
 synchronized(CACHE_TEARDOWN_LOCK){ 

frontremoved_sub_line:
 hronized(CACHE_TEARDOWN_LOCK){ 

predict_string:
 //TODO:ThisgloballockmaynotbenecessaryasallconcurrentmethodsinICacheableMetaStoreClient 

line_no || similarity 

167 || 0.9157894736842105 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/core/src/main/java/org/apache/hive/hcatalog/common/HiveClientCache.java 

under_code:
synchronized (CACHE_TEARDOWN_LOCK) {
 

ーーーーーーーーSearch the target string193ーーーーーーーーーーーーーーー
 
search_string:
 //todo:FileSystem#setPermission()-shouldthismakesuretoset777onjobs/?
 
predict_string:
 //todo:FileSystem#setPermission()-shouldthismakesuretoset777onjobs/? 

line_no || similarity 

70 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/svr/src/main/java/org/apache/hive/hcatalog/templeton/tool/HDFSStorage.java 

under_code:
Path keyfile= new Path(getPath(type) + "/" + id + "/" + key);
 

ーーーーーーーーSearch the target string194ーーーーーーーーーーーーーーー
 
search_string:
 /**Builderforrelationalexpressions.*TODO:*NotethatthisiscopiedfromCalcite'sRelBulder*becauseCALCITE-1493hasn'tbeenfixedyet*ThisshouldbedeletedandreplacedwithRelBuilderinSubqueryRemoveRule*onceCALCITE-1493isfixed.*EDIT:AlthoughCALCITE-1493hasbeenfixedandreleasedbutHIVEnowhasspecialhandling*injoin(itgetsaflagtoseeifsemijoinistobecreatedornot).Sowestillcannot*replacethiswithCalcite'sRelBuilder**<p>{@codeRelBuilder}doesnotmakepossibleanythingthatyoucouldnot*alsoaccomplishbycallingthefactorymethodsoftheparticularrelational*expression.Butitmakescommontasksmorestraightforwardandconcise.**<p>{@codeRelBuilder}usesfactoriestocreaterelationalexpressions.*Bydefault,itusesthedefaultfactories,whichcreatelogicalrelational*expressions({@linkorg.apache.calcite.rel.logical.LogicalFilter},*{@linkorg.apache.calcite.rel.logical.LogicalProject}andsoforth).*Butyoucouldoverridethosefactoriessothat,say,{@codefilter}creates*insteada{@codeHiveFilter}.**<p>Itisnotthread-safe.*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string195ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:SettingautocommitshouldnotgenerateanexceptionaslongasitissettofalsebeeLine.autocommitStatus(getConnection());
 
sub_line:
 //beeLine.autocommitStatus(getConnection()); 

frontremoved_sub_line:
 eLine.autocommitStatus(getConnection()); 

sub_line:
 }catch(Exceptione){ 

frontremoved_sub_line:
 ch(Exceptione){ 

predict_string:
 //TODO:Settingautocommitshouldnotgenerateanexceptionaslongasitissettofalse 

line_no || similarity 

170 || 0.7789473684210526 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/beeline/src/java/org/apache/hive/beeline/DatabaseConnection.java 

under_code:
} catch (Exception e) {
 

ーーーーーーーーSearch the target string196ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:precisionandscalewouldbepracticallyinvalidforstringconversion(38,38)
 
predict_string:
 //TODO:precisionandscalewouldbepracticallyinvalidforstringconversion(38,38) 

line_no || similarity 

1048 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorizationContext.java 

under_code:
int scale = HiveDecimalUtils.getScaleForType(ptinfo);
 

ーーーーーーーーSearch the target string197ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ShouldthisreallydefaulttoFETCH_NEXT?
 
predict_string:
 //TODO:ShouldthisreallydefaulttoFETCH_NEXT? 

line_no || similarity 

47 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/service/src/java/org/apache/hive/service/cli/FetchOrientation.java 

under_code:
return FETCH_NEXT;
 

ーーーーーーーーSearch the target string198ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Notsureabouttheuseofthis.ShouldweinsteaduseworkerIdentityassessionId?
 
predict_string:
 //TODO:Notsureabouttheuseofthis.ShouldweinsteaduseworkerIdentityassessionId? 

line_no || similarity 

386 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskSchedulerService.java 

under_code:
this.metrics = LlapTaskSchedulerMetrics.create(displayName, sessionId);
 

ーーーーーーーーSearch the target string199ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#tableType(HCatTable.Type)}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#tableType(HCatTable.Type)}.ToberemovedinHive0.16. 

line_no || similarity 

334 || 0.9417989417989417 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public Builder isTableExternal(boolean isExternal) {
 

ーーーーーーーーSearch the target string200ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:tracerangeshere?Betweendatacacheandincompletecbcache
 
predict_string:
 //TODO:tracerangeshere?Betweendatacacheandincompletecbcache 

line_no || similarity 

901 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/OrcEncodedDataReader.java 

under_code:
}
 

ーーーーーーーーSearch the target string201ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:retainolderror;orcreateanewone?
 
predict_string:
 //FIXME:retainolderror;orcreateanewone? 

line_no || similarity 

180 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/reexec/ReExecDriver.java 

under_code:
return cpr;
 

ーーーーーーーーSearch the target string202ーーーーーーーーーーーーーーー
 
search_string:
 //wedon'tremovetheworkfromthesparkWorkhere.Theremovalisdonelater.
 
predict_string:
 //wedon'tremovetheworkfromthesparkWorkhere.Theremovalisdonelater. 

line_no || similarity 

116 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/SparkMapJoinResolver.java 

under_code:
private void moveWork(SparkWork sparkWork, BaseWork work, SparkWork targetWork) {
 

ーーーーーーーーSearch the target string203ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:needtomovefromPythontoJavafortherestofthescript.
 
predict_string:
 //TODO:needtomovefromPythontoJavafortherestofthescript. 

line_no || similarity 

567 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/cli/LlapServiceDriver.java 

under_code:
JSONObject configs = createConfigJson(containerSize, cache, xmx, java_home);
 

ーーーーーーーーSearch the target string204ーーーーーーーーーーーーーーー
 
search_string:
 //checkifinputpruningispossibleTODO:thiscodeisbuggy-itreliesonhavingonefileperbucket;noMMsupport(bydesign).
 
sub_line:
 //TODO:thiscodeisbuggy-itreliesonhavingonefileperbucket;noMMsupport(bydesign). 

frontremoved_sub_line:
 DO:thiscodeisbuggy-itreliesonhavingonefileperbucket;noMMsupport(bydesign). 

sub_line:
 booleanisManagedTable=part.getTable().getTableType()==TableType.MANAGED_TABLE; 

frontremoved_sub_line:
 eanisManagedTable=part.getTable().getTableType()==TableType.MANAGED_TABLE; 

predict_string:
 //checkifinputpruningispossible 

line_no || similarity 

194 || 0.4492753623188406 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SamplePruner.java 

under_code:
boolean isManagedTable = part.getTable().getTableType() == TableType.MANAGED_TABLE;
 

ーーーーーーーーSearch the target string205ーーーーーーーーーーーーーーー
 
search_string:
 //todo:strictlyspeakingyoucancommitanemptytxn,thus2ndconjunctiswrongbutonlypossibleforformulti-stmttxns
 
sub_line:
 //only 

frontremoved_sub_line:
 ly 

sub_line:
 //possibleforformulti-stmttxns 

frontremoved_sub_line:
 ssibleforformulti-stmttxns 

sub_line:
 booleanalreadyCommitted=rs2.next()&&rs2.getInt(1)>0; 

frontremoved_sub_line:
 eanalreadyCommitted=rs2.next()&&rs2.getInt(1)>0; 

predict_string:
 //todo:strictlyspeakingyoucancommitanemptytxn,thus2ndconjunctiswrongbut 

line_no || similarity 

4238 || 0.8160919540229885 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java 

under_code:
boolean alreadyCommitted = rs2.next() && rs2.getInt(1) > 0;
 

ーーーーーーーーSearch the target string206ーーーーーーーーーーーーーーー
 
search_string:
 //ViewDDL"alterviewaddpartition"doesnotworkbecauseofthenatureofimplementationoftheDDLinhive.HivewillinternallyinvokeanotherDriverontheselectstatement,andHCatdoesnotlet"select"statementthrough.Icannotfindawaytogetarounditwithoutmodifyinghivecode.Sojustleaveitunsupported.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string207ーーーーーーーーーーーーーーー
 
search_string:
 //todo:totesttheseneedtolinkagainst3.xlibs-mavenprofiles?runStatementOnDriver("createtableTFlat(aint,bint)storedasorctblproperties('transactional'='false')");runStatementOnDriver("createtableTFlatText(aint,bint)storedastextfiletblproperties('transactional'='false')");
 
under_code:
too long.
 

ーーーーーーーーSearch the target string208ーーーーーーーーーーーーーーー
 
search_string:
 //NOTE:Thisishacky,andthissectionofcodeisfragiledependingonDNcodevarnamessoit'slikelytostopworkingatsometimeinthefuture,especiallyifweupgradeDNversions,soweactivelyneedtofindabetterwaytomakesuretheleakdoesn'thappeninsteadofjustclearingoutthecacheaftereverycall.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string209ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:shouldneverhappen?
 
predict_string:
 if(info.isGuaranteed==null)returnfalse;//TODO:shouldneverhappen? 

line_no || similarity 

1289 || 0.5617977528089888 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskSchedulerService.java 

under_code:
assert info.lastSetGuaranteed == null;
 

ーーーーーーーーSearch the target string210ーーーーーーーーーーーーーーー
 
search_string:
 //UNDONE:Don'tknowwhyHIVE-12894causesthistoreturn0?assertEquals(0.33,reader.getProgress(),0.01);
 
sub_line:
 "thereshouldbe"+String.valueOf(expectedNumOCleanedFiles)+"deletedfilesincmroot", 

frontremoved_sub_line:
 reshouldbe"+String.valueOf(expectedNumOCleanedFiles)+"deletedfilesincmroot", 

predict_string:
 assertEquals( 

line_no || similarity 

197 || 0.23853211009174313 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/txn/compactor/TestCleanerWithReplication.java 

under_code:
"there should be " + String.valueOf(expectedNumOCleanedFiles) + " deleted files in cm root",
 

ーーーーーーーーSearch the target string211ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#getLocation()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#getLocation()}.ToberemovedinHive0.16. 

line_no || similarity 

167 || 0.9333333333333333 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public String getLocation() {
 

ーーーーーーーーSearch the target string212ーーーーーーーーーーーーーーー
 
search_string:
 //wedonotsupportWindows,wewillrevisitthisifwereallyneeditforwindows.
 
predict_string:
 //wedonotsupportWindows,wewillrevisitthisifwereallyneeditforwindows. 

line_no || similarity 

208 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/common/src/java/org/apache/hadoop/hive/common/log/InPlaceUpdate.java 

under_code:
return false;
 

ーーーーーーーーSearch the target string213ーーーーーーーーーーーーーーー
 
search_string:
 //Passanemptylistasnocolumnswillbewrittentothefile.TODOIshouldbeabletomakethisworkforupdate
 
sub_line:
 //TODOIshouldbeabletomakethisworkforupdate 

frontremoved_sub_line:
 DOIshouldbeabletomakethisworkforupdate 

sub_line:
 tableCols=newArrayList<>(); 

frontremoved_sub_line:
 eCols=newArrayList<>(); 

predict_string:
 //Passanemptylistasnocolumnswillbewrittentothefile. 

line_no || similarity 

404 || 0.7183098591549296 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/MoveTask.java 

under_code:
tableCols = new ArrayList<>();
 

ーーーーーーーーSearch the target string214ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:throwanexception?
 
predict_string:
 //TODO:throwanexception? 

line_no || similarity 

1521 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/jdbc/src/java/org/apache/hive/jdbc/HiveConnection.java 

under_code:
}
 

ーーーーーーーーSearch the target string215ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:movetoDynamicSerDewhenit'sready
 
predict_string:
 //TODO:movetoDynamicSerDewhenit'sready 

line_no || similarity 

75 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/mr/ExecReducer.java 

under_code:
private Deserializer inputKeyDeserializer;
 

ーーーーーーーーSearch the target string216ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ReplacewithdirectcalltoProgressHelper,whenreliablyavailable.
 
predict_string:
 //TODO:ReplacewithdirectcalltoProgressHelper,whenreliablyavailable. 

line_no || similarity 

76 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezProcessor.java 

under_code:
private static class ReflectiveProgressHelper {
 

ーーーーーーーーSearch the target string217ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisistheonlyplacethatuseskeepTmpDir.Why?
 
predict_string:
 //TODO:thisistheonlyplacethatuseskeepTmpDir.Why? 

line_no || similarity 

412 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/mr/ExecDriver.java 

under_code:
TezSessionPoolManager.closeIfNotDefault(ss.getTezSession(), true);
 

ーーーーーーーーSearch the target string218ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:useserdeConstants.COLLECTION_DELIMwhenthetypoisfixed
 
predict_string:
 //TODO:useserdeConstants.COLLECTION_DELIMwhenthetypoisfixed 

line_no || similarity 

106 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/contrib/src/java/org/apache/hadoop/hive/contrib/serde2/MultiDelimitSerDe.java 

under_code:
collSep = LazyUtils.getByte(tbl.getProperty(COLLECTION_DELIM),
 

ーーーーーーーーSearch the target string219ーーーーーーーーーーーーーーー
 
search_string:
 //Indicateswhetheranodehadarecentcommunicationfailure.Thisisprimarilyfortrackingandloggingpurposesforthemoment.TODOAtsomepoint,treattaskrejectionandcommunicationfailuresdifferently.
 
sub_line:
 //Thisisprimarilyfortrackingandloggingpurposesforthemoment. 

frontremoved_sub_line:
 isisprimarilyfortrackingandloggingpurposesforthemoment. 

sub_line:
 //TODOAtsomepoint,treattaskrejectionandcommunicationfailuresdifferently. 

frontremoved_sub_line:
 DOAtsomepoint,treattaskrejectionandcommunicationfailuresdifferently. 

sub_line:
 privatebooleanhadCommFailure=false; 

frontremoved_sub_line:
 atebooleanhadCommFailure=false; 

predict_string:
 //Indicateswhetheranodehadarecentcommunicationfailure. 

line_no || similarity 

2426 || 0.4595744680851064 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskSchedulerService.java 

under_code:
private boolean hadCommFailure = false;
 

ーーーーーーーーSearch the target string220ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:moveotherprotocolstousethistoo.
 
predict_string:
 //TODO:moveotherprotocolstousethistoo. 

line_no || similarity 

31 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-common/src/java/org/apache/hadoop/hive/llap/impl/ProtobufProxy.java 

under_code:
public class ProtobufProxy<BlockingInterface> {
 

ーーーーーーーーSearch the target string221ーーーーーーーーーーーーーーー
 
search_string:
 //TODOMovethefollowing2propertiesoutofConfigurationtoaconstant.
 
predict_string:
 //TODOMovethefollowing2propertiesoutofConfigurationtoaconstant. 

line_no || similarity 

3980 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 

under_code:
LLAP_DAEMON_CONTAINER_ID("hive.llap.daemon.container.id", null,
 

ーーーーーーーーSearch the target string222ーーーーーーーーーーーーーーー
 
search_string:
 /**Createssizeestimatorsforjavaobjects.Theestimatorsattempttodomostofthereflection*workatinitializationtime,andalsotakesomeshortcuts,tominimizetheamountofworkdone*duringtheactualestimation.*TODO:cleanup*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string223ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:movetoabaseclass?
 
predict_string:
 //TODO:movetoabaseclass? 

line_no || similarity 

261 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/SerDeEncodedDataReader.java 

under_code:
@Override
 

ーーーーーーーーSearch the target string224ーーーーーーーーーーーーーーー
 
search_string:
 //SincetheMapJoinhashadallofitsotherparentsremovedatthispoint,itwouldbebadhereifprocessReduceSinkToHashJoin()triestodoanything
 
sub_line:
 //itwouldbebadhereifprocessReduceSinkToHashJoin()triestodoanything 

frontremoved_sub_line:
 wouldbebadhereifprocessReduceSinkToHashJoin()triestodoanything 

sub_line:
 //withtheRSparentbasedonitspositioninthelistofparents. 

frontremoved_sub_line:
 ththeRSparentbasedonitspositioninthelistofparents. 

predict_string:
 //SincetheMapJoinhashadallofitsotherparentsremovedatthispoint, 

line_no || similarity 

447 || 0.6595744680851063 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/GenTezWork.java 

under_code:
// with the RS parent based on its position in the list of parents.
 

ーーーーーーーーSearch the target string225ーーーーーーーーーーーーーーー
 
search_string:
 //todo:shouldthisbedoneforMM?isitoktouseCombineHiveInputFormatwithMM
 
predict_string:
 //todo:shouldthisbedoneforMM?isitoktouseCombineHiveInputFormatwithMM 

line_no || similarity 

7307 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 

under_code:
checkAcidConstraints(qb, table_desc, dest_tab);
 

ーーーーーーーーSearch the target string226ーーーーーーーーーーーーーーー
 
search_string:
 //todothisshouldbechangedtobeevaluatedlazily,especiallyforsinglesegmentcase
 
predict_string:
 //todothisshouldbechangedtobeevaluatedlazily,especiallyforsinglesegmentcase 

line_no || similarity 

829 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/SMBMapJoinOperator.java 

under_code:
keys[current].setFirst(JoinUtil.computeKeys(nextRow.o, keyFields, keyFieldOIs));
 

ーーーーーーーーSearch the target string227ーーーーーーーーーーーーーーー
 
search_string:
 //TODODisableblacklistinginTezwhenusingLLAP,untilthisisproperlysupported.Blacklistingcancausecontainerstomovetoaterminatingstate,whichcancauseattempttobemarkedasfailed.Thisbecomesproblematicwhenweset#allowedFailuresto0TODOHIVE-13484WhathappenswhenwetryschedulingataskonanodethatTezatthispointthinksisblacklisted.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string228ーーーーーーーーーーーーーーー
 
search_string:
 //todoshouldthischeckbeinconformToAcid()?
 
predict_string:
 //todoshouldthischeckbeinconformToAcid()? 

line_no || similarity 

266 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/TransactionalValidationListener.java 

under_code:
LOG.info("Could not make " + Warehouse.getQualifiedName(newTable) + " acid: it's " +
 

ーーーーーーーーSearch the target string229ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Splitcountisnotsameasnoofbuckets
 
predict_string:
 //TODO:Splitcountisnotsameasnoofbuckets 

line_no || similarity 

646 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/cost/HiveOnTezCostModel.java 

under_code:
JoinAlgorithm oldAlgo = join.getJoinAlgorithm();
 

ーーーーーーーーSearch the target string230ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ColsthatcomethroughPTFshoulditretain(VirtualColumness)?
 
predict_string:
 //TODO:ColsthatcomethroughPTFshoulditretain(VirtualColumness)? 

line_no || similarity 

301 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/HiveOpConverter.java 

under_code:
if (converter.getWindowFunctionSpec() != null) {
 

ーーーーーーーーSearch the target string231ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:verifyifanyquotingisneededforkeys
 
predict_string:
 sb.append(e.getKey());//TODO:verifyifanyquotingisneededforkeys 

line_no || similarity 

202 || 0.7843137254901961 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/repl/ReplicationUtils.java 

under_code:
sb.append('=');
 

ーーーーーーーーSearch the target string232ーーーーーーーーーーーーーーー
 
search_string:
 //todo:thisshouldcheckthatthejobactuallycompletedandlikelyusecompletiontime
 
predict_string:
 //todo:thisshouldcheckthatthejobactuallycompletedandlikelyusecompletiontime 

line_no || similarity 

163 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/svr/src/main/java/org/apache/hive/hcatalog/templeton/tool/ZooKeeperCleanup.java 

under_code:
//which is not tracked directly but available on /jobs/<id> node via "mtime" in Stat
 

ーーーーーーーーSearch the target string233ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:movethistologicalEquals
 
predict_string:
 //TODO:movethistologicalEquals 

line_no || similarity 

1061 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SharedWorkOptimizer.java 

under_code:
if (op1 instanceof ReduceSinkOperator) {
 

ーーーーーーーーSearch the target string234ーーーーーーーーーーーーーーー
 
search_string:
 /**TODO:<br>*1.CouldweusecombinedRRinsteadoflistofRR?<br>*2.UseColumnProcessingfromTypeCheckProcFactory<br>*3.WhynotuseGBexpr?*/
 
sub_line:
 *2.UseColumnProcessingfromTypeCheckProcFactory<br> 

frontremoved_sub_line:
 seColumnProcessingfromTypeCheckProcFactory<br> 

sub_line:
 *3.WhynotuseGBexpr? 

frontremoved_sub_line:
 hynotuseGBexpr? 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 publicclassJoinCondTypeCheckProcFactoryextendsTypeCheckProcFactory{ 

frontremoved_sub_line:
 icclassJoinCondTypeCheckProcFactoryextendsTypeCheckProcFactory{ 

predict_string:
 *1.CouldweusecombinedRRinsteadoflistofRR?<br> 

line_no || similarity 

50 || 0.5202312138728323 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/JoinCondTypeCheckProcFactory.java 

under_code:
public class JoinCondTypeCheckProcFactory extends TypeCheckProcFactory {
 

ーーーーーーーーSearch the target string235ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Temporaryfordebugging.Doesn'tinterferewithMTTfailures(unlikeLOG.debug).
 
predict_string:
 //TODO:Temporaryfordebugging.Doesn'tinterferewithMTTfailures(unlikeLOG.debug). 

line_no || similarity 

286 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/common/src/java/org/apache/hive/common/util/FixedSizedObjectPool.java 

under_code:
private final static class CasLog {
 

ーーーーーーーーSearch the target string236ーーーーーーーーーーーーーーー
 
search_string:
 //TODODeprecationreasondoesnotseemtoreflectintheconfig?Theorderingisimportantincaseofkeyswhicharealsodeprecated.Unsetwillunsetthedeprecatedkeysandallitsvariants.
 
sub_line:
 //Theorderingisimportantincaseofkeyswhicharealsodeprecated. 

frontremoved_sub_line:
 eorderingisimportantincaseofkeyswhicharealsodeprecated. 

sub_line:
 //Unsetwillunsetthedeprecatedkeysandallitsvariants. 

frontremoved_sub_line:
 setwillunsetthedeprecatedkeysandallitsvariants. 

sub_line:
 finalStringmrValue=conf.get(dep.getKey()); 

frontremoved_sub_line:
 lStringmrValue=conf.get(dep.getKey()); 

predict_string:
 //TODODeprecationreasondoesnotseemtoreflectintheconfig? 

line_no || similarity 

551 || 0.5092592592592593 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java 

under_code:
final String mrValue = conf.get(dep.getKey());
 

ーーーーーーーーSearch the target string237ーーーーーーーーーーーーーーー
 
search_string:
 //GrpSetColalreadypartofinputRSTODO:Can'twejustcopytheExprNodeDEscfrominput(Doweneedtoexplicitlysettablealiastonull&VCtofalse
 
sub_line:
 //TODO:Can'twejustcopytheExprNodeDEscfrominput(Doweneedto 

frontremoved_sub_line:
 DO:Can'twejustcopytheExprNodeDEscfrominput(Doweneedto 

sub_line:
 //explicitlysettablealiastonull&VCtofalse 

frontremoved_sub_line:
 plicitlysettablealiastonull&VCtofalse 

sub_line:
 gbKeys.addAll(ExprNodeDescUtils.genExprNodeDesc(rs,groupingSetsColPosition, 

frontremoved_sub_line:
 ys.addAll(ExprNodeDescUtils.genExprNodeDesc(rs,groupingSetsColPosition, 

predict_string:
 //GrpSetColalreadypartofinputRS 

line_no || similarity 

868 || 0.3974358974358974 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/HiveGBOpConvUtil.java 

under_code:
gbKeys.addAll(ExprNodeDescUtils.genExprNodeDesc(rs, groupingSetsColPosition,
 

ーーーーーーーーSearch the target string238ーーーーーーーーーーーーーーー
 
search_string:
 //todo:DataOperationTypeissetconservativelyhere,we'dreallywanttodistinguishupdate/deleteandinsert/selectandifresource(thatiswrittento)isACIDornot
 
sub_line:
 //andinsert/selectandifresource(thatiswrittento)isACIDornot 

frontremoved_sub_line:
 dinsert/selectandifresource(thatiswrittento)isACIDornot 

sub_line:
 if(sinks.contains(table)){ 

frontremoved_sub_line:
 inks.contains(table)){ 

predict_string:
 //todo:DataOperationTypeissetconservativelyhere,we'dreallywanttodistinguishupdate/delete 

line_no || similarity 

184 || 0.7553648068669528 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/streaming/src/java/org/apache/hive/hcatalog/streaming/mutate/client/lock/Lock.java 

under_code:
if (sinks.contains(table)) {
 

ーーーーーーーーSearch the target string239ーーーーーーーーーーーーーーー
 
search_string:
 //TODO[MMgap]:CTASmaycurrentlybebroken.Itusedtowork.Seetheoldcode,andwhyisCtasisn'tused?
 
predict_string:
 //TODO[MMgap]:CTASmaycurrentlybebroken.Itusedtowork.Seetheoldcode,andwhyisCtasisn'tused? 

line_no || similarity 

1516 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/AcidUtils.java 

under_code:
public static boolean isInsertOnlyTable(Map<String, String> params, boolean isCtas) {
 

ーーーーーーーーSearch the target string240ーーーーーーーーーーーーーーー
 
search_string:
 //todo:addpartitionedtablethatneedsconversiontoMM/Acid
 
predict_string:
 //todo:addpartitionedtablethatneedsconversiontoMM/Acid 

line_no || similarity 

99 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/upgrade-acid/src/test/java/org/apache/hadoop/hive/upgrade/acid/TestUpgradeTool.java 

under_code:
//todo: rename files case
 

ーーーーーーーーSearch the target string241ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Dowereallyneedallthisnonsense?
 
predict_string:
 //TODO:Dowereallyneedallthisnonsense? 

line_no || similarity 

645 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java 

under_code:
if (session != null) {
 

ーーーーーーーーSearch the target string242ーーーーーーーーーーーーーーー
 
search_string:
 //Thisisbad,butwehavetosortthekeysofthemapsinordertobecommutative.
 
sub_line:
 //tobecommutative. 

frontremoved_sub_line:
 becommutative. 

sub_line:
 TreeMap<Object,Object>tm1=newTreeMap<Object,Object>(m1); 

frontremoved_sub_line:
 Map<Object,Object>tm1=newTreeMap<Object,Object>(m1); 

predict_string:
 //Thisisbad,butwehavetosortthekeysofthemapsinorder 

line_no || similarity 

177 || 0.8620689655172413 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/core/src/main/java/org/apache/hive/hcatalog/data/DataType.java 

under_code:
TreeMap<Object, Object> tm1 = new TreeMap<Object, Object>(m1);
 

ーーーーーーーーSearch the target string243ーーーーーーーーーーーーーーー
 
search_string:
 //@TODOthisseemstobethesameasorg.apache.hadoop.hive.ql.parse.CalcitePlanner.TableType.DRUIDdowereallyneedboth
 
predict_string:
 //@TODOthisseemstobethesameasorg.apache.hadoop.hive.ql.parse.CalcitePlanner.TableType.DRUIDdowereallyneedboth 

line_no || similarity 

440 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveMaterializedViewsRegistry.java 

under_code:
private enum TableType {
 

ーーーーーーーーSearch the target string244ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:NPEshouldnotbethrown.
 
predict_string:
 //TODO:NPEshouldnotbethrown. 

line_no || similarity 

176 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/client/TestAddPartitionsFromPartSpec.java 

under_code:
client.add_partitions_pspec(null);
 

ーーーーーーーーSearch the target string245ーーーーーーーーーーーーーーー
 
search_string:
 /**TestsfortheworkerthreadanditsMRjobs.*todo:mostdeltafilesinthistestsuiteusetxnidrange,i.e.[N,N+M]*Thatmeansthattheyalllookliketheywerecreatedbycompactionorbystreamingapi.*DeltafilescreatedbySQLshouldhave[N,N]range(andasuffixinv1.3andlater)*Needtochangesomeofthesetohavebettertestcoverage.*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string246ーーーーーーーーーーーーーーー
 
search_string:
 //notgoodifwereachhere,thiswasinitializedatsetMetaStoreHandler()time.thismeanshandler.getWh()isreturningnull.Errorout.
 
sub_line:
 //thismeanshandler.getWh()isreturningnull.Errorout. 

frontremoved_sub_line:
 ismeanshandler.getWh()isreturningnull.Errorout. 

sub_line:
 thrownewIllegalStateException("UninitializedWarehousefromMetastoreHandler"); 

frontremoved_sub_line:
 wnewIllegalStateException("UninitializedWarehousefromMetastoreHandler"); 

predict_string:
 //notgoodifwereachhere,thiswasinitializedatsetMetaStoreHandler()time. 

line_no || similarity 

95 || 0.7379679144385026 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java 

under_code:
throw new IllegalStateException("Uninitialized Warehouse from MetastoreHandler");
 

ーーーーーーーーSearch the target string247ーーーーーーーーーーーーーーー
 
search_string:
 /**Theprocessorcontextforpartitionpruner.Thiscontainsthetablealias*thatisbeingcurrentlyprocessed.*TODO:thisclassmaybenotuseful.*/
 
sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 publicclassLBExprProcCtximplementsNodeProcessorCtx{ 

frontremoved_sub_line:
 icclassLBExprProcCtximplementsNodeProcessorCtx{ 

predict_string:
 *thatisbeingcurrentlyprocessed. 

line_no || similarity 

26 || 0.3875 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBExprProcCtx.java 

under_code:
public class LBExprProcCtx implements NodeProcessorCtx{
 

ーーーーーーーーSearch the target string248ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#nullDefinedAs()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#nullDefinedAs()}.ToberemovedinHive0.16. 

line_no || similarity 

414 || 0.9349112426035503 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public Builder nullDefinedAs(char nullChar) {
 

ーーーーーーーーSearch the target string249ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:enablethisforproductiondebug,switchingbetweentwosmallbuffers?newCasLog();
 
sub_line:
 privatefinalstaticCasLogcasLog=null;//newCasLog(); 

frontremoved_sub_line:
 atefinalstaticCasLogcasLog=null;//newCasLog(); 

predict_string:
 //TODO:enablethisforproductiondebug,switchingbetweentwosmallbuffers? 

line_no || similarity 

1588 || 0.918918918918919 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/cache/BuddyAllocator.java 

under_code:
private final static CasLog casLog = null; //new CasLog();
 

ーーーーーーーーSearch the target string250ーーーーーーーーーーーーーーー
 
search_string:
 /**AhelperclasstoisolatenewerHBasefeaturesfromusersrunningagainstolderversionsof*HBasethatdon'tprovidethosefeatures.**TODO:removethisclasswhenit'sokaytodropsupportforearlierversionofHBase.*/
 
sub_line:
 *HBasethatdon'tprovidethosefeatures. 

frontremoved_sub_line:
 sethatdon'tprovidethosefeatures. 

sub_line:
 * 

frontremoved_sub_line:
  

sub_line:
 *TODO:removethisclasswhenit'sokaytodropsupportforearlierversionofHBase. 

frontremoved_sub_line:
 O:removethisclasswhenit'sokaytodropsupportforearlierversionofHBase. 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 publicclassHBaseTableSnapshotInputFormatUtil{ 

frontremoved_sub_line:
 icclassHBaseTableSnapshotInputFormatUtil{ 

predict_string:
 *AhelperclasstoisolatenewerHBasefeaturesfromusersrunningagainstolderversionsof 

line_no || similarity 

33 || 0.582089552238806 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseTableSnapshotInputFormatUtil.java 

under_code:
public class HBaseTableSnapshotInputFormatUtil {
 

ーーーーーーーーSearch the target string251ーーーーーーーーーーーーーーー
 
search_string:
 //NOTE:ForUniformHashornobuckets/partitions,whenthekeyisempty,wewillusetheVectorReduceSinkEmptyKeyOperatorinstead.
 
sub_line:
 replicas, 

frontremoved_sub_line:
 icas, 

predict_string:
 partitions, 

line_no || similarity 

195 || 0.176 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/druid-handler/src/java/org/apache/hadoop/hive/druid/json/KafkaSupervisorReport.java 

under_code:
replicas,
 

ーーーーーーーーSearch the target string252ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:verifyifthisisneeded
 
predict_string:
 //TODO:verifyifthisisneeded 

line_no || similarity 

909 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/HiveGBOpConvUtil.java 

under_code:
if (lastReduceKeyColName != null) {
 

ーーーーーーーーSearch the target string253ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisclassiscompletelyunnecessary...1-on-1mappingwithparent.
 
predict_string:
 //TODO:thisclassiscompletelyunnecessary...1-on-1mappingwithparent. 

line_no || similarity 

243 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-client/src/java/org/apache/hadoop/hive/llap/registry/impl/LlapZookeeperRegistryImpl.java 

under_code:
//       Remains here as the legacy of the original higher-level interface (getInstance).
 

ーーーーーーーーSearch the target string254ーーーーーーーーーーーーーーー
 
search_string:
 /**IfmovingacrossdifferentFileSystemsordiffernentencryptionzone,needtodoaFilecopyinsteadofrename.*TODO-considerifneedtodothisfordifferentfileauthority.*@throwsHiveException*/
 
sub_line:
 *@throwsIOException 

frontremoved_sub_line:
 rowsIOException 

predict_string:
 *@throwsHiveException 

line_no || similarity 

109 || 0.2153846153846154 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/service/src/java/org/apache/hive/service/cli/session/HiveSessionImplwithUGI.java 

under_code:
* @throws IOException
 

ーーーーーーーーSearch the target string255ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:supportpropagationforpartitioning/orderinginwindowing
 
predict_string:
 //TODO:supportpropagationforpartitioning/orderinginwindowing 

line_no || similarity 

227 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/rules/HiveRelColumnsAlignment.java 

under_code:
containsWindowing = true;
 

ーーーーーーーーSearch the target string256ーーーーーーーーーーーーーーー
 
search_string:
 //namedcolumnsjoinTODO:wecanalsodothesameforsemijoinbutitseemsthatotherDBMSdoesnotsupportityet.
 
sub_line:
 //TODO:wecanalsodothesameforsemijoinbutitseemsthatother 

frontremoved_sub_line:
 DO:wecanalsodothesameforsemijoinbutitseemsthatother 

sub_line:
 //DBMSdoesnotsupportityet. 

frontremoved_sub_line:
 MSdoesnotsupportityet. 

sub_line:
 if(joinCond.getType()==HiveParser.TOK_TABCOLNAME 

frontremoved_sub_line:
 oinCond.getType()==HiveParser.TOK_TABCOLNAME 

predict_string:
 //namedcolumnsjoin 

line_no || similarity 

2420 || 0.3185840707964602 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/CalcitePlanner.java 

under_code:
if (joinCond.getType() == HiveParser.TOK_TABCOLNAME
 

ーーーーーーーーSearch the target string257ーーーーーーーーーーーーーーー
 
search_string:
 /**HelperclassthatgeneratesSQLquerieswithsyntaxspecifictotargetDB*todo:whythrowMetaException?*/
 
sub_line:
 *todo:whythrowMetaException? 

frontremoved_sub_line:
 o:whythrowMetaException? 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 @VisibleForTesting 

frontremoved_sub_line:
 ibleForTesting 

predict_string:
 *HelperclassthatgeneratesSQLquerieswithsyntaxspecifictotargetDB 

line_no || similarity 

34 || 0.7974683544303798 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/tools/SQLGenerator.java 

under_code:
@VisibleForTesting
 

ーーーーーーーーSearch the target string258ーーーーーーーーーーーーーーー
 
search_string:
 //WecancontinueTODO:NeedtocheckthatthisisthesameMVthatwearerebuilding
 
sub_line:
 super.visit(node,ordinal,parent); 

frontremoved_sub_line:
 r.visit(node,ordinal,parent); 

predict_string:
 //Wecancontinue 

line_no || similarity 

92 || 0.35714285714285715 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/rules/views/MaterializedViewRewritingRelVisitor.java 

under_code:
super.visit(node, ordinal, parent);
 

ーーーーーーーーSearch the target string259ーーーーーーーーーーーーーーー
 
search_string:
 //GuessifCommonJoinResolverwillwork.IfCommonJoinResolvermayconvertajoinoperation,correlationoptimizerwillnotmergethatjoin.TODO:Ifhive.auto.convert.join.noconditionaltask=true,foraJoinOperatorthathasbothintermediatetablesandqueryinputtablesasinputtables,weshouldbeabletoguessifthisJoinOperatorwillbeconvertedtoaMapJoinbasedonhive.auto.convert.join.noconditionaltask.size.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string260ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:couldweloginfromticketcacheinstead?nogoodmethodonUGIrightnow.
 
predict_string:
 //TODO:couldweloginfromticketcacheinstead?nogoodmethodonUGIrightnow. 

line_no || similarity 

45 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/security/LlapUgiFactoryFactory.java 

under_code:
return SHIMS.cloneUgi(baseUgi);
 

ーーーーーーーーSearch the target string261ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:supportforbinaryspec?presumablywe'dparseitsomewhereearlier
 
predict_string:
 //TODO:supportforbinaryspec?presumablywe'dparseitsomewhereearlier 

line_no || similarity 

610 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/daemon/impl/TaskRunnerCallable.java 

under_code:
return vertex;
 

ーーーーーーーーSearch the target string262ーーーーーーーーーーーーーーー
 
search_string:
 //redundantTODO:callersofthisoftengetpart_valsoutofnamefornoreason...
 
predict_string:
 //redundantTODO:callersofthisoftengetpart_valsoutofnamefornoreason... 

line_no || similarity 

2511 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ObjectStore.java 

under_code:
String name =
 

ーーーーーーーーSearch the target string263ーーーーーーーーーーーーーーー
 
search_string:
 //TODOMS-SPLITfornow,keepacopyofHiveConfaroundasweneedtocallothermethodswithit.ThisshouldbechangedtoConfigurationonceeverythingthatthiscallsthatrequiresHiveConfismovedtothestandalonemetastore.
 
sub_line:
 //it.ThisshouldbechangedtoConfigurationonceeverythingthatthiscallsthatrequires 

frontremoved_sub_line:
 .ThisshouldbechangedtoConfigurationonceeverythingthatthiscallsthatrequires 

sub_line:
 //HiveConfismovedtothestandalonemetastore. 

frontremoved_sub_line:
 veConfismovedtothestandalonemetastore. 

sub_line:
 conf=(configurationinstanceofHiveConf)?(HiveConf)configuration: 

frontremoved_sub_line:
 =(configurationinstanceofHiveConf)?(HiveConf)configuration: 

predict_string:
 //TODOMS-SPLITfornow,keepacopyofHiveConfaroundasweneedtocallothermethodswith 

line_no || similarity 

67 || 0.5671641791044776 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/txn/compactor/CompactorThread.java 

under_code:
conf = (configuration instanceof HiveConf) ? (HiveConf)configuration :
 

ーーーーーーーーSearch the target string264ーーーーーーーーーーーーーーー
 
search_string:
 /**Closestheclientreleasingany{@linkIMetaStoreClientmetastore}connectionsheld.Doesnotnotifyanyopen*transactions(TODO:perhapsitshould?)*/
 
sub_line:
 *transactions(TODO:perhapsitshould?) 

frontremoved_sub_line:
 nsactions(TODO:perhapsitshould?) 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 @Override 

frontremoved_sub_line:
 rride 

predict_string:
 *Closestheclientreleasingany{@linkIMetaStoreClientmetastore}connectionsheld.Doesnotnotifyanyopen 

line_no || similarity 

127 || 0.8275862068965517 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/streaming/src/java/org/apache/hive/hcatalog/streaming/mutate/client/MutatorClient.java 

under_code:
@Override
 

ーーーーーーーーSearch the target string265ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:willthiswork?
 
predict_string:
 //TODO:willthiswork? 

line_no || similarity 

141 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/util/src/main/java/org/apache/hadoop/hive/cli/control/CoreCompareCliDriver.java 

under_code:
ecode = qt.executeClient(versionFile, fname);
 

ーーーーーーーーSearch the target string266ーーーーーーーーーーーーーーー
 
search_string:
 //Wedon'thavetheentirepart;copybothwhateverweintendedtocache,andtherest,toanallocatedbuffer.Wecouldtrytooptimizeabitifwehavecontiguousbufferswithgaps,butit'sprobablynotneeded.
 
sub_line:
 //toanallocatedbuffer.Wecouldtrytooptimizeabitifwehavecontiguousbuffers 

frontremoved_sub_line:
 anallocatedbuffer.Wecouldtrytooptimizeabitifwehavecontiguousbuffers 

sub_line:
 //withgaps,butit'sprobablynotneeded. 

frontremoved_sub_line:
 thgaps,butit'sprobablynotneeded. 

sub_line:
 if(candidateCached!=null){ 

frontremoved_sub_line:
 andidateCached!=null){ 

predict_string:
 //Wedon'thavetheentirepart;copybothwhateverweintendedtocache,andtherest, 

line_no || similarity 

1128 || 0.582995951417004 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/encoded/EncodedReaderImpl.java 

under_code:
if (candidateCached != null) {
 

ーーーーーーーーSearch the target string267ーーーーーーーーーーーーーーー
 
search_string:
 /**TODO:HackfixuntilHIVE-5848isaddressed.non-exacttypeshouldn'tbepromoted*toexacttype,asFunctionRegistry.getCommonClass()mightdo.Thiscorrects*that.*/
 
sub_line:
 *toexacttype,asFunctionRegistry.getCommonClass()mightdo.Thiscorrects 

frontremoved_sub_line:
 xacttype,asFunctionRegistry.getCommonClass()mightdo.Thiscorrects 

sub_line:
 *that. 

frontremoved_sub_line:
 t. 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 if(commonTypeInfoinstanceofDecimalTypeInfo){ 

frontremoved_sub_line:
 ommonTypeInfoinstanceofDecimalTypeInfo){ 

predict_string:
 *TODO:HackfixuntilHIVE-5848isaddressed.non-exacttypeshouldn'tbepromoted 

line_no || similarity 

238 || 0.6454545454545455 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFUtils.java 

under_code:
if (commonTypeInfo instanceof DecimalTypeInfo) {
 

ーーーーーーーーSearch the target string268ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:oldimplementationreturnednull;exceptionmaybe?
 
predict_string:
 //FIXME:oldimplementationreturnednull;exceptionmaybe? 

line_no || similarity 

424 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/HiveFileFormatUtils.java 

under_code:
return null;
 

ーーーーーーーーSearch the target string269ーーーーーーーーーーーーーーー
 
search_string:
 //Optimizethescenariowhentherearenogroupingkeys-only1reducerisneeded
 
predict_string:
 //Optimizethescenariowhentherearenogroupingkeys-only1reducerisneeded 

line_no || similarity 

5828 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 

under_code:
int numReducers = -1;
 

ーーーーーーーーSearch the target string270ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:isDecimalanexactnumericorapproximatenumeric?
 
predict_string:
 //TODO:isDecimalanexactnumericorapproximatenumeric? 

line_no || similarity 

632 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/RexNodeConverter.java 

under_code:
case DECIMAL:
 

ーーーーーーーーSearch the target string271ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whydoesn'tthisuseoneoftheexistingoptionsimplementations?!
 
predict_string:
 //TODO:whydoesn'tthisuseoneoftheexistingoptionsimplementations?! 

line_no || similarity 

42 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/cli/LlapStatusOptionsProcessor.java 

under_code:
enum OptionConstants {
 

ーーーーーーーーSearch the target string272ーーーーーーーーーーーーーーー
 
search_string:
 //Ensurethere'snothreadlocal.Wedon'texpectone.Wedon'teverwanttocreatekeypathswithworldvisibility.Whyisthatevenanoption?!!
 
under_code:
None
 

ーーーーーーーーSearch the target string273ーーーーーーーーーーーーーーー
 
search_string:
 /**todo:whenjobiscomplete,shouldprintthemsgCounttabletolog*/
 
sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 privatestaticfinalclassDataLossLogger{ 

frontremoved_sub_line:
 atestaticfinalclassDataLossLogger{ 

predict_string:
 *todo:whenjobiscomplete,shouldprintthemsgCounttabletolog 

line_no || similarity 

643 || 0.9655172413793104 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/hcatalog-pig-adapter/src/main/java/org/apache/hive/hcatalog/pig/HCatBaseStorer.java 

under_code:
private static final class DataLossLogger {
 

ーーーーーーーーSearch the target string274ーーーーーーーーーーーーーーー
 
search_string:
 //TODOexplainshoulduseaFetchTaskforreading
 
predict_string:
 //TODOexplainshoulduseaFetchTaskforreading 

line_no || similarity 

2971 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/Driver.java 

under_code:
for (Task<? extends Serializable> task : plan.getRootTasks()) {
 

ーーーーーーーーSearch the target string275ーーーーーーーーーーーーーーー
 
search_string:
 //Thisdetailnotdesired.
 
predict_string:
 //Thisdetailnotdesired. 

line_no || similarity 

717 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java 

under_code:
invokeFlag = false;
 

ーーーーーーーーSearch the target string276ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:usetheotherHdfsUtilshere
 
predict_string:
 //TODO:usetheotherHdfsUtilshere 

line_no || similarity 

110 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/FileMetadataManager.java 

under_code:
if (!(fs instanceof DistributedFileSystem)) return;
 

ーーーーーーーーSearch the target string277ーーーーーーーーーーーーーーー
 
search_string:
 //First,checkiftheregistryhasbeenupdatedsincetheerror,andskiptheerrorifwehavereceivednew,validregistryinfo(TODO:externally,addagraceperiodforthis?).
 
sub_line:
 //wehavereceivednew,validregistryinfo(TODO:externally,addagraceperiodforthis?). 

frontremoved_sub_line:
 havereceivednew,validregistryinfo(TODO:externally,addagraceperiodforthis?). 

sub_line:
 Ref<Integer>endpointVersion=newRef<>(-1); 

frontremoved_sub_line:
 Integer>endpointVersion=newRef<>(-1); 

predict_string:
 //First,checkiftheregistryhasbeenupdatedsincetheerror,andskiptheerrorif 

line_no || similarity 

929 || 0.6484018264840182 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/WorkloadManager.java 

under_code:
Ref<Integer> endpointVersion = new Ref<>(-1);
 

ーーーーーーーーSearch the target string278ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:calculatefromcachedvalues.
 
predict_string:
 //TODO:calculatefromcachedvalues. 

line_no || similarity 

1717 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/cache/CachedStore.java 

under_code:
public List<ColumnStatistics> getPartitionColumnStatistics(String catName, String dbName, String tblName,
 

ーーーーーーーーSearch the target string279ーーーーーーーーーーーーーーー
 
search_string:
 //Arraysizenotbigenough?
 
predict_string:
 //Arraysizenotbigenough? 

line_no || similarity 

130 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyArray.java 

under_code:
if (startPosition == null || arrayLength + 1 == startPosition.length) {
 

ーーーーーーーーSearch the target string280ーーーーーーーーーーーーーーー
 
search_string:
 //UNDONE:NeededtolongTest?
 
predict_string:
 //UNDONE:NeededtolongTest? 

line_no || similarity 

240 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/exec/vector/util/batchgen/VectorColumnGroupGenerator.java 

under_code:
case BINARY:
 

ーーーーーーーーSearch the target string281ーーーーーーーーーーーーーーー
 
search_string:
 //TODOReducethenumberoflookupsthathappenhere.Thisshouldn'tgotoHDFSforeachcall.
 
predict_string:
 //TODOReducethenumberoflookupsthathappenhere.Thisshouldn'tgotoHDFSforeachcall. 

line_no || similarity 

792 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java 

under_code:
// The hiveJarDir can be determined once per client.
 

ーーーーーーーーSearch the target string282ーーーーーーーーーーーーーーー
 
search_string:
 //Nodatatoreadforthisstripe.Checkifwehavesomeincludedindex-onlycolumns.TODO:theremaybeabughere.CouldtherebepartialRGfilteringonindex-onlycolumn?
 
sub_line:
 //TODO:theremaybeabughere.CouldtherebepartialRGfilteringonindex-onlycolumn? 

frontremoved_sub_line:
 DO:theremaybeabughere.CouldtherebepartialRGfilteringonindex-onlycolumn? 

sub_line:
 if(hasIndexOnlyCols&&(rgs==null)){ 

frontremoved_sub_line:
 asIndexOnlyCols&&(rgs==null)){ 

predict_string:
 //Nodatatoreadforthisstripe.Checkifwehavesomeincludedindex-onlycolumns. 

line_no || similarity 

363 || 0.6604651162790698 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/encoded/EncodedReaderImpl.java 

under_code:
if (hasIndexOnlyCols && (rgs == null)) {
 

ーーーーーーーーSearch the target string283ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME.DotherightthingLuke.
 
predict_string:
 //FIXME.DotherightthingLuke. 

line_no || similarity 

180 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/HiveSplitGenerator.java 

under_code:
if (getContext() == null) {
 

ーーーーーーーーSearch the target string284ーーーーーーーーーーーーーーー
 
search_string:
 //TODOmakeitsoIcanrandomizethecolumnorder
 
predict_string:
 //TODOmakeitsoIcanrandomizethecolumnorder 

line_no || similarity 

321 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/streaming/src/test/org/apache/hive/hcatalog/streaming/StreamingIntegrationTester.java 

under_code:
StringBuilder buf = new StringBuilder();
 

ーーーーーーーーSearch the target string285ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:rightnowwetreateachsliceasastripewithasingleRGandneverbotherwithindexes.Inphase4,weneedtoaddindexingandfiltering.
 
sub_line:
 //withindexes.Inphase4,weneedtoaddindexingandfiltering. 

frontremoved_sub_line:
 thindexes.Inphase4,weneedtoaddindexingandfiltering. 

sub_line:
 } 

frontremoved_sub_line:
  

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 @Override 

frontremoved_sub_line:
 rride 

predict_string:
 //TODO:rightnowwetreateachsliceasastripewithasingleRGandneverbother 

line_no || similarity 

468 || 0.7165775401069518 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/SerDeEncodedDataReader.java 

under_code:
@Override
 

ーーーーーーーーSearch the target string286ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:apatternfromCurator.Bettererrorhandling?
 
predict_string:
 startCreateCurrentNode();//TODO:apatternfromCurator.Bettererrorhandling? 

line_no || similarity 

262 || 0.7899159663865546 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-client/src/java/org/apache/hadoop/hive/llap/registry/impl/SlotZnode.java 

under_code:
return;
 

ーーーーーーーーSearch the target string287ーーーーーーーーーーーーーーー
 
search_string:
 //IOthreadpool.Listeningisusedforunhandlederrorsfornow(TODO:remove?)
 
predict_string:
 //IOthreadpool.Listeningisusedforunhandlederrorsfornow(TODO:remove?) 

line_no || similarity 

192 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/api/impl/LlapIoImpl.java 

under_code:
int numThreads = HiveConf.getIntVar(conf, HiveConf.ConfVars.LLAP_IO_THREADPOOL_SIZE);
 

ーーーーーーーーSearch the target string288ーーーーーーーーーーーーーーー
 
search_string:
 //Now,weneedtolookforanyvaluesthattheusersetthatMetastoreConfdoesn'tknowabout.TODOCommentingthisoutfornow,asitbreaksbecausetheconfvaluesaren'tgettingproperlyinterpolatedincaseofvariables.SeeHIVE-17788.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string289ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:includingthisinthesignaturewillalmostcertenlydiffereveniftheoperatorisdoingthesametheremightbeconflictingusagesoflogicalCompare?
 
sub_line:
 //theremightbeconflictingusagesoflogicalCompare? 

frontremoved_sub_line:
 eremightbeconflictingusagesoflogicalCompare? 

sub_line:
 @Signature 

frontremoved_sub_line:
 nature 

sub_line:
 publicStringgetStatsAggPrefix(){ 

frontremoved_sub_line:
 icStringgetStatsAggPrefix(){ 

predict_string:
 //FIXME:includingthisinthesignaturewillalmostcertenlydiffereveniftheoperatorisdoingthesame 

line_no || similarity 

421 || 0.7964601769911505 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/plan/FileSinkDesc.java 

under_code:
public String getStatsAggPrefix() {
 

ーーーーーーーーSearch the target string290ーーーーーーーーーーーーーーー
 
search_string:
 //MultiMRInputmaynot.FixonceTEZ-3302isresolved.
 
predict_string:
 //MultiMRInputmaynot.FixonceTEZ-3302isresolved. 

line_no || similarity 

509 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/MapRecordProcessor.java 

under_code:
processorContext.waitForAllInputsReady(li);
 

ーーーーーーーーSearch the target string291ーーーーーーーーーーーーーーー
 
search_string:
 //PreemptonlyiftherearenopendingpreemptionsonthesamehostWhenthepremptionregisters,therequestatthehighestprioritywillbegiventheslot,eveniftheinitialpreemptionwascausedbysomeothertask.TODOMayberegisterwhichtaskthepreemptionwasfor,toavoidabadnon-localallocation.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string292ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisiswrong;thistestsetsupdummytxnmanagerandsoitcannotcreateACIDtables.Thisusedtoworkbyaccident,nowthisworksdueatestflag.Thetestneedstobefixed.Alsoappliesforacouplemoretests.
 
sub_line:
 //Thisusedtoworkbyaccident,nowthisworksdueatestflag.Thetestneedstobefixed. 

frontremoved_sub_line:
 isusedtoworkbyaccident,nowthisworksdueatestflag.Thetestneedstobefixed. 

sub_line:
 //Alsoappliesforacouplemoretests. 

frontremoved_sub_line:
 soappliesforacouplemoretests. 

sub_line:
 .run("createtablet1(iint,jint)partitionedby(load_datedate)" 

frontremoved_sub_line:
 ("createtablet1(iint,jint)partitionedby(load_datedate)" 

predict_string:
 //TODO:thisiswrong;thistestsetsupdummytxnmanagerandsoitcannotcreateACIDtables. 

line_no || similarity 

455 || 0.6023166023166023 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenariosAcrossInstances.java 

under_code:
.run("create table t1 (i int, j int) partitioned by (load_date date) "
 

ーーーーーーーーSearch the target string293ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whyisthisneeded?wecouldjustsavethehostandport?
 
sub_line:
 Fileqf=newFile(outDir,fileName); 

frontremoved_sub_line:
 qf=newFile(outDir,fileName); 

predict_string:
 //TODO:whyisthisneeded? 

line_no || similarity 

1304 || 0.6052631578947368 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/util/src/main/java/org/apache/hadoop/hive/ql/QTestUtil.java 

under_code:
File qf = new File(outDir, fileName);
 

ーーーーーーーーSearch the target string294ーーーーーーーーーーーーーーー
 
search_string:
 //TODOThereneedstobeamechanismtofigureoutdifferentattemptsforthesametask.Delayscouldpotentiallybechangedbasedonthis.
 
sub_line:
 //couldpotentiallybechangedbasedonthis. 

frontremoved_sub_line:
 uldpotentiallybechangedbasedonthis. 

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 @VisibleForTesting 

frontremoved_sub_line:
 ibleForTesting 

predict_string:
 //TODOThereneedstobeamechanismtofigureoutdifferentattemptsforthesametask.Delays 

line_no || similarity 

2764 || 0.8102564102564103 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskSchedulerService.java 

under_code:
@VisibleForTesting
 

ーーーーーーーーSearch the target string295ーーーーーーーーーーーーーーー
 
search_string:
 //it'snotwrongtotakealldeleteeventsforbucketedtablesbutit'smoreefficienttoonlytakethosethatbelongtothe'bucket'assumingwetrustthefilenameun-bucketedtable-getallfiles
 
sub_line:
 //toonlytakethosethatbelongtothe'bucket'assumingwetrustthefilename 

frontremoved_sub_line:
 onlytakethosethatbelongtothe'bucket'assumingwetrustthefilename 

sub_line:
 //un-bucketedtable-getallfiles 

frontremoved_sub_line:
 -bucketedtable-getallfiles 

sub_line:
 FileSystemfs=deltaDirectory.getFileSystem(conf); 

frontremoved_sub_line:
 Systemfs=deltaDirectory.getFileSystem(conf); 

predict_string:
 //it'snotwrongtotakealldeleteeventsforbucketedtablesbutit'smoreefficient 

line_no || similarity 

1278 || 0.6101694915254238 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcRawRecordMerger.java 

under_code:
FileSystem fs = deltaDirectory.getFileSystem(conf);
 

ーーーーーーーーSearch the target string296ーーーーーーーーーーーーーーー
 
search_string:
 /**Determinean*initial*inputvectorexpression.**Note:wemayhavetoconvertitlaterfromDECIMAL_64toregulardecimal.*/
 
sub_line:
 * 

frontremoved_sub_line:
  

sub_line:
 *Note:wemayhavetoconvertitlaterfromDECIMAL_64toregulardecimal. 

frontremoved_sub_line:
 e:wemayhavetoconvertitlaterfromDECIMAL_64toregulardecimal. 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 inputExpression= 

frontremoved_sub_line:
 tExpression= 

predict_string:
 *Determinean*initial*inputvectorexpression. 

line_no || similarity 

4254 || 0.5620915032679739 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/Vectorizer.java 

under_code:
inputExpression =
 

ーーーーーーーーSearch the target string297ーーーーーーーーーーーーーーー
 
search_string:
 //Note-thisisalittlebitconfusing;thespecialtreatmentofstripe-levelbuffersisbecauseweruntheColumnStreamDatarefcountoneahead(asspecifiedabove).Itmaylooklikethiswouldreleasethebufferstoomanytimes(onereleasefromtheconsumer,onefromreleaseInitialRefcountsbelow,andonehere);however,thisismerelyhandlingaspecialcasewhereallthebatchesthataresharingthestripe-levelstreamhavebeenprocessedbeforewegothere;theyhavealldecRef-edtheCSD,buthavenotreleasedthebuffersbecauseofthatextrarefCount.So,thisisessentiallythe"consumer"refcountbeingreleasedhere.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string298ーーーーーーーーーーーーーーー
 
search_string:
 //thisdoesn'talwayswork,sincesomeJDBCdrivers(e.g.,Oracle's)returnablankstringfromgetTableName.
 
sub_line:
 //Oracle's)returnablankstringfromgetTableName. 

frontremoved_sub_line:
 acle's)returnablankstringfromgetTableName. 

sub_line:
 Stringtable=rsMeta.getTableName(col+1); 

frontremoved_sub_line:
 ngtable=rsMeta.getTableName(col+1); 

predict_string:
 //thisdoesn'talwayswork,sincesomeJDBCdrivers(e.g., 

line_no || similarity 

83 || 0.6944444444444444 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/beeline/src/java/org/apache/hive/beeline/Rows.java 

under_code:
String table = rsMeta.getTableName(col + 1);
 

ーーーーーーーーSearch the target string299ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Canthisbemovedoutofthemaincallbackpath
 
predict_string:
 //TODO:Canthisbemovedoutofthemaincallbackpath 

line_no || similarity 

442 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/daemon/impl/TaskRunnerCallable.java 

under_code:
RPC.stopProxy(umbilical);
 

ーーーーーーーーSearch the target string300ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:addmoreexpectedtestresulthere
 
predict_string:
 //TODO:addmoreexpectedtestresulthere 

line_no || similarity 

252 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/util/src/main/java/org/apache/hadoop/hive/ql/QOutProcessor.java 

under_code:
});
 

ーーーーーーーーSearch the target string301ーーーーーーーーーーーーーーー
 
search_string:
 //TODOMS-SPLIT-fornowwehaveconstructthisbyreflectionbecauseIMetaStoreClientcan'tbemoveduntilafterHiveMetaStoreismoved,whichcan'tbemoveduntilthisismoved.
 
sub_line:
 //can'tbe 

frontremoved_sub_line:
 n'tbe 

sub_line:
 //moveduntilafterHiveMetaStoreismoved,whichcan'tbemoveduntilthisismoved. 

frontremoved_sub_line:
 veduntilafterHiveMetaStoreismoved,whichcan'tbemoveduntilthisismoved. 

sub_line:
 Class<?extendsMetaException>exClass=JavaUtils.getClass( 

frontremoved_sub_line:
 s<?extendsMetaException>exClass=JavaUtils.getClass( 

predict_string:
 //TODOMS-SPLIT-fornowwehaveconstructthisbyreflectionbecauseIMetaStoreClient 

line_no || similarity 

52 || 0.6607929515418502 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/PartFilterExprUtil.java 

under_code:
Class<? extends MetaException> exClass = JavaUtils.getClass(
 

ーーーーーーーーSearch the target string302ーーーーーーーーーーーーーーー
 
search_string:
 //todo:needatestwhereweactuallyhavemorethan1file
 
predict_string:
 }//todo:needatestwhereweactuallyhavemorethan1file 

line_no || similarity 

1287 || 0.9896907216494846 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcRawRecordMerger.java 

under_code:
return deltaFiles;
 

ーーーーーーーーSearch the target string303ーーーーーーーーーーーーーーー
 
search_string:
 //Herecomestheuglypart...
 
predict_string:
 //Herecomestheuglypart... 

line_no || similarity 

659 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/MetaStoreDirectSql.java 

under_code:
long partitionId = extractSqlLong(fields[0]);
 

ーーーーーーーーSearch the target string304ーーーーーーーーーーーーーーー
 
search_string:
 //ToberemovedinHive0.16.
 
predict_string:
 //ToberemovedinHive0.16. 

line_no || similarity 

286 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public Builder bucketCols(List<String> bucketCols, int buckets) {
 

ーーーーーーーーSearch the target string305ーーーーーーーーーーーーーーー
 
search_string:
 //OPTIMIZATIONforlater.
 
predict_string:
 //OPTIMIZATIONforlater. 

line_no || similarity 

760 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoUtils.java 

under_code:
// if (oi instanceof TypeInfoBasedObjectInspector) {
 

ーーーーーーーーSearch the target string306ーーーーーーーーーーーーーーー
 
search_string:
 //Isthereawaytoprovidecharlengthhere?Itmightactuallybeokaslongasthereisanobjectinspector(withcharlength)receivingthisvalue.
 
sub_line:
 //Itmightactuallybeokaslongasthereisanobjectinspector(withcharlength) 

frontremoved_sub_line:
 mightactuallybeokaslongasthereisanobjectinspector(withcharlength) 

sub_line:
 //receivingthisvalue. 

frontremoved_sub_line:
 ceivingthisvalue. 

sub_line:
 result=newHiveVarchar(); 

frontremoved_sub_line:
 lt=newHiveVarchar(); 

predict_string:
 //Isthereawaytoprovidecharlengthhere? 

line_no || similarity 

1007 || 0.4625 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java 

under_code:
result = new HiveVarchar();
 

ーーーーーーーーSearch the target string307ーーーーーーーーーーーーーーー
 
search_string:
 //Thiscommandexistssolelytooutputthismessage.TODO:canwedoitw/oanerror?
 
predict_string:
 //Thiscommandexistssolelytooutputthismessage.TODO:canwedoitw/oanerror? 

line_no || similarity 

954 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 

under_code:
throw new SemanticException("Activate a resource plan to enable workload management");
 

ーーーーーーーーSearch the target string308ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:AddsupportforANDclausesunderORclausesfirst-cuttakesaknownminimaltreeandnoothers.$expr=(a=1)(a=1ora=2)(ain(1,2))($exprand*)
 
sub_line:
 //first-cuttakesaknownminimaltreeandnoothers. 

frontremoved_sub_line:
 rst-cuttakesaknownminimaltreeandnoothers. 

sub_line:
 //$expr=(a=1) 

frontremoved_sub_line:
 xpr=(a=1) 

sub_line:
 //(a=1ora=2) 

frontremoved_sub_line:
 =1ora=2) 

sub_line:
 //(ain(1,2)) 

frontremoved_sub_line:
 in(1,2)) 

sub_line:
 //($exprand*) 

frontremoved_sub_line:
 exprand*) 

sub_line:
 //(*and$expr) 

frontremoved_sub_line:
 and$expr) 

predict_string:
 //TODO:AddsupportforANDclausesunderORclauses 

line_no || similarity 

176 || 0.5086705202312138 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/FixedBucketPruningOptimizer.java 

under_code:
//         (* and $expr)
 

ーーーーーーーーSearch the target string309ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Setthisupasatree,insteadofaflatlist.
 
predict_string:
 //TODO:Setthisupasatree,insteadofaflatlist. 

line_no || similarity 

146 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/conf/UnitTestPropertiesParser.java 

under_code:
Map<String, ModuleConfig> moduleConfigs = extractModuleConfigs();
 

ーーーーーーーーSearch the target string310ーーーーーーーーーーーーーーー
 
search_string:
 /**OperatorfactoryforpredicatepushdownprocessingofoperatorgraphEach*operatordeterminesthepushdownpredicatesbywalkingtheexpressiontree.*Eachoperatormergesitsownpushdownpredicateswiththoseofitschildren*FinallytheTableScanoperatorgathersallthepredicatesandinsertsa*filteroperatorafteritself.TODO:Furtheroptimizations1)Multi-insert*case2)Createafilteroperatorforthosepredicatesthatcouldn'tbepushed*tothepreviousoperatorsinthedataflow3)Mergemultiplesequential*filterpredicatesintosothatplansaremorereadable4)Removepredicates*fromfilteroperatorsthathavebeenpushed.Currentlythesepushed*predicatesareevaluatedtwice.*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string311ーーーーーーーーーーーーーーー
 
search_string:
 //HIVE-12244callcurrentlyineffective
 
predict_string:
 //HIVE-12244callcurrentlyineffective 

line_no || similarity 

236 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/spark/SparkDynamicPartitionPruner.java 

under_code:
work.getPartitionDescs().remove(desc);
 

ーーーーーーーーSearch the target string312ーーーーーーーーーーーーーーー
 
search_string:
 //Note:nolocationcheck;thebufferisalwayslockedformovehere.
 
predict_string:
 //Note:nolocationcheck;thebufferisalwayslockedformovehere. 

line_no || similarity 

966 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/cache/BuddyAllocator.java 

under_code:
if (assertsEnabled) {
 

ーーーーーーーーSearch the target string313ーーーーーーーーーーーーーーー
 
search_string:
 //TODOMS-SPLITFornowifwecannotloadthedefaultPartitionExpressionForMetastoreclass(sinceit'sfromql)loadtheDefaultPartitionExpressionProxy,whichjustthrowsUnsupportedOperationExceptions.ThisallowsexistingHiveinstancestoworkbutalsoallowsustoinstantiatethemetastorestandalonefortesting.Notsureifthisisthebestlongtermsolution.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string314ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisisverybrittlegiventhatHivesupportsnesteddirectoriesinthetables.Thecallershouldpassaflagexplicitlytellingusifthedirectoriesintheinputaredata,orparentofdata.Fornow,retainthisforbackwardcompat.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string315ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:theseappeartoalwaysbecalledunderwritelock.Dotheyneedsync?
 
predict_string:
 //TODO:theseappeartoalwaysbecalledunderwritelock.Dotheyneedsync? 

line_no || similarity 

2832 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskSchedulerService.java 

under_code:
synchronized void setAssignmentInfo(NodeInfo nodeInfo, ContainerId containerId, long startTime) {
 

ーーーーーーーーSearch the target string316ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:wecouldperhapsreusethesamedirectoryforHiveResources?
 
predict_string:
 //TODO:wecouldperhapsreusethesamedirectoryforHiveResources? 

line_no || similarity 

178 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezTask.java 

under_code:
Path scratchDir = utils.createTezDir(ctx.getMRScratchDir(), conf);
 

ーーーーーーーーSearch the target string317ーーーーーーーーーーーーーーー
 
search_string:
 /**Ifthere'samismatchbetweenstaticandobjectname,oramismatchbetween*vectorandnon-vectoroperatorname,theoptimizerdoens'tworkcorrectly.*/
 
sub_line:
 *vectorandnon-vectoroperatorname,theoptimizerdoens'tworkcorrectly. 

frontremoved_sub_line:
 torandnon-vectoroperatorname,theoptimizerdoens'tworkcorrectly. 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 @Test 

frontremoved_sub_line:
 t 

sub_line:
 publicvoidtestOperatorNames()throwsException{ 

frontremoved_sub_line:
 icvoidtestOperatorNames()throwsException{ 

predict_string:
 *Ifthere'samismatchbetweenstaticandobjectname,oramismatchbetween 

line_no || similarity 

70 || 0.6464646464646465 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/exec/TestOperatorNames.java 

under_code:
public void testOperatorNames() throws Exception {
 

ーーーーーーーーSearch the target string318ーーーーーーーーーーーーーーー
 
search_string:
 //Notreallysurehowtorefertothis(orifwecan).TODO:Wecouldfindadifferentfrombranchfortheunion,thatmighthaveanalias?Orwecouldaddanaliasheretoreferto,butthatmightbreakotherbranches.
 
sub_line:
 //TODO:Wecouldfindadifferentfrombranchfortheunion,thatmighthaveanalias? 

frontremoved_sub_line:
 DO:Wecouldfindadifferentfrombranchfortheunion,thatmighthaveanalias? 

sub_line:
 //Orwecouldaddanaliasheretoreferto,butthatmightbreakotherbranches. 

frontremoved_sub_line:
 wecouldaddanaliasheretoreferto,butthatmightbreakotherbranches. 

sub_line:
 LOG.debug("ReplacingSETCOLREFwithALLCOLREFbecauseofthenestednode" 

frontremoved_sub_line:
 debug("ReplacingSETCOLREFwithALLCOLREFbecauseofthenestednode" 

predict_string:
 //Notreallysurehowtorefertothis(orifwecan). 

line_no || similarity 

482 || 0.3926940639269406 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseUtils.java 

under_code:
LOG.debug("Replacing SETCOLREF with ALLCOLREF because of the nested node "
 

ーーーーーーーーSearch the target string319ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:instantiatingFSobjectsaregenerallycostly.Refactor
 
predict_string:
 //TODO:instantiatingFSobjectsaregenerallycostly.Refactor 

line_no || similarity 

273 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/repl/ReplDumpTask.java 

under_code:
FileSystem fs = dbRoot.getFileSystem(conf);
 

ーーーーーーーーSearch the target string320ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whenPBisupgradedto2.6,newInstance(ByteBuffer)methodshouldbeusedhere.
 
predict_string:
 //TODO:whenPBisupgradedto2.6,newInstance(ByteBuffer)methodshouldbeusedhere. 

line_no || similarity 

1527 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcInputFormat.java 

under_code:
CodedInputStream cis = CodedInputStream.newInstance(
 

ーーーーーーーーSearch the target string321ーーーーーーーーーーーーーーー
 
search_string:
 /*Allthecodepathsbelowpropagatenullsevenifneitherarg2norarg3*havenulls.Thisistoreducethenumberofcodepathsandshortenthe*code,attheexpenseofmaybedoingunnecessaryworkifneitherinput*hasnulls.Thiscouldbeimprovedinthefuturebyexpandingthenumber*ofcodepaths.*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string322ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatPartition.#getPartitionKeyValMap()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatPartition.#getPartitionKeyValMap()}.ToberemovedinHive0.16. 

line_no || similarity 

81 || 0.9430051813471503 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatAddPartitionDesc.java 

under_code:
public Map<String, String> getPartitionSpec() {
 

ーーーーーーーーSearch the target string323ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:RemovethisonceCalciteFilterProjectTransposeRulecantakeruleoperand
 
predict_string:
 //TODO:RemovethisonceCalciteFilterProjectTransposeRulecantakeruleoperand 

line_no || similarity 

39 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/rules/HiveFilterProjectTSTransposeRule.java 

under_code:
public class HiveFilterProjectTSTransposeRule extends RelOptRule {
 

ーーーーーーーーSearch the target string324ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:wecouldfallbacktotryingonebyoneandonlyignorethefailedones.
 
predict_string:
 //TODO:wecouldfallbacktotryingonebyoneandonlyignorethefailedones. 

line_no || similarity 

231 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/daemon/impl/FunctionLocalizer.java 

under_code:
logRefreshError("Unable to localize jars: ", jars, t);
 

ーーーーーーーーSearch the target string325ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#getStorageHandler()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#getStorageHandler()}.ToberemovedinHive0.16. 

line_no || similarity 

157 || 0.9378531073446328 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public String getStorageHandler() {
 

ーーーーーーーーSearch the target string326ーーーーーーーーーーーーーーー
 
search_string:
 //FirsttrytemptableTODOCAT-Ithinktherightthinghereistoalwaysputtemptablesinthecurrentcatalog.Butwedon'tyethaveanotionofcurrentcatalog,sowe'llhavetoholdonuntilwedo.
 
sub_line:
 //TODOCAT-Ithinktherightthinghereistoalwaysputtemptablesinthecurrent 

frontremoved_sub_line:
 DOCAT-Ithinktherightthinghereistoalwaysputtemptablesinthecurrent 

sub_line:
 //catalog.Butwedon'tyethaveanotionofcurrentcatalog,sowe'llhavetoholdon 

frontremoved_sub_line:
 talog.Butwedon'tyethaveanotionofcurrentcatalog,sowe'llhavetoholdon 

sub_line:
 //untilwedo. 

frontremoved_sub_line:
 tilwedo. 

sub_line:
 org.apache.hadoop.hive.metastore.api.Tabletable=getTempTable(dbname,name); 

frontremoved_sub_line:
 apache.hadoop.hive.metastore.api.Tabletable=getTempTable(dbname,name); 

predict_string:
 //Firsttrytemptable 

line_no || similarity 

128 || 0.2087912087912088 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/metadata/SessionHiveMetaStoreClient.java 

under_code:
org.apache.hadoop.hive.metastore.api.Table table = getTempTable(dbname, name);
 

ーーーーーーーーSearch the target string327ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:setotherTablepropertiesasneeded
 
predict_string:
 //TODO:setotherTablepropertiesasneeded 

line_no || similarity 

193 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/core/src/main/java/org/apache/hive/hcatalog/cli/SemanticAnalysis/CreateTableHook.java 

under_code:
//authorize against the table operation so that location permissions can be checked if any
 

ーーーーーーーーSearch the target string328ーーーーーーーーーーーーーーー
 
search_string:
 //Don'tpassinthepoolset-notthreadsafe;iftheuseristryingtoforceustouseanon-existentpool,wewanttofailanyway.Wewillfaillaterduringget.
 
sub_line:
 //useanon-existentpool,wewanttofailanyway.Wewillfaillaterduringget. 

frontremoved_sub_line:
 eanon-existentpool,wewanttofailanyway.Wewillfaillaterduringget. 

sub_line:
 StringmappedPool=mapping.mapSessionToPoolName(input,allowAnyPool,null); 

frontremoved_sub_line:
 ngmappedPool=mapping.mapSessionToPoolName(input,allowAnyPool,null); 

predict_string:
 //Don'tpassinthepoolset-notthreadsafe;iftheuseristryingtoforceusto 

line_no || similarity 

2123 || 0.6700507614213198 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/WorkloadManager.java 

under_code:
String mappedPool = mapping.mapSessionToPoolName(input, allowAnyPool, null);
 

ーーーーーーーーSearch the target string329ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:SinceOperationLogismovedtopackageo.a.h.h.ql.session,wemayaddaEnumthereandmapFetchOrientationtoit.
 
sub_line:
 //wemayaddaEnumthereandmapFetchOrientationtoit. 

frontremoved_sub_line:
 mayaddaEnumthereandmapFetchOrientationtoit. 

sub_line:
 if(fetchOrientation.equals(FetchOrientation.FETCH_FIRST)){ 

frontremoved_sub_line:
 etchOrientation.equals(FetchOrientation.FETCH_FIRST)){ 

predict_string:
 //TODO:SinceOperationLogismovedtopackageo.a.h.h.ql.session, 

line_no || similarity 

345 || 0.7239263803680982 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/service/src/java/org/apache/hive/service/cli/operation/OperationManager.java 

under_code:
if (fetchOrientation.equals(FetchOrientation.FETCH_FIRST)) {
 

ーーーーーーーーSearch the target string330ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ideallythisonlyneedstobecallediftheresulttypewillalsochange.However,sincethatrequiressupportfromtypeinferencerulestotellwhetheraruledecidesreturntypebasedoninputtypes,fornowalloperatorswillberecreatedwithnewtypeifanyoperandchanged,unlesstheoperatorhas"built-in"type.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string331ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ideallyweshouldstoreshortenedrepresentationofonlythenecessaryfieldsinHBase;itwillprobablyrequirecustomSARGapplicationcode.
 
sub_line:
 //inHBase;itwillprobablyrequirecustomSARGapplicationcode. 

frontremoved_sub_line:
 HBase;itwillprobablyrequirecustomSARGapplicationcode. 

sub_line:
 OrcTailorcTail=ReaderImpl.extractFileTail(fileMetadata); 

frontremoved_sub_line:
 ailorcTail=ReaderImpl.extractFileTail(fileMetadata); 

predict_string:
 //TODO:ideallyweshouldstoreshortenedrepresentationofonlythenecessaryfields 

line_no || similarity 

44 || 0.729064039408867 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcFileFormatProxy.java 

under_code:
OrcTail orcTail = ReaderImpl.extractFileTail(fileMetadata);
 

ーーーーーーーーSearch the target string332ーーーーーーーーーーーーーーー
 
search_string:
 //Thisisamassivehack.Thecompactorthreadshavetoaccesspackagesinql(suchasAcidInputFormat).qldependsonmetastoresowecan'tdirectlyaccessthose.Todealwiththisthecompactorthreadclasseshavebeenputinqlandtheyareinstantiatedheredyanmically.ThisisnotidealbutitavoidsamassiverefactoringofHivepackages.WrapthestartofthethreadsinacatchThrowableloopsothatanyfailuresdon'tdoomtherestofthemetastore.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string333ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:therewere2afterclassmethods...iguessthisistherightorder...maybenot
 
predict_string:
 //FIXME:therewere2afterclassmethods...iguessthisistherightorder...maybenot 

line_no || similarity 

95 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/util/src/main/java/org/apache/hadoop/hive/cli/control/CoreHBaseCliDriver.java 

under_code:
qt.shutdown();
 

ーーーーーーーーSearch the target string334ーーーーーーーーーーーーーーー
 
search_string:
 //TODOHIVE-13483Getallofthesepropertiesfromtheregistry.Thiswillneedtotakecareofdifferentinstancespublishingpotentiallydifferentvalueswhenwesupportchangingconfigurationsdynamically.
 
sub_line:
 //publishingpotentiallydifferentvalueswhenwesupportchangingconfigurationsdynamically. 

frontremoved_sub_line:
 blishingpotentiallydifferentvalueswhenwesupportchangingconfigurationsdynamically. 

sub_line:
 //Fornow,thiscansimplybefetchedfromasingleregistryinstance. 

frontremoved_sub_line:
 rnow,thiscansimplybefetchedfromasingleregistryinstance. 

predict_string:
 //TODOHIVE-13483Getallofthesepropertiesfromtheregistry.Thiswillneedtotakecareofdifferentinstances 

line_no || similarity 

329 || 0.7003610108303249 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskSchedulerService.java 

under_code:
// For now, this can simply be fetched from a single registry instance.
 

ーーーーーーーーSearch the target string335ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:replacewithwithTimeoutafterwegettherelevantguavaupgrade.
 
predict_string:
 //TODO:replacewithwithTimeoutafterwegettherelevantguavaupgrade. 

line_no || similarity 

99 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/WmTezSession.java 

under_code:
this.timeoutTimer = timeoutPool.schedule(
 

ーーーーーーーーSearch the target string336ーーーーーーーーーーーーーーー
 
search_string:
 /**TODO:needtoturnonrulesthat'scommentedoutandaddmoreifnecessary.*/
 
sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 @Override 

frontremoved_sub_line:
 rride 

predict_string:
 *TODO:needtoturnonrulesthat'scommentedoutandaddmoreifnecessary. 

line_no || similarity 

340 || 0.9692307692307692 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/spark/SparkCompiler.java 

under_code:
@Override
 

ーーーーーーーーSearch the target string337ーーーーーーーーーーーーーーー
 
search_string:
 /*todo:handlerenamingfilessomewhere*/
 
predict_string:
 /*todo:handlerenamingfilessomewhere*/ 

line_no || similarity 

253 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/upgrade-acid/src/main/java/org/apache/hadoop/hive/upgrade/acid/UpgradeTool.java 

under_code:
}
 

ーーーーーーーーSearch the target string338ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#getBucketCols()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#getBucketCols()}.ToberemovedinHive0.16. 

line_no || similarity 

132 || 0.9349112426035503 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public List<String> getBucketCols() {
 

ーーーーーーーーSearch the target string339ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisdoesn'tincludesuperclass.
 
predict_string:
 //TODO:thisdoesn'tincludesuperclass. 

line_no || similarity 

209 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/VerifyingObjectStore.java 

under_code:
Field[] fields = c.getDeclaredFields();
 

ーーーーーーーーSearch the target string340ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:movethistoColStatrelatedpart
 
predict_string:
 //FIXME:movethistoColStatrelatedpart 

line_no || similarity 

140 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/stats/BasicStatsTask.java 

under_code:
if (!work.isExplicitAnalyze() && !followedColStats1) {
 

ーーーーーーーーSearch the target string341ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Notsurethatthisisthecorrectbehavior.Itdoesn'tmakesensetocreatethepartitionwithoutcolumninfo.Thisshouldbeinvestigatedlater.
 
sub_line:
 //partitionwithoutcolumninfo.Thisshouldbeinvestigatedlater. 

frontremoved_sub_line:
 rtitionwithoutcolumninfo.Thisshouldbeinvestigatedlater. 

sub_line:
 Partitionpart= 

frontremoved_sub_line:
 itionpart= 

predict_string:
 //TODO:Notsurethatthisisthecorrectbehavior.Itdoesn'tmakesensetocreatethe 

line_no || similarity 

330 || 0.7164179104477612 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/client/TestAddPartitions.java 

under_code:
Partition part =
 

ーーーーーーーーSearch the target string342ーーーーーーーーーーーーーーー
 
search_string:
 //Note:preservePartitionSpecs=trueimpliesinheritTableSpecs=falsebutbutpreservePartitionSpecs=false(default)hereisnotsufficientenoughinfotosetinheritTableSpecs=true
 
sub_line:
 //butpreservePartitionSpecs=false(default)hereisnotsufficientenough 

frontremoved_sub_line:
 tpreservePartitionSpecs=false(default)hereisnotsufficientenough 

sub_line:
 //infotosetinheritTableSpecs=true 

frontremoved_sub_line:
 fotosetinheritTableSpecs=true 

sub_line:
 loadTableWork.setInheritTableSpecs(false); 

frontremoved_sub_line:
 TableWork.setInheritTableSpecs(false); 

predict_string:
 //Note:preservePartitionSpecs=trueimpliesinheritTableSpecs=falsebut 

line_no || similarity 

406 || 0.5826086956521739 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/LoadSemanticAnalyzer.java 

under_code:
loadTableWork.setInheritTableSpecs(false);
 

ーーーーーーーーSearch the target string343ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:thisshouldbechangetovalueOf...thatwillalsokillthatfallback'none'whichisIthinkmorelikeaproblemthanafeature;)
 
sub_line:
 //thatwillalsokillthatfallback'none'whichisIthinkmorelikeaproblemthana 

frontremoved_sub_line:
 atwillalsokillthatfallback'none'whichisIthinkmorelikeaproblemthana 

sub_line:
 //feature;) 

frontremoved_sub_line:
 ature;) 

sub_line:
 clusterType=MiniClusterType.valueForString(modeStr); 

frontremoved_sub_line:
 terType=MiniClusterType.valueForString(modeStr); 

predict_string:
 //FIXME:thisshouldbechangetovalueOf... 

line_no || similarity 

346 || 0.49673202614379086 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/util/src/main/java/org/apache/hadoop/hive/cli/control/AbstractCliConfig.java 

under_code:
clusterType = MiniClusterType.valueForString(modeStr);
 

ーーーーーーーーSearch the target string344ーーーーーーーーーーーーーーー
 
search_string:
 //TODOSetupasetofthreadstoprocessincomingrequests.Makesurerequestsforasingledag/queryarehandledbythesamethread
 
sub_line:
 //Makesurerequestsforasingledag/queryarehandledbythesamethread 

frontremoved_sub_line:
 kesurerequestsforasingledag/queryarehandledbythesamethread 

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 privatestaticfinalLoggerLOG=LoggerFactory.getLogger(ContainerRunnerImpl.class); 

frontremoved_sub_line:
 atestaticfinalLoggerLOG=LoggerFactory.getLogger(ContainerRunnerImpl.class); 

predict_string:
 //TODOSetupasetofthreadstoprocessincomingrequests. 

line_no || similarity 

98 || 0.625 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/daemon/impl/ContainerRunnerImpl.java 

under_code:
private static final Logger LOG = LoggerFactory.getLogger(ContainerRunnerImpl.class);
 

ーーーーーーーーSearch the target string345ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:addalterdatabasesupportinHCat
 
predict_string:
 //TODO:addalterdatabasesupportinHCat 

line_no || similarity 

322 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/core/src/main/java/org/apache/hive/hcatalog/cli/SemanticAnalysis/HCatSemanticAnalyzer.java 

under_code:
// Table operations.
 

ーーーーーーーーSearch the target string346ーーーーーーーーーーーーーーー
 
search_string:
 //TODOaddtestsforpartitionsinothercatalogs
 
predict_string:
 //TODOaddtestsforpartitionsinothercatalogs 

line_no || similarity 

171 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/client/TestAddPartitionsFromPartSpec.java 

under_code:
@Test(expected = NullPointerException.class)
 

ーーーーーーーーSearch the target string347ーーーーーーーーーーーーーーー
 
search_string:
 //TODOIsuspectwecouldskipmuchofthestuffabovethisinthefunctioninthecaseofupdateanddelete.ButIdon'tunderstandallofthesideeffectsoftheabovecodeanddon'twanttoskipoverityet.
 
sub_line:
 //ofupdateanddelete.ButIdon'tunderstandallofthesideeffectsoftheabove 

frontremoved_sub_line:
 updateanddelete.ButIdon'tunderstandallofthesideeffectsoftheabove 

sub_line:
 //codeanddon'twanttoskipoverityet. 

frontremoved_sub_line:
 deanddon'twanttoskipoverityet. 

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 //Findthebucketid,andswitchbucketsifneedto 

frontremoved_sub_line:
 ndthebucketid,andswitchbucketsifneedto 

predict_string:
 //TODOIsuspectwecouldskipmuchofthestuffabovethisinthefunctioninthecase 

line_no || similarity 

991 || 0.5882352941176471 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java 

under_code:
// Find the bucket id, and switch buckets if need to
 

ーーーーーーーーSearch the target string348ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:expireAfterAccesslockscachesegmentsonputandexpiredget.Itdoesn'tlooktoobad,butifwefindsomeperfissuesitmightbeagoodideatoremovethis-weareprobablynotcachingthatmanyconstructors.NotethatweakKeyscauses"=="tobeusedforkeycompare;thiswillonlyworkforclassesinthesameclassloader.Shouldbeokinthiscase.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string349ーーーーーーーーーーーーーーー
 
search_string:
 //TODOWhyisthequeuenamesetagain.IthasalreadybeensetupviasetQueueName.Doonlyoneofthetwo.
 
predict_string:
 //TODOWhyisthequeuenamesetagain.IthasalreadybeensetupviasetQueueName.Doonlyoneofthetwo. 

line_no || similarity 

262 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java 

under_code:
String confQueueName = conf.get(TezConfiguration.TEZ_QUEUE_NAME);
 

ーーーーーーーーSearch the target string350ーーーーーーーーーーーーーーー
 
search_string:
 //TODOCreateandinitsessionsetsupqueue,isDefault-butdoesnotinitializetheconfiguration
 
predict_string:
 //TODOCreateandinitsessionsetsupqueue,isDefault-butdoesnotinitializetheconfiguration 

line_no || similarity 

211 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionPoolManager.java 

under_code:
private TezSessionPoolSession createAndInitSession(
 

ーーーーーーーーSearch the target string351ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#sortCols(Map<String,String>)}.ToberemovedinHive0.16.
 
under_code:
None
 

ーーーーーーーーSearch the target string352ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:HandleQueryHints;currentlyweignorethem
 
predict_string:
 //TODO:HandleQueryHints;currentlyweignorethem 

line_no || similarity 

4351 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/CalcitePlanner.java 

under_code:
boolean selectStar = false;
 

ーーーーーーーーSearch the target string353ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:CurrentlyweonlysupportEQUALoperatorontworeferences.Wemightextendthelogictosupportother(order-preserving)UDFshere.
 
sub_line:
 //Wemightextendthelogictosupportother(order-preserving) 

frontremoved_sub_line:
 mightextendthelogictosupportother(order-preserving) 

sub_line:
 //UDFshere. 

frontremoved_sub_line:
 Fshere. 

sub_line:
 RexCallequals=(RexCall)conj; 

frontremoved_sub_line:
 allequals=(RexCall)conj; 

predict_string:
 //TODO:CurrentlyweonlysupportEQUALoperatorontworeferences. 

line_no || similarity 

146 || 0.651685393258427 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/rules/HiveRelColumnsAlignment.java 

under_code:
RexCall equals = (RexCall) conj;
 

ーーーーーーーーSearch the target string354ーーーーーーーーーーーーーーー
 
search_string:
 //istherightwasattheleftsideofarightouterjoin?
 
predict_string:
 //istherightwasattheleftsideofarightouterjoin? 

line_no || similarity 

549 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java 

under_code:
if (!leftPosListOfLastRightOuterJoin.contains(condn.getRight())) {
 

ーーーーーーーーSearch the target string355ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whydoesthisonlykillnon-defaultsessions?Nothingforworkloadmanagementsincethatonlydealswithdefaultones.
 
sub_line:
 //Nothingforworkloadmanagementsincethatonlydealswithdefaultones. 

frontremoved_sub_line:
 thingforworkloadmanagementsincethatonlydealswithdefaultones. 

sub_line:
 TezSessionPoolManager.getInstance().closeNonDefaultSessions(); 

frontremoved_sub_line:
 essionPoolManager.getInstance().closeNonDefaultSessions(); 

predict_string:
 //TODO:whydoesthisonlykillnon-defaultsessions? 

line_no || similarity 

94 || 0.5974025974025974 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/monitoring/TezJobMonitor.java 

under_code:
TezSessionPoolManager.getInstance().closeNonDefaultSessions();
 

ーーーーーーーーSearch the target string356ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:shouldthisusegetPartitionDescFromPathRecursively?That'swhatothercodeuses.
 
predict_string:
 //TODO:shouldthisusegetPartitionDescFromPathRecursively?That'swhatothercodeuses. 

line_no || similarity 

1646 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/Vectorizer.java 

under_code:
PartitionDesc partDesc = pathToPartitionInfo.get(path);
 

ーーーーーーーーSearch the target string357ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Fixthis
 
predict_string:
 //TODO:Fixthis 

line_no || similarity 

1034 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 

under_code:
List<String> materializedViews = getTables(dbName, ".*", TableType.MATERIALIZED_VIEW);
 

ーーーーーーーーSearch the target string358ーーーーーーーーーーーーーーー
 
search_string:
 //###FIXME:doingthemulti-linehandlingdownheremeanshigher-levellogicneverseestheextralines.So,forexample,ifascriptisbeingsaved,itwon'tincludethecontinuationlines!Thisisloggedassf.netbug879518.
 
sub_line:
 //higher-levellogicneverseestheextralines.So, 

frontremoved_sub_line:
 gher-levellogicneverseestheextralines.So, 

sub_line:
 //forexample,ifascriptisbeingsaved,itwon'tinclude 

frontremoved_sub_line:
 rexample,ifascriptisbeingsaved,itwon'tinclude 

sub_line:
 //thecontinuationlines!Thisisloggedassf.net 

frontremoved_sub_line:
 econtinuationlines!Thisisloggedassf.net 

sub_line:
 //bug879518. 

frontremoved_sub_line:
 g879518. 

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 //usemultiplelinesforstatementsnotterminatedbythedelimiter 

frontremoved_sub_line:
 emultiplelinesforstatementsnotterminatedbythedelimiter 

predict_string:
 //###FIXME:doingthemulti-linehandlingdownheremeans 

line_no || similarity 

1183 || 0.4149377593360996 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/beeline/src/java/org/apache/hive/beeline/Commands.java 

under_code:
// use multiple lines for statements not terminated by the delimiter
 

ーーーーーーーーSearch the target string359ーーーーーーーーーーーーーーー
 
search_string:
 //REVIEWjhyde29-Oct-2007:Thisruleisnon-static,dependsonthestateofmembersinRelDecorrelator,andhasside-effectsinthedecorrelator.Thisbreaksthecontractofaplannerrule,andtherulewillnotbereusableinotherplanners.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string360ーーーーーーーーーーーーーーー
 
search_string:
 //WecanloopthruallthetablestocheckiftheyareACIDfirstandthenperformcleanup,butit'smoreefficienttounconditionallyperformcleanupforthedatabase,especiallywhentherearealotoftables
 
sub_line:
 //butit'smoreefficienttounconditionallyperformcleanupforthedatabase,especially 

frontremoved_sub_line:
 tit'smoreefficienttounconditionallyperformcleanupforthedatabase,especially 

sub_line:
 //whentherearealotoftables 

frontremoved_sub_line:
 entherearealotoftables 

sub_line:
 txnHandler=getTxnHandler(); 

frontremoved_sub_line:
 andler=getTxnHandler(); 

predict_string:
 //WecanloopthruallthetablestocheckiftheyareACIDfirstandthenperformcleanup, 

line_no || similarity 

54 || 0.5967741935483871 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/AcidEventListener.java 

under_code:
txnHandler = getTxnHandler();
 

ーーーーーーーーSearch the target string361ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Implementthis
 
predict_string:
 //TODO:Implementthis 

line_no || similarity 

1281 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/HiveGBOpConvUtil.java 

under_code:
private static ExprNodeDesc propConstDistUDAFParams() {
 

ーーーーーーーーSearch the target string362ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:allowusingunsafeoptionally.boundscheckfirst,totriggerbugswhetherthefirstbytematchesornot
 
sub_line:
 //boundscheckfirst,totriggerbugswhetherthefirstbytematchesornot 

frontremoved_sub_line:
 undscheckfirst,totriggerbugswhetherthefirstbytematchesornot 

sub_line:
 if(left[leftOffset+length-1]!=rightBuffer[rightFrom+length-1]){ 

frontremoved_sub_line:
 eft[leftOffset+length-1]!=rightBuffer[rightFrom+length-1]){ 

predict_string:
 //TODO:allowusingunsafeoptionally. 

line_no || similarity 

305 || 0.5271317829457365 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/serde/src/java/org/apache/hadoop/hive/serde2/WriteBuffers.java 

under_code:
if (left[leftOffset + length - 1] != rightBuffer[rightFrom + length - 1]) {
 

ーーーーーーーーSearch the target string363ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisdoesn'tappeartobeusedanywhere.
 
predict_string:
 //TODO:thisdoesn'tappeartobeusedanywhere. 

line_no || similarity 

36 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/service/src/java/org/apache/hive/service/cli/EmbeddedCLIServiceClient.java 

under_code:
public EmbeddedCLIServiceClient(ICLIService cliService, Configuration conf) {
 

ーーーーーーーーSearch the target string364ーーーーーーーーーーーーーーー
 
search_string:
 //forautoconvertmap-joins,itnotsafetodedupinhere(todo)
 
predict_string:
 //forautoconvertmap-joins,itnotsafetodedupinhere(todo) 

line_no || similarity 

75 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/correlation/ReduceSinkDeDuplication.java 

under_code:
boolean mergeJoins = !pctx.getConf().getBoolVar(HIVECONVERTJOIN) &&
 

ーーーーーーーーSearch the target string365ーーーーーーーーーーーーーーー
 
search_string:
 //We'rescanningatreefromrootstoleaf(thisisnottechnicallycorrect,demuxandmuxoperatorsmightformadiamondshape,butwewillonlyscanonepathandignoretheothers,becausethediamondshapeisalwayscontainedinasinglevertex).Thescanisdepthfirstandbecauseweremoveparentswhenwepackapipelineintoavertexwewillnevervisitanynodetwice.Butbecauseofthatwemighthaveasituationwhereweneedtoconnect'work'thatcomesafterthe'work'we'recurrentlylookingat.Alsonote:theconceptofleafandrootisreversedinhiveforhistorical
 
under_code:
too long.
 

ーーーーーーーーSearch the target string366ーーーーーーーーーーーーーーー
 
search_string:
 //Thefollowingparametersarenotsupportedyet.TODOAddsupport
 
predict_string:
 //Thefollowingparametersarenotsupportedyet.TODOAddsupport 

line_no || similarity 

61 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/conf/TestConfiguration.java 

under_code:
private static final String APPLY_PATCH_SCRIPT_PATH = "applyPatchScriptPath";
 

ーーーーーーーーSearch the target string367ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisshouldbeunique
 
under_code:
None
 

ーーーーーーーーSearch the target string368ーーーーーーーーーーーーーーー
 
search_string:
 //todo:Concurrentinsert/updateofsamepartition-shouldpass
 
predict_string:
 //todo:Concurrentinsert/updateofsamepartition-shouldpass 

line_no || similarity 

1641 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/lockmgr/TestDbTxnManager2.java 

under_code:
private List<ShowLocksResponseElement> getLocksWithFilterOptions(HiveTxnManager txnMgr,
 

ーーーーーーーーSearch the target string369ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#fieldsTerminatedBy()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#fieldsTerminatedBy()}.ToberemovedinHive0.16. 

line_no || similarity 

379 || 0.9385474860335196 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public Builder fieldsTerminatedBy(char delimiter) {
 

ーーーーーーーーSearch the target string370ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisisinvalidforACIDtables,andwecannotaccessAcidUtilshere.
 
predict_string:
 //TODO:thisisinvalidforACIDtables,andwecannotaccessAcidUtilshere. 

line_no || similarity 

804 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/utils/MetaStoreUtils.java 

under_code:
populateQuickStats(fileStatus, params);
 

ーーーーーーーーSearch the target string371ーーーーーーーーーーーーーーー
 
search_string:
 /**Aftereachmajorcompaction,statsneedtobeupdatedoneachcolumnofthe*table/partitionwhichpreviouslyhadstats.*1.createabucketedORCbackedtable(OrciscurrentlyrequiredbyACID)*2.populate2partitionswithdata*3.computestats*4.insertsomedataintothetableusingStreamingAPI*5.Triggermajorcompaction(whichshouldupdatestats)*6.checkthatstatshavebeenupdated**@throwsExceptiontodo:*2.addnon-partitionedtest*4.addatestwithsortedtable?*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string372ーーーーーーーーーーーーーーー
 
search_string:
 /**inHive1.3.0deltafilenameschangedtodelta_xxxx_yyyy_zzzz;priortothat*thenamewasdelta_xxxx_yyyy.Wewanttoruncompactiontestssuchthatbothformats*areusedsincenew(1.3)codehastobeabletoreadoldfiles.*/
 
sub_line:
 *thenamewasdelta_xxxx_yyyy.Wewanttoruncompactiontestssuchthatbothformats 

frontremoved_sub_line:
 namewasdelta_xxxx_yyyy.Wewanttoruncompactiontestssuchthatbothformats 

sub_line:
 *areusedsincenew(1.3)codehastobeabletoreadoldfiles. 

frontremoved_sub_line:
 usedsincenew(1.3)codehastobeabletoreadoldfiles. 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 abstractbooleanuseHive130DeltaDirName(); 

frontremoved_sub_line:
 ractbooleanuseHive130DeltaDirName(); 

predict_string:
 *inHive1.3.0deltafilenameschangedtodelta_xxxx_yyyy_zzzz;priortothat 

line_no || similarity 

572 || 0.5134099616858238 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/txn/compactor/CompactorTest.java 

under_code:
abstract boolean useHive130DeltaDirName();
 

ーーーーーーーーSearch the target string373ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:shouldcallHiveHFileOutputFormat#setOutputPath
 
predict_string:
 //TODO:shouldcallHiveHFileOutputFormat#setOutputPath 

line_no || similarity 

276 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java 

under_code:
jobProperties.put("mapred.output.dir", path);
 

ーーーーーーーーSearch the target string374ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:wecouldtrytogetsuperclassorgenericinterfaces.
 
predict_string:
 //TODO:wecouldtrytogetsuperclassorgenericinterfaces. 

line_no || similarity 

261 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/storage-api/src/java/org/apache/hadoop/hive/ql/util/IncrementalObjectSizeEstimator.java 

under_code:
LOG.trace("Non-parametrized map type: {}", field);
 

ーーーーーーーーSearch the target string375ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisactuallycallsthemetricssystemandgetMetrics-thatmaybeexpensive.FornowitlookslikeitshouldbeoktodoonWMthread.
 
sub_line:
 //FornowitlookslikeitshouldbeoktodoonWMthread. 

frontremoved_sub_line:
 rnowitlookslikeitshouldbeoktodoonWMthread. 

sub_line:
 this.metrics=ms==null?null:WmPoolMetrics.create(fullName,ms); 

frontremoved_sub_line:
 .metrics=ms==null?null:WmPoolMetrics.create(fullName,ms); 

predict_string:
 //TODO:thisactuallycallsthemetricssystemandgetMetrics-thatmaybeexpensive. 

line_no || similarity 

1741 || 0.7684210526315789 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/WorkloadManager.java 

under_code:
this.metrics = ms == null ? null : WmPoolMetrics.create(fullName, ms);
 

ーーーーーーーーSearch the target string376ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:getridofthebuilders-theyservenopurpose...justcallctorsdirectly.
 
predict_string:
 //TODO:getridofthebuilders-theyservenopurpose...justcallctorsdirectly. 

line_no || similarity 

2329 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/encoded/EncodedTreeReaderFactory.java 

under_code:
switch (schema.getCategory()) {
 

ーーーーーーーーSearch the target string377ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:VerifyGBhavingisnotaseparatefilter(ifsoweshouldn'tintroducederivedtable)
 
sub_line:
 //introducederivedtable) 

frontremoved_sub_line:
 troducederivedtable) 

sub_line:
 if(parentinstanceofFilter||parentinstanceofJoin||parentinstanceofSetOp|| 

frontremoved_sub_line:
 arentinstanceofFilter||parentinstanceofJoin||parentinstanceofSetOp|| 

predict_string:
 //TODO:VerifyGBhavingisnotaseparatefilter(ifsoweshouldn't 

line_no || similarity 

295 || 0.8382352941176471 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/PlanModifierForASTConv.java 

under_code:
if (parent instanceof Filter || parent instanceof Join || parent instanceof SetOp ||
 

ーーーーーーーーSearch the target string378ーーーーーーーーーーーーーーー
 
search_string:
 /*Q:whydon'twelockthesnapshothere???InsteadofhavingclientmakeanexplicitcallwheneveritchoosesA:Ifwewanttorelyonlocksfortransactionschedulingwemustgetthesnapshotafterlockacquisition.Relyingonlocksisapessimisticstrategywhichworksbetterunderhighcontention.*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string379ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:temporary,needtoexposefromORCutils(notethedifferenceinnullchecks)
 
predict_string:
 //TODO:temporary,needtoexposefromORCutils(notethedifferenceinnullchecks) 

line_no || similarity 

2036 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/encoded/EncodedReaderImpl.java 

under_code:
static DiskRangeList planIndexReading(TypeDescription fileSchema,
 

ーーーーーーーーSearch the target string380ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:maybeusestackofest+objpairsinsteadofrecursion.
 
predict_string:
 //TODO:maybeusestackofest+objpairsinsteadofrecursion. 

line_no || similarity 

391 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/storage-api/src/java/org/apache/hadoop/hive/ql/util/IncrementalObjectSizeEstimator.java 

under_code:
if (fields == null) {
 

ーーーーーーーーSearch the target string381ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:shortcutforlastcolbelowlength?
 
predict_string:
 if(!included[i])continue;//TODO:shortcutforlastcolbelowlength? 

line_no || similarity 

148 || 0.7474747474747475 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/BatchToRowReader.java 

under_code:
try {
 

ーーーーーーーーSearch the target string382ーーーーーーーーーーーーーーー
 
search_string:
 //TEMPORARY:Inordertoavoidanewversionofstorage-api,dotheconversionhere...
 
predict_string:
 //TEMPORARY:Inordertoavoidanewversionofstorage-api,dotheconversionhere... 

line_no || similarity 

45 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/expressions/CastFloatToDecimal.java 

under_code:
byte[] floatBytes = Float.toString((float) inV.vector[i]).getBytes();
 

ーーーーーーーーSearch the target string383ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:theseconstraintsshouldbesupportedforpartitioncolumns
 
predict_string:
 //TODO:theseconstraintsshouldbesupportedforpartitioncolumns 

line_no || similarity 

13072 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 

under_code:
throw new SemanticException(
 

ーーーーーーーーSearch the target string384ーーーーーーーーーーーーーーー
 
search_string:
 //Wehaveanestedsetcolref.ProcessthatandstartfromscratchTODO:usestack?
 
predict_string:
 //Wehaveanestedsetcolref.ProcessthatandstartfromscratchTODO:usestack? 

line_no || similarity 

448 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseUtils.java 

under_code:
processSetColsNode((ASTNode)child, searcher);
 

ーーーーーーーーSearch the target string385ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:isthiscorrect?basedonthesamelogicasHIVE-14200
 
predict_string:
 //TODO:isthiscorrect?basedonthesamelogicasHIVE-14200 

line_no || similarity 

196 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/LlapDecider.java 

under_code:
reduceWork.getEdgePropRef().setAutoReduce(null, false, 0, 0, 0);
 

ーーーーーーーーSearch the target string386ーーーーーーーーーーーーーーー
 
search_string:
 //TODOrefactorthefollowingintothepipeline
 
predict_string:
 //TODOrefactorthefollowingintothepipeline 

line_no || similarity 

791 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/shufflehandler/ShuffleHandler.java 

under_code:
ChannelFuture lastMap = null;
 

ーーーーーーーーSearch the target string387ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:changetoFileInputFormat....fieldafterMAPREDUCE-7086.
 
predict_string:
 //TODO:changetoFileInputFormat....fieldafterMAPREDUCE-7086. 

line_no || similarity 

553 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/HiveInputFormat.java 

under_code:
nonRecConf.setBoolean("mapreduce.input.fileinputformat.input.dir.nonrecursive.ignore.subdirs", true);
 

ーーーーーーーーSearch the target string388ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ifweeverusethisendpointforanythingelse,refactorcyclingintoaseparateclass.
 
predict_string:
 //TODO:ifweeverusethisendpointforanythingelse,refactorcyclingintoaseparateclass. 

line_no || similarity 

58 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/YarnQueueHelper.java 

under_code:
int urlIx = lastKnownGoodUrl, lastUrlIx = ((urlIx == 0) ? rmNodes.length : urlIx) - 1;
 

ーーーーーーーーSearch the target string389ーーーーーーーーーーーーーーー
 
search_string:
 //somethingisseriouslywrongifthisishappening
 
predict_string:
 //somethingisseriouslywrongifthisishappening 

line_no || similarity 

1340 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/DagUtils.java 

under_code:
throw new HiveException(ErrorMsg.GENERIC_ERROR.getErrorCodedMsg());
 

ーーーーーーーーSearch the target string390ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Orderingseemstoaffectthedistinctness,needschecking,disabling.
 
predict_string:
 //TODO:Orderingseemstoaffectthedistinctness,needschecking,disabling. 

line_no || similarity 

3058 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ObjectStore.java 

under_code:
/*
 

ーーーーーーーーSearch the target string391ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:avoidput()byworkingdirectlyinOutStream?
 
predict_string:
 //TODO:avoidput()byworkingdirectlyinOutStream? 

line_no || similarity 

622 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/SerDeEncodedDataReader.java 

under_code:
if (LlapIoImpl.LOG.isTraceEnabled()) {
 

ーーーーーーーーSearch the target string392ーーーーーーーーーーーーーーー
 
search_string:
 //Can'tfetchprefixoncolqual,mustpulltheentirequalifierTODOuseaniteratortodothefilter,server-side.
 
sub_line:
 //TODOuseaniteratortodothefilter,server-side. 

frontremoved_sub_line:
 DOuseaniteratortodothefilter,server-side. 

sub_line:
 pairs.add(newPair<Text,Text>(newText(mapMapping.getColumnFamily()),null)); 

frontremoved_sub_line:
 s.add(newPair<Text,Text>(newText(mapMapping.getColumnFamily()),null)); 

predict_string:
 //Can'tfetchprefixoncolqual,mustpulltheentirequalifier 

line_no || similarity 

394 || 0.7152317880794702 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/accumulo-handler/src/java/org/apache/hadoop/hive/accumulo/mr/HiveAccumuloTableInputFormat.java 

under_code:
pairs.add(new Pair<Text,Text>(new Text(mapMapping.getColumnFamily()), null));
 

ーーーーーーーーSearch the target string393ーーーーーーーーーーーーーーー
 
search_string:
 //Thesetestsinherentlycauseexceptionstobewrittentothetestoutputlogs.Thisisundesirable,sinceyouitmightappeartosomeonelookingatthetestoutputlogsasifsomethingisfailingwhenitisn't.Notsure
 
sub_line:
 //logs.Thisisundesirable,sinceyouitmightappeartosomeonelooking 

frontremoved_sub_line:
 gs.Thisisundesirable,sinceyouitmightappeartosomeonelooking 

sub_line:
 //atthetestoutputlogsasifsomethingisfailingwhenitisn't.Not 

frontremoved_sub_line:
 thetestoutputlogsasifsomethingisfailingwhenitisn't.Not 

sub_line:
 //sure 

frontremoved_sub_line:
 re 

sub_line:
 //howtogetaroundthat. 

frontremoved_sub_line:
 wtogetaroundthat. 

predict_string:
 //Thesetestsinherentlycauseexceptionstobewrittentothetestoutput 

line_no || similarity 

1029 || 0.5121951219512195 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hive-unit/src/test/java/org/apache/hive/jdbc/cbo_rp_TestJdbcDriver2.java 

under_code:
// how to get around that.
 

ーーーーーーーーSearch the target string394ーーーーーーーーーーーーーーー
 
search_string:
 //returnHiveConf.getPositionFromInternalName(fieldName);Theabovelineshouldhavebeenalltheimplementationthatweneed,butduetoabuginthatimplwhichrecognizesonlysingle-digitcolumns,weneedanotherimplhere.
 
sub_line:
 //Theabovelineshouldhavebeenalltheimplementationthat 

frontremoved_sub_line:
 eabovelineshouldhavebeenalltheimplementationthat 

sub_line:
 //weneed,butduetoabuginthatimplwhichrecognizes 

frontremoved_sub_line:
 need,butduetoabuginthatimplwhichrecognizes 

sub_line:
 //onlysingle-digitcolumns,weneedanotherimplhere. 

frontremoved_sub_line:
 lysingle-digitcolumns,weneedanotherimplhere. 

sub_line:
 PatterninternalPattern=Pattern.compile("_col([0-9]+)"); 

frontremoved_sub_line:
 erninternalPattern=Pattern.compile("_col([0-9]+)"); 

predict_string:
 //returnHiveConf.getPositionFromInternalName(fieldName); 

line_no || similarity 

226 || 0.4444444444444444 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/core/src/main/java/org/apache/hive/hcatalog/data/JsonSerDe.java 

under_code:
Pattern internalPattern = Pattern.compile("_col([0-9]+)");
 

ーーーーーーーーSearch the target string395ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#getPartCols()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#getPartCols()}.ToberemovedinHive0.16. 

line_no || similarity 

122 || 0.9333333333333333 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public List<HCatFieldSchema> getPartitionCols() {
 

ーーーーーーーーSearch the target string396ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:VerifyifweneedtouseConstantObjectInspectortounwrapdata
 
predict_string:
 //TODO:VerifyifweneedtouseConstantObjectInspectortounwrapdata 

line_no || similarity 

615 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/RexNodeConverter.java 

under_code:
switch (hiveTypeCategory) {
 

ーーーーーーーーSearch the target string397ーーーーーーーーーーーーーーー
 
search_string:
 //2)GenerateHiveTableFunctionScanRelNodeforlateralviewTODO:Supportdifferentfunctions(notonlyINLINE)withLATERALVIEWJOIN
 
sub_line:
 //TODO:Supportdifferentfunctions(notonlyINLINE)withLATERALVIEWJOIN 

frontremoved_sub_line:
 DO:Supportdifferentfunctions(notonlyINLINE)withLATERALVIEWJOIN 

sub_line:
 //^(TOK_LATERAL_VIEW^(TOK_SELECT^(TOK_SELEXPR^(TOK_FUNCTIONIdentifier["inline"]valuesClause)identifier*tableAlias))) 

frontremoved_sub_line:
 TOK_LATERAL_VIEW^(TOK_SELECT^(TOK_SELEXPR^(TOK_FUNCTIONIdentifier["inline"]valuesClause)identifier*tableAlias))) 

predict_string:
 //2)GenerateHiveTableFunctionScanRelNodeforlateralview 

line_no || similarity 

3096 || 0.627906976744186 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/CalcitePlanner.java 

under_code:
// ^(TOK_LATERAL_VIEW ^(TOK_SELECT ^(TOK_SELEXPR ^(TOK_FUNCTION Identifier["inline"] valuesClause) identifier* tableAlias)))
 

ーーーーーーーーSearch the target string398ーーーーーーーーーーーーーーー
 
search_string:
 //todo:thisisactuallynotaddinganythingsinceLockComponentusesaTrieto"promote"alockexceptbyaccident-whenwehaveapartitionedtargettablewehaveaReadEntityandWriteEntityforthetable,sowemarkReadEntityandthendeleteWriteEntity(replacewithPartitionentries)soDbTxnManagerskipsReadlockontheReadEntity....input.noLockNeeded()?
 
under_code:
too long.
 

ーーーーーーーーSearch the target string399ーーーーーーーーーーーーーーー
 
search_string:
 //TODO-cleanuponceparquetsupportTimestamptypeannotation.
 
predict_string:
 //TODO-cleanuponceparquetsupportTimestamptypeannotation. 

line_no || similarity 

395 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/convert/ETypeConverter.java 

under_code:
return ETypeConverter.ETIMESTAMP_CONVERTER.getConverter(type, index, parent, hiveTypeInfo);
 

ーーーーーーーーSearch the target string400ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:buffersareaccountedforatallocationtime,butideallyweshouldreportthememoryoverheadfromthejavaobjectstomemorymanagerandremoveitwhendiscardingfile.
 
sub_line:
 //overheadfromthejavaobjectstomemorymanagerandremoveitwhendiscardingfile. 

frontremoved_sub_line:
 erheadfromthejavaobjectstomemorymanagerandremoveitwhendiscardingfile. 

sub_line:
 if(data.stripes==null||data.stripes.isEmpty()){ 

frontremoved_sub_line:
 ata.stripes==null||data.stripes.isEmpty()){ 

predict_string:
 //TODO:buffersareaccountedforatallocationtime,butideallyweshouldreportthememory 

line_no || similarity 

503 || 0.6899563318777293 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/cache/SerDeLowLevelCacheImpl.java 

under_code:
if (data.stripes == null || data.stripes.isEmpty()) {
 

ーーーーーーーーSearch the target string401ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:cleanupthis
 
predict_string:
 //TODO:cleanupthis 

line_no || similarity 

4890 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/CalcitePlanner.java 

under_code:
if (qb.getParseInfo().getAlias() != null) {
 

ーーーーーーーーSearch the target string402ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:HIVE-13624DoweneedmaxLengthchecking?
 
predict_string:
 //TODO:HIVE-13624DoweneedmaxLengthchecking? 

line_no || similarity 

489 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorAssignRow.java 

under_code:
byte[] bytes = hiveVarchar.getValue().getBytes();
 

ーーーーーーーーSearch the target string403ーーーーーーーーーーーーーーー
 
search_string:
 //InaddBatchToWriter,wehavepassedthebatchtobothORCandoperatorpipeline(neithereverchangesthevectors).We'dneedasetofvectorsbatchtowriteto.TODO:fornow,createthisfromscratch.Ideallyweshouldreturnthevectorsfromops.WecouldalsohavetheORCthreadcreateitforusinitssparetime...
 
under_code:
too long.
 

ーーーーーーーーSearch the target string404ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:enforcemaxlength
 
predict_string:
 //TODO:enforcemaxlength 

line_no || similarity 

46 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableConstantHiveVarcharObjectInspector.java 

under_code:
return value;
 

ーーーーーーーーSearch the target string405ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:woulditmakesensetoreturnbuffersasynchronously?
 
predict_string:
 //TODO:woulditmakesensetoreturnbuffersasynchronously? 

line_no || similarity 

233 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/cache/BuddyAllocator.java 

under_code:
@Override
 

ーーーーーーーーSearch the target string406ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ThebestsolutionistosupportNaNinexpressionreduction.
 
predict_string:
 //TODO:ThebestsolutionistosupportNaNinexpressionreduction. 

line_no || similarity 

678 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/RexNodeConverter.java 

under_code:
if (Double.isNaN((Double) value)) {
 

ーーーーーーーーSearch the target string407ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ideally,thisshouldbemovedoutsidetoHiveMetaStoretobesharedbetweenalltheRawStore-s.Rightnowthere'snomethodtocreateapool.
 
sub_line:
 //alltheRawStore-s.Rightnowthere'snomethodtocreateapool. 

frontremoved_sub_line:
 ltheRawStore-s.Rightnowthere'snomethodtocreateapool. 

sub_line:
 if(defaultPoolSize>0){ 

frontremoved_sub_line:
 efaultPoolSize>0){ 

predict_string:
 //TODO:ideally,thisshouldbemovedoutsidetoHiveMetaStoretobesharedbetween 

line_no || similarity 

10927 || 0.7244897959183674 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ObjectStore.java 

under_code:
if (defaultPoolSize > 0) {
 

ーーーーーーーーSearch the target string408ーーーーーーーーーーーーーーー
 
search_string:
 //TODOHIVE-14042.Aborthandling.
 
predict_string:
 //TODOHIVE-14042.Aborthandling. 

line_no || similarity 

76 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/MergeFileRecordProcessor.java 

under_code:
perfLogger.PerfLogBegin(CLASS_NAME, PerfLogger.TEZ_INIT_OPERATORS);
 

ーーーーーーーーSearch the target string409ーーーーーーーーーーーーーーー
 
search_string:
 //todo:updatetosearchbyIDonceHIVE-13353isdone
 
predict_string:
 //todo:updatetosearchbyIDonceHIVE-13353isdone 

line_no || similarity 

2127 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 

under_code:
ShowCompactResponse allCompactions = db.showCompactions();
 

ーーーーーーーーSearch the target string410ーーーーーーーーーーーーーーー
 
search_string:
 //Note:typeparamisnotavailablehere.
 
predict_string:
 //Note:typeparamisnotavailablehere. 

line_no || similarity 

97 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFReflect2.java 

under_code:
PrimitiveTypeEntry typeEntry = getTypeFor(method.getReturnType());
 

ーーーーーーーーSearch the target string411ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Whenfunctionprivilegesareimplemented,theyshouldbedeletedhere.
 
predict_string:
 //TODO:Whenfunctionprivilegesareimplemented,theyshouldbedeletedhere. 

line_no || similarity 

9336 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ObjectStore.java 

under_code:
pm.deletePersistentAll(mfunc);
 

ーーーーーーーーSearch the target string412ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:perhapsmovetoOrcInStream?
 
predict_string:
 //TODO:perhapsmovetoOrcInStream? 

line_no || similarity 

1788 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/encoded/EncodedReaderImpl.java 

under_code:
private static class IndexStream extends InputStream {
 

ーーーーーーーーSearch the target string413ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:shouldnotthrowdifferentexceptionsfordifferentHMSdeploymenttypes
 
predict_string:
 //TODO:shouldnotthrowdifferentexceptionsfordifferentHMSdeploymenttypes 

line_no || similarity 

309 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/client/TestListPartitions.java 

under_code:
}
 

ーーーーーーーーSearch the target string414ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Cleanupalltheotherpathsthatarecreated.
 
predict_string:
 //TODO:Cleanupalltheotherpathsthatarecreated. 

line_no || similarity 

1135 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/util/src/main/java/org/apache/hadoop/hive/ql/QTestUtil.java 

under_code:
FunctionRegistry.unregisterTemporaryUDF("test_udaf");
 

ーーーーーーーーSearch the target string415ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ideallywhencol-stats-accuratestuffisstoredinsomesanestructure,thisshouldtoretrievepartsToUpdateinasinglequery;nocheckingpartitionparamsinjava.
 
sub_line:
 //toretrievepartsToUpdateinasinglequery;nocheckingpartitionparamsinjava. 

frontremoved_sub_line:
 retrievepartsToUpdateinasinglequery;nocheckingpartitionparamsinjava. 

sub_line:
 List<String>partNames=null; 

frontremoved_sub_line:
 <String>partNames=null; 

predict_string:
 //TODO:ideallywhencol-stats-accuratestuffisstoredinsomesanestructure,thisshould 

line_no || similarity 

268 || 0.6929824561403509 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/stats/StatsUpdaterThread.java 

under_code:
List<String> partNames = null;
 

ーーーーーーーーSearch the target string416ーーーーーーーーーーーーーーー
 
search_string:
 //UNDONE:Missingdate/timeintervaldatatypes
 
predict_string:
 //UNDONE:Missingdate/timeintervaldatatypes 

line_no || similarity 

38 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/exec/vector/util/batchgen/VectorBatchGenerator.java 

under_code:
public enum GenerateCategory {
 

ーーーーーーーーSearch the target string417ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#getCols()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatTable.#getCols()}.ToberemovedinHive0.16. 

line_no || similarity 

112 || 0.9299363057324841 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public List<HCatFieldSchema> getCols() {
 

ーーーーーーーーSearch the target string418ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:refactorthisout
 
predict_string:
 //TODO:refactorthisout 

line_no || similarity 

74 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/CombineHiveRecordReader.java 

under_code:
if (pathToPartInfo == null) {
 

ーーーーーーーーSearch the target string419ーーーーーーーーーーーーーーー
 
search_string:
 //TODOThisneedstobelookedat.MapofMaptoMap...Madeconcurrentfornowsincesplitgenerationcanhappeninparallel.
 
sub_line:
 //canhappeninparallel. 

frontremoved_sub_line:
 nhappeninparallel. 

sub_line:
 privatestaticfinalMap<Map<Path,PartitionDesc>,Map<Path,PartitionDesc>>cache= 

frontremoved_sub_line:
 atestaticfinalMap<Map<Path,PartitionDesc>,Map<Path,PartitionDesc>>cache= 

predict_string:
 //TODOThisneedstobelookedat.MapofMaptoMap...Madeconcurrentfornowsincesplitgeneration 

line_no || similarity 

61 || 0.8936170212765957 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/SplitGrouper.java 

under_code:
private static final Map<Map<Path, PartitionDesc>, Map<Path, PartitionDesc>> cache =
 

ーーーーーーーーSearch the target string420ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Fixtheexpressionslater.
 
predict_string:
 //TODO:Fixtheexpressionslater. 

line_no || similarity 

160 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/lineage/LineageCtx.java 

under_code:
old_dep.setExpr(null);
 

ーーーーーーーーSearch the target string421ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@link#create(HCatTable)}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@link#create(HCatTable)}.ToberemovedinHive0.16. 

line_no || similarity 

56 || 0.9281045751633987 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatCreateTableDesc.java 

under_code:
public static Builder create(String dbName, String tableName, List<HCatFieldSchema> columns) {
 

ーーーーーーーーSearch the target string422ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:handleExprNodeColumnListDesc
 
predict_string:
 //TODO:handleExprNodeColumnListDesc 

line_no || similarity 

185 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/RexNodeConverter.java 

under_code:
}
 

ーーーーーーーーSearch the target string423ーーーーーーーーーーーーーーー
 
search_string:
 //5.PushDownSemiJoinsTODO:Enablethislater
 
sub_line:
 //TODO:Enablethislater 

frontremoved_sub_line:
 DO:Enablethislater 

sub_line:
 /*perfLogger.PerfLogBegin(this.getClass().getName(),PerfLogger.OPTIMIZER); 

frontremoved_sub_line:
 rfLogger.PerfLogBegin(this.getClass().getName(),PerfLogger.OPTIMIZER); 

predict_string:
 //5.PushDownSemiJoins 

line_no || similarity 

2029 || 0.6774193548387096 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/CalcitePlanner.java 

under_code:
/*perfLogger.PerfLogBegin(this.getClass().getName(), PerfLogger.OPTIMIZER);
 

ーーーーーーーーSearch the target string424ーーーーーーーーーーーーーーー
 
search_string:
 //todo:addTXNS.COMMENTfiledandsetitto'abortedbysystemduetotimeout'easiertoreadlogs
 
sub_line:
 Collections.sort(batchToAbort);//easiertoreadlogs 

frontremoved_sub_line:
 ections.sort(batchToAbort);//easiertoreadlogs 

predict_string:
 //todo:addTXNS.COMMENTfiledandsetitto'abortedbysystemduetotimeout' 

line_no || similarity 

4429 || 0.8918918918918919 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java 

under_code:
Collections.sort(batchToAbort);//easier to read logs
 

ーーーーーーーーSearch the target string425ーーーーーーーーーーーーーーー
 
search_string:
 //TODORIVENswitchthisbacktopackagelevelwhenwecanmoveTestHadoopAuthBridge23intoriven.
 
sub_line:
 //riven. 

frontremoved_sub_line:
 ven. 

sub_line:
 //PackagepermissionsothatHadoopThriftAuthBridgecanconstructitbutotherscannot. 

frontremoved_sub_line:
 ckagepermissionsothatHadoopThriftAuthBridgecanconstructitbutotherscannot. 

predict_string:
 //TODORIVENswitchthisbacktopackagelevelwhenwecanmoveTestHadoopAuthBridge23into 

line_no || similarity 

75 || 0.9629629629629629 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/security/HadoopThriftAuthBridge23.java 

under_code:
// Package permission so that HadoopThriftAuthBridge can construct it but others cannot.
 

ーーーーーーーーSearch the target string426ーーーーーーーーーーーーーーー
 
search_string:
 //TODOChangethisovertojuststorelocaldirindices,insteadoftheentirepath.Farmoreefficient.
 
predict_string:
 //TODOChangethisovertojuststorelocaldirindices,insteadoftheentirepath.Farmoreefficient. 

line_no || similarity 

1091 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/shufflehandler/ShuffleHandler.java 

under_code:
private final Path indexPath;
 

ーーーーーーーーSearch the target string427ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:wemightrevisitthisincreate-drop-recreatecases,needssomethinkingon.
 
predict_string:
 //TODO:wemightrevisitthisincreate-drop-recreatecases,needssomethinkingon. 

line_no || similarity 

131 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/repl/bootstrap/load/LoadDatabase.java 

under_code:
DDLWork work = new DDLWork(new HashSet<>(), new HashSet<>(), createDbDesc);
 

ーーーーーーーーSearch the target string428ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whyisthisintextformatter?!!
 
predict_string:
 //TODO:whyisthisintextformatter?!! 

line_no || similarity 

371 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/TextMetaDataFormatter.java 

under_code:
//       This computes stats and should be in stats (de-duplicated too).
 

ーーーーーーーーSearch the target string429ーーーーーーーーーーーーーーー
 
search_string:
 /**NOTE:thisruleisreplicatedfromCalcite'sSubqueryRemoveRule*TransformthatconvertsIN,EXISTSandscalarsub-queriesintojoins.*TODO:*ReasonthisisreplicatedinsteadofusingCalcite'sis*Calcitecreatesnullliteralwithnulltypebuthiveneedsittobeproperlytyped**<p>Sub-queriesarerepresentedby{@linkRexSubQuery}expressions.**<p>Asub-querymayormaynotbecorrelated.Ifasub-queryiscorrelated,*thewrapped{@linkRelNode}willcontaina{@linkRexCorrelVariable}before*therewrite,andtheproductoftherewritewillbea{@linkCorrelate}.*TheCorrelatecanberemovedusing{@linkRelDecorrelator}.*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string430ーーーーーーーーーーーーーーー
 
search_string:
 //truncate(TODO:posix_fallocate?)
 
predict_string:
 rwf.setLength(arenaSize);//truncate(TODO:posix_fallocate?) 

line_no || similarity 

715 || 0.7252747252747253 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/cache/BuddyAllocator.java 

under_code:
// Use RW, not PRIVATE because the copy-on-write is irrelevant for a deleted file
 

ーーーーーーーーSearch the target string431ーーーーーーーーーーーーーーー
 
search_string:
 //NOTE:Thiscodetriestogetallkey-valuepairsoutofthemap.It'snotveryefficient.ThemoreefficientwayshouldbetoletMapOIreturnanIterator.ThisiscurrentlynotsupportedbyMapOIyet.
 
sub_line:
 //It'snotveryefficient.ThemoreefficientwayshouldbetoletMapOI 

frontremoved_sub_line:
 'snotveryefficient.ThemoreefficientwayshouldbetoletMapOI 

sub_line:
 //returnanIterator.ThisiscurrentlynotsupportedbyMapOIyet. 

frontremoved_sub_line:
 turnanIterator.ThisiscurrentlynotsupportedbyMapOIyet. 

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 Map<?,?>map=inputOI.getMap(input); 

frontremoved_sub_line:
 ?,?>map=inputOI.getMap(input); 

predict_string:
 //NOTE:Thiscodetriestogetallkey-valuepairsoutofthemap. 

line_no || similarity 

545 || 0.48868778280542985 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java 

under_code:
Map<?, ?> map = inputOI.getMap(input);
 

ーーーーーーーーSearch the target string432ーーーーーーーーーーーーーーー
 
search_string:
 //UNDONE:WhydoweneedtospecifyBinarySortableSerDeexplicitlyhere???
 
predict_string:
 //UNDONE:WhydoweneedtospecifyBinarySortableSerDeexplicitlyhere??? 

line_no || similarity 

393 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/test/org/apache/hadoop/hive/ql/exec/vector/mapjoin/MapJoinTestConfig.java 

under_code:
TableDesc keyTableDesc = mapJoinDesc.getKeyTblDesc();
 

ーーーーーーーーSearch the target string433ーーーーーーーーーーーーーーー
 
search_string:
 //todo:lastparamisbogus.whyisthishardcoded?
 
predict_string:
 //todo:lastparamisbogus.whyisthishardcoded? 

line_no || similarity 

2155 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcInputFormat.java 

under_code:
OrcInputFormat.setSearchArgument(readerOptions, schemaTypes, conf, true);
 

ーーーーーーーーSearch the target string434ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:movethistoacommonmethodNote:thisgetsIDsbyname,soweassumeindicesdon'tneedtobeadjustedforACID.
 
sub_line:
 //Note:thisgetsIDsbyname,soweassumeindicesdon'tneedtobeadjustedforACID. 

frontremoved_sub_line:
 te:thisgetsIDsbyname,soweassumeindicesdon'tneedtobeadjustedforACID. 

sub_line:
 int[]filterColumns=RecordReaderImpl.mapSargColumnsToOrcInternalColIdx( 

frontremoved_sub_line:
 ]filterColumns=RecordReaderImpl.mapSargColumnsToOrcInternalColIdx( 

predict_string:
 //TODO:movethistoacommonmethod 

line_no || similarity 

303 || 0.46511627906976744 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/OrcEncodedDataReader.java 

under_code:
int[] filterColumns = RecordReaderImpl.mapSargColumnsToOrcInternalColIdx(
 

ーーーーーーーーSearch the target string435ーーーーーーーーーーーーーーー
 
search_string:
 //DecorrelateRexShuttleendsupdecorrelatingexpressionscor.col1<>$4to$4=$4ifvaluegeneratorisnotgenerated,$4<>$4isfurthersimplifiedtofalse.Thisiswrongandmessesupthewholetree.TopreventthisvisitCallisoverriddentorewrite/simplysuchpredicatestoisnotnull.wealsoneedtotakecarethatwedothisonlyforcorrelatedpredicatesandnotuserspecifiedexplicitpredicatesTODO:ThiscodeshouldberemovedonceCALCITE-1851isfixedandthereissupportofnotequal
 
under_code:
too long.
 

ーーーーーーーーSearch the target string436ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:needproperclone.Meanwhile,let'satleastkeepthishorrorinoneplace
 
predict_string:
 //TODO:needproperclone.Meanwhile,let'satleastkeepthishorrorinoneplace 

line_no || similarity 

625 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/SerializationUtilities.java 

under_code:
PerfLogger perfLogger = SessionState.getPerfLogger();
 

ーーーーーーーーSearch the target string437ーーーーーーーーーーーーーーー
 
search_string:
 //Notethatwepassjobconfigtotherecordreader,butuseglobalconfigforLLAPIO.TODO:addtracingtoserdereader
 
sub_line:
 //TODO:addtracingtoserdereader 

frontremoved_sub_line:
 DO:addtracingtoserdereader 

sub_line:
 SerDeEncodedDataReaderreader=newSerDeEncodedDataReader(cache,bufferManager,conf, 

frontremoved_sub_line:
 eEncodedDataReaderreader=newSerDeEncodedDataReader(cache,bufferManager,conf, 

predict_string:
 //Notethatwepassjobconfigtotherecordreader,butuseglobalconfigforLLAPIO. 

line_no || similarity 

96 || 0.8352941176470589 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/io/decode/GenericColumnVectorProducer.java 

under_code:
SerDeEncodedDataReader reader = new SerDeEncodedDataReader(cache, bufferManager, conf,
 

ーーーーーーーーSearch the target string438ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatPartition.#getTableName()}.ToberemovedinHive0.16.
 
predict_string:
 @Deprecated//@deprecatedinfavourof{@linkHCatPartition.#getTableName()}.ToberemovedinHive0.16. 

line_no || similarity 

91 || 0.9371428571428572 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatAddPartitionDesc.java 

under_code:
public String getTableName() {
 

ーーーーーーーーSearch the target string439ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:supporttemplatetypes.ItcurrentlyhasconflictwithExprNodeConstantDesc
 
predict_string:
 //FIXME:supporttemplatetypes.ItcurrentlyhasconflictwithExprNodeConstantDesc 

line_no || similarity 

185 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ConstantPropagateProcFactory.java 

under_code:
if (LOG.isDebugEnabled()) {
 

ーーーーーーーーSearch the target string440ーーーーーーーーーーーーーーー
 
search_string:
 /**Thisruleisacopyof{@linkorg.apache.calcite.rel.rules.AggregateReduceFunctionsRule}*thatregeneratesHivespecificaggregateoperators.**TODO:WhenCALCITE-2216iscompleted,weshouldbeabletoremovemuchofthiscodeand*justoverridetherelevantmethods.**Plannerrulethatreducesaggregatefunctionsin*{@linkorg.apache.calcite.rel.core.Aggregate}stosimplerforms.**<p>Rewrites:*<ul>**<li>AVG(x)&rarr;SUM(x)/COUNT(x)**<li>STDDEV_POP(x)&rarr;SQRT(*(SUM(x*x)-SUM(x)*SUM(x)/COUNT(x))*/COUNT(x))**<li>STDDEV_SAMP(x)&rarr;SQRT(*(SUM(x*x)-SUM(x)*SUM(x)/COUNT(x))*/CASECOUNT(x)WHEN1THENNULLELSECOUNT(x)-1END)**<li>VAR_POP(x)&rarr;(SUM(x*x)-SUM(x)*SUM(x)/COUNT(x))*/COUNT(x)**<li>VAR_SAMP(x)&rarr;(SUM(x*x)-SUM(x)*SUM(x)/COUNT(x))*/CASECOUNT(x)WHEN1THENNULLELSECOUNT(x)-1END*</ul>*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string441ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Handlemorethan2inputsforsetop
 
predict_string:
 //TODO:Handlemorethan2inputsforsetop 

line_no || similarity 

148 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/translator/PlanModifierForASTConv.java 

under_code:
if (!validSetopParent(rel, parent))
 

ーーーーーーーーSearch the target string442ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:separatemodelisneededforcompressedOops,whichcanbeguessedfrommemorysize.
 
predict_string:
 //TODO:separatemodelisneededforcompressedOops,whichcanbeguessedfrommemorysize. 

line_no || similarity 

269 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/storage-api/src/java/org/apache/hadoop/hive/ql/util/JavaDataModel.java 

under_code:
return JAVA64;
 

ーーーーーーーーSearch the target string443ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ShouldweconvertMultiJointobeachildofHiveJoin
 
predict_string:
 //TODO:ShouldweconvertMultiJointobeachildofHiveJoin 

line_no || similarity 

54 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/reloperators/HiveJoin.java 

under_code:
public class HiveJoin extends Join implements HiveRelNode {
 

ーーーーーーーーSearch the target string444ーーーーーーーーーーーーーーー
 
search_string:
 //TODOshouldbedoingsecuritycheckhere.Usersshouldnotbeabletoseeeachother'slocks.
 
sub_line:
 //abletoseeeachother'slocks. 

frontremoved_sub_line:
 letoseeeachother'slocks. 

sub_line:
 locks=lockMgr.getLocks(false,isExt); 

frontremoved_sub_line:
 s=lockMgr.getLocks(false,isExt); 

predict_string:
 //TODOshouldbedoingsecuritycheckhere.Usersshouldnotbe 

line_no || similarity 

3008 || 0.803030303030303 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 

under_code:
locks = lockMgr.getLocks(false, isExt);
 

ーーーーーーーーSearch the target string445ーーーーーーーーーーーーーーー
 
search_string:
 //WedonohandleanythingbutOKfornow.Again,weneedarealclientforthisAPI.TODO:handle401andreturnanewconnection?nothingfornow
 
sub_line:
 //TODO:handle401andreturnanewconnection?nothingfornow 

frontremoved_sub_line:
 DO:handle401andreturnanewconnection?nothingfornow 

sub_line:
 InputStreamerrorStream=connection.getErrorStream(); 

frontremoved_sub_line:
 tStreamerrorStream=connection.getErrorStream(); 

predict_string:
 //WedonohandleanythingbutOKfornow.Again,weneedarealclientforthisAPI. 

line_no || similarity 

135 || 0.7272727272727273 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/YarnQueueHelper.java 

under_code:
InputStream errorStream = connection.getErrorStream();
 

ーーーーーーーーSearch the target string446ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:closebasicallyresetstheobjecttoabunchofnulls.Weshouldideallynotreusetheobjectbecauseit'spointlessanderror-prone.
 
sub_line:
 //Weshouldideallynotreusetheobjectbecauseit'spointlessanderror-prone. 

frontremoved_sub_line:
 shouldideallynotreusetheobjectbecauseit'spointlessanderror-prone. 

sub_line:
 sessionState.close(false); 

frontremoved_sub_line:
 ionState.close(false); 

predict_string:
 //TODO:closebasicallyresetstheobjecttoabunchofnulls. 

line_no || similarity 

490 || 0.6081871345029239 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionPoolManager.java 

under_code:
sessionState.close(false);
 

ーーーーーーーーSearch the target string447ーーーーーーーーーーーーーーー
 
search_string:
 //todo:createOptionsForReader()assumesit's!isOriginal....why?
 
predict_string:
 //todo:createOptionsForReader()assumesit's!isOriginal....why? 

line_no || similarity 

2078 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcInputFormat.java 

under_code:
final Reader.Options readOptions = OrcInputFormat.createOptionsForReader(conf);
 

ーーーーーーーーSearch the target string448ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:RequiredduetoSessionState.getHDFSSessionPath.Whywasn'titrequiredbefore?
 
predict_string:
 //TODO:RequiredduetoSessionState.getHDFSSessionPath.Whywasn'titrequiredbefore? 

line_no || similarity 

69 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/DriverUtils.java 

under_code:
sessionState.setIsHiveServerQuery(true);
 

ーーーーーーーーSearch the target string449ーーーーーーーーーーーーーーー
 
search_string:
 //TODOChangethistonotserializetheentireConfiguration-minor.
 
predict_string:
 //TODOChangethistonotserializetheentireConfiguration-minor. 

line_no || similarity 

333 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java 

under_code:
UserPayload servicePluginPayload = TezUtils.createUserPayloadFromConf(tezConfig);
 

ーーーーーーーーSearch the target string450ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Forobjectinspectorfields,assigning16KBfornow.TobetterestimatethememorysizeeveryobjectinspectorshavetoimplementMemoryEstimateinterfacewhichisalotofchangewithlittlebenefitcompared
 
sub_line:
 //objectinspectorshavetoimplementMemoryEstimateinterfacewhichisalotofchangewithlittlebenefitcompared 

frontremoved_sub_line:
 jectinspectorshavetoimplementMemoryEstimateinterfacewhichisalotofchangewithlittlebenefitcompared 

sub_line:
 //towritinganinstrumentationagentforobjectsizeestimation 

frontremoved_sub_line:
 writinganinstrumentationagentforobjectsizeestimation 

predict_string:
 //TODO:Forobjectinspectorfields,assigning16KBfornow.Tobetterestimatethememorysizeevery 

line_no || similarity 

77 || 0.6370370370370371 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinBytesTableContainer.java 

under_code:
// to writing an instrumentation agent for object size estimation
 

ーーーーーーーーSearch the target string451ーーーーーーーーーーーーーーー
 
search_string:
 //UNDONE:AddsupportforDATE,TIMESTAMP,INTERVAL_YEAR_MONTH,INTERVAL_DAY_TIME...
 
predict_string:
 //UNDONE:AddsupportforDATE,TIMESTAMP,INTERVAL_YEAR_MONTH,INTERVAL_DAY_TIME... 

line_no || similarity 

225 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/keyseries/VectorKeySeriesLongSerialized.java 

under_code:
switch (primitiveCategory) {
 

ーーーーーーーーSearch the target string452ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:therewascodeheretocreateguess-estimateforcollectionwrthowusagechangeswhenremovingelements.Howeverit'stooerror-proneforanythinginvolvingpre-allocatedcapacity,soitwasdiscarded.
 
sub_line:
 //whenremovingelements.Howeverit'stooerror-proneforanythinginvolving 

frontremoved_sub_line:
 enremovingelements.Howeverit'stooerror-proneforanythinginvolving 

sub_line:
 //pre-allocatedcapacity,soitwasdiscarded. 

frontremoved_sub_line:
 e-allocatedcapacity,soitwasdiscarded. 

sub_line:
  

frontremoved_sub_line:
  

sub_line:
 //Wewillestimatecollectionasanobject(onlyifit'safield). 

frontremoved_sub_line:
 willestimatecollectionasanobject(onlyifit'safield). 

predict_string:
 //TODO:therewascodeheretocreateguess-estimateforcollectionwrthowusagechanges 

line_no || similarity 

206 || 0.5914396887159533 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/storage-api/src/java/org/apache/hadoop/hive/ql/util/IncrementalObjectSizeEstimator.java 

under_code:
// We will estimate collection as an object (only if it's a field).
 

ーーーーーーーーSearch the target string453ーーーーーーーーーーーーーーー
 
search_string:
 //ExtractthebuckedIDfrompathFilesMap,thisismoreaccuratemethod,however.itmaynotworkincertaincaseswherebucketsarenamedafterfilesusedwhileloadingdata.Insuchcase,fallbacktooldpotentialinaccuratemethod.Theacceptedfilenamesaresuchas000000_0,000001_0_copy_1.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string454ーーーーーーーーーーーーーーー
 
search_string:
 //ThisisabithackishtofixmismatchbetweenSARGandHivetypesforTimestampandDate.TODO:Movethosetypestostorage-api.
 
sub_line:
 //forTimestampandDate.TODO:Movethosetypestostorage-api. 

frontremoved_sub_line:
 rTimestampandDate.TODO:Movethosetypestostorage-api. 

sub_line:
 if(oinstanceofjava.sql.Date){ 

frontremoved_sub_line:
 instanceofjava.sql.Date){ 

predict_string:
 //ThisisabithackishtofixmismatchbetweenSARGandHivetypes 

line_no || similarity 

273 || 0.6748466257668712 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/FixedBucketPruningOptimizer.java 

under_code:
if (o instanceof java.sql.Date) {
 

ーーーーーーーーSearch the target string455ーーーーーーーーーーーーーーー
 
search_string:
 //TODOHIVE-14042.MovetousingaloopandatimedwaitonceTEZ-3302isfixed.
 
predict_string:
 //TODOHIVE-14042.MovetousingaloopandatimedwaitonceTEZ-3302isfixed. 

line_no || similarity 

118 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/ReduceRecordProcessor.java 

under_code:
checkAbortCondition();
 

ーーーーーーーーSearch the target string456ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:addaconfigurableoptiontoskipthehistoryandjustdropit?
 
predict_string:
 //TODO:addaconfigurableoptiontoskipthehistoryandjustdropit? 

line_no || similarity 

11259 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ObjectStore.java 

under_code:
return plan.getStatus() == Status.ACTIVE ? fullFromMResourcePlan(plan) : null;
 

ーーーーーーーーSearch the target string457ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:refactorthisintoanutility,LLAPtestsusethispatternalot
 
predict_string:
 //TODO:refactorthisintoanutility,LLAPtestsusethispatternalot 

line_no || similarity 

315 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/service/src/test/org/apache/hive/service/cli/CLIServiceTest.java 

under_code:
ExecutorService executor = Executors.newFixedThreadPool(THREAD_COUNT);
 

ーーーーーーーーSearch the target string458ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:makealiasesunique,otherwiseneedlessrewritingtakesplace
 
predict_string:
 //TODO:makealiasesunique,otherwiseneedlessrewritingtakesplace 

line_no || similarity 

3566 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 

under_code:
Integer genColListRegex(String colRegex, String tabAlias, ASTNode sel,
 

ーーーーーーーーSearch the target string459ーーーーーーーーーーーーーーー
 
search_string:
 /**DeriveadditionalattributestoberenderedbyEXPLAIN.*TODO:thismethodisrelieduponbycustominputformatstosetjobconfproperties.*Thisismadness?-ThisisHiveStorageHandlers!*/
 
sub_line:
 *TODO:thismethodisrelieduponbycustominputformatstosetjobconfproperties. 

frontremoved_sub_line:
 O:thismethodisrelieduponbycustominputformatstosetjobconfproperties. 

sub_line:
 *Thisismadness?-ThisisHiveStorageHandlers! 

frontremoved_sub_line:
 sismadness?-ThisisHiveStorageHandlers! 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 publicvoidderiveExplainAttributes(){ 

frontremoved_sub_line:
 icvoidderiveExplainAttributes(){ 

predict_string:
 *DeriveadditionalattributestoberenderedbyEXPLAIN. 

line_no || similarity 

261 || 0.4558139534883721 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/plan/MapWork.java 

under_code:
public void deriveExplainAttributes() {
 

ーーーーーーーーSearch the target string460ーーーーーーーーーーーーーーー
 
search_string:
 /**Connectstothe{@linkIMetaStoreClientmetastore}thatwillbeusedtomanage{@linkTransaction}life-cycles.*Alsochecksthatthetablesdestinedtoreceivemutationeventsareabletodoso.Theclientshouldonlyholdone*opentransactionatanygiventime(TODO:enforcethis).*/
 
under_code:
too long.
 

ーーーーーーーーSearch the target string461ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisshouldhaveanoptionfordirectorytoinheritfromtheparenttable,includingbucketingandlistbucketing,fortheuseincompactionwhenthelatterrunsinsideatransaction.
 
sub_line:
 //includingbucketingandlistbucketing,fortheuseincompactionwhenthe 

frontremoved_sub_line:
 cludingbucketingandlistbucketing,fortheuseincompactionwhenthe 

sub_line:
 //latterrunsinsideatransaction. 

frontremoved_sub_line:
 tterrunsinsideatransaction. 

sub_line:
 TableDescret=getDefaultTableDesc(Integer.toString(Utilities.ctrlaCode),cols, 

frontremoved_sub_line:
 eDescret=getDefaultTableDesc(Integer.toString(Utilities.ctrlaCode),cols, 

predict_string:
 //TODO:thisshouldhaveanoptionfordirectorytoinheritfromtheparenttable, 

line_no || similarity 

113 || 0.6 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/plan/PlanUtils.java 

under_code:
TableDesc ret = getDefaultTableDesc(Integer.toString(Utilities.ctrlaCode), cols,
 

ーーーーーーーーSearch the target string462ーーーーーーーーーーーーーーー
 
search_string:
 //UNDONE:Parameterizeforimplementationvariation?
 
predict_string:
 //UNDONE:Parameterizeforimplementationvariation? 

line_no || similarity 

134 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hive-jmh/src/main/java/org/apache/hive/benchmark/vectorization/mapjoin/AbstractMapJoin.java 

under_code:
MapJoinDesc mapJoinDesc = MapJoinTestConfig.createMapJoinDesc(testDesc);
 

ーーーーーーーーSearch the target string463ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:ifExistscouldbemovedtometastore.Infactitalreadysupportsthat.Checkitfornowsincewegetpartsforoutputanyway,sowecangettheerrormessageearlier...Ifwegetridofoutput,wecangetridofthis.
 
sub_line:
 //fornowsincewegetpartsforoutputanyway,sowecangettheerrormessage 

frontremoved_sub_line:
 rnowsincewegetpartsforoutputanyway,sowecangettheerrormessage 

sub_line:
 //earlier...Ifwegetridofoutput,wecangetridofthis. 

frontremoved_sub_line:
 rlier...Ifwegetridofoutput,wecangetridofthis. 

sub_line:
 if(parts.isEmpty()){ 

frontremoved_sub_line:
 arts.isEmpty()){ 

predict_string:
 //TODO:ifExistscouldbemovedtometastore.Infactitalreadysupportsthat.Checkit 

line_no || similarity 

4035 || 0.5758754863813229 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 

under_code:
if (parts.isEmpty()) {
 

ーーーーーーーーSearch the target string464ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:moveddefaultvaluetohere...fornowithinkthisfeaturesisneverreallyusedfromthecommandline
 
sub_line:
 //ithinkthisfeaturesisneverreallyusedfromthecommandline 

frontremoved_sub_line:
 hinkthisfeaturesisneverreallyusedfromthecommandline 

sub_line:
 StringdefaultTestSrcTables="src,src1,srcbucket,srcbucket2,src_json,src_thrift,"+ 

frontremoved_sub_line:
 ngdefaultTestSrcTables="src,src1,srcbucket,srcbucket2,src_json,src_thrift,"+ 

predict_string:
 //FIXME:moveddefaultvaluetohere...fornow 

line_no || similarity 

231 || 0.6015037593984962 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/util/src/main/java/org/apache/hadoop/hive/ql/QTestUtil.java 

under_code:
String defaultTestSrcTables = "src,src1,srcbucket,srcbucket2,src_json,src_thrift," +
 

ーーーーーーーーSearch the target string465ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Shouldbemovedout.
 
predict_string:
 //TODO:Shouldbemovedout. 

line_no || similarity 

339 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hcatalog/webhcat/java-client/src/main/java/org/apache/hive/hcatalog/api/HCatClientHMSImpl.java 

under_code:
if (oldtbl
 

ーーーーーーーーSearch the target string466ーーーーーーーーーーーーーーー
 
search_string:
 //TODO-typesneedtobechecked.
 
predict_string:
 //TODO-typesneedtobechecked. 

line_no || similarity 

1762 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java 

under_code:
List<FieldSchema> partCols = tTable.getPartitionKeys();
 

ーーーーーーーーSearch the target string467ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:handlemultijoins
 
predict_string:
 //TODO:handlemultijoins 

line_no || similarity 

2131 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/optimizer/stats/annotation/StatsRulesProcFactory.java 

under_code:
return;
 

ーーーーーーーーSearch the target string468ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:uglyhackbecauseJavadoesn'thavedtorsandTezinputhangsonshutdown.
 
predict_string:
 //TODO:uglyhackbecauseJavadoesn'thavedtorsandTezinputhangsonshutdown. 

line_no || similarity 

389 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java 

under_code:
if (!isInitOk) {
 

ーーーーーーーーSearch the target string469ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Makescriptoutputprefixingconfigurable.Hadtodisablethissinceitresultsinlotsoftestdiffs.
 
sub_line:
 //itresultsinlotsoftestdiffs. 

frontremoved_sub_line:
 resultsinlotsoftestdiffs. 

sub_line:
 for(Stringcmd:cmds){ 

frontremoved_sub_line:
 Stringcmd:cmds){ 

predict_string:
 //TODO:Makescriptoutputprefixingconfigurable.Hadtodisablethissince 

line_no || similarity 

2307 || 0.8301886792452831 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/beeline/src/java/org/apache/hive/beeline/BeeLine.java 

under_code:
for (String cmd : cmds) {
 

ーーーーーーーーSearch the target string470ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:alsosupportfileKeyinsplits,likeOrcSplitdoes
 
predict_string:
 //TODO:alsosupportfileKeyinsplits,likeOrcSplitdoes 

line_no || similarity 

194 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/vector/VectorizedParquetRecordReader.java 

under_code:
if (metadataCache != null) {
 

ーーーーーーーーSearch the target string471ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:whentxnstatsareimplemented,usewriteIdstodeterminestatsaccuracy
 
predict_string:
 //TODO:whentxnstatsareimplemented,usewriteIdstodeterminestatsaccuracy 

line_no || similarity 

217 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/stats/StatsUpdaterThread.java 

under_code:
@SuppressWarnings("unused")
 

ーーーーーーーーSearch the target string472ーーーーーーーーーーーーーーー
 
search_string:
 //Hiveisprettysimple(read:stupid)inwritingoutvaluesviatheserializer.We'rejustgoingtogothrough,matchingindices.Hiveformatsnormallyhandlemismatcheswithnull.Wedon'thavethatoption,soinsteadwe'llendupthrowinganexceptionforinvalidrecords.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string473ーーーーーーーーーーーーーーー
 
search_string:
 //TODOhandlenegations
 
predict_string:
 //TODOhandlenegations 

line_no || similarity 

109 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/accumulo-handler/src/java/org/apache/hadoop/hive/accumulo/predicate/AccumuloRangeGenerator.java 

under_code:
throw new IllegalArgumentException("Negations not yet implemented");
 

ーーーーーーーーSearch the target string474ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:handletasktocontainermapeventsincaseofhardfailures
 
predict_string:
 //TODO:handletasktocontainermapeventsincaseofhardfailures 

line_no || similarity 

1584 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-tez/src/java/org/apache/hadoop/hive/llap/tezplugins/LlapTaskSchedulerService.java 

under_code:
disabledNodesQueue.add(nodeInfo);
 

ーーーーーーーーSearch the target string475ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:partitionnamesingetPartitionsByNamesarenotcaseinsensitive
 
predict_string:
 //TODO:partitionnamesingetPartitionsByNamesarenotcaseinsensitive 

line_no || similarity 

336 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/client/TestGetPartitions.java 

under_code:
List<Partition> partitions = client.getPartitionsByNames(DB_NAME, TABLE_NAME,
 

ーーーーーーーーSearch the target string476ーーーーーーーーーーーーーーー
 
search_string:
 //todothisshouldbeconfiguredinserde
 
predict_string:
 //todothisshouldbeconfiguredinserde 

line_no || similarity 

55 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyBinary.java 

under_code:
public static byte[] decodeIfNeeded(byte[] recv) {
 

ーーーーーーーーSearch the target string477ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:HavetoputinthesupportforASclause
 
predict_string:
 //TODO:HavetoputinthesupportforASclause 

line_no || similarity 

3580 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 

under_code:
Pattern regex = null;
 

ーーーーーーーーSearch the target string478ーーーーーーーーーーーーーーー
 
search_string:
 //IdeallyweshoulduseHiveRelNodeconvention.However,sinceVolcanoplannerthrowsinthatcasebecauseDruidQuerydoesnotimplementtheinterface,wesetitasBindable.Currently,wedonotuseconventioninHive,hencethatshouldbefine.TODO:Ifwewanttomakeuseofconvention(e.g.,whiledirectlygeneratingoperatortreeinsteadofAST),thisshouldbechanged.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string479ーーーーーーーーーーーーーーー
 
search_string:
 //CallgetSplitontheInputFormat,createanHCatSplitforeachunderlyingsplit.Whenthedesirednumberofinputsplitsismissing,useadefaultnumber(denotedbyzero).TODO(malewicz):Currentlyeachpartitionissplitindependentlyintoadesirednumber.However,wewanttheunionofallpartitionstobesplitintoadesirednumberwhilemaintainingbalancedsizesofinput
 
under_code:
too long.
 

ーーーーーーーーSearch the target string480ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:doweneedtohandlethe"thisiswhatMySQLdoes"here?
 
predict_string:
 //TODO:doweneedtohandlethe"thisiswhatMySQLdoes"here? 

line_no || similarity 

590 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java 

under_code:
char nextChar = result.charAt(i + 1);
 

ーーーーーーーーSearch the target string481ーーーーーーーーーーーーーーー
 
search_string:
 //@deprecatedinfavourof{@linkHCatTable.#bucketCols(List<FieldSchema>)andHCatTable.#numBuckets(int)}.ToberemovedinHive0.16.
 
under_code:
None
 

ーーーーーーーーSearch the target string482ーーーーーーーーーーーーーーー
 
search_string:
 //TODOWatchesontheoutputdirsneedtobecancelledatsomepoint.Fornow-viatheexpiry.
 
predict_string:
 //TODOWatchesontheoutputdirsneedtobecancelledatsomepoint.Fornow-viatheexpiry. 

line_no || similarity 

109 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/shufflehandler/DirWatcher.java 

under_code:
}
 

ーーーーーーーーSearch the target string483ーーーーーーーーーーーーーーー
 
search_string:
 /**TODO:Usethehardlinkfeatureofhdfs*oncehttps://issues.apache.org/jira/browse/HDFS-3370isdone*/
 
sub_line:
 *oncehttps://issues.apache.org/jira/browse/HDFS-3370isdone 

frontremoved_sub_line:
 ehttps://issues.apache.org/jira/browse/HDFS-3370isdone 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 pathCreated=wh.renameDir(sourcePath,destPath,false); 

frontremoved_sub_line:
 Created=wh.renameDir(sourcePath,destPath,false); 

predict_string:
 *TODO:Usethehardlinkfeatureofhdfs 

line_no || similarity 

4037 || 0.515625 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 

under_code:
pathCreated = wh.renameDir(sourcePath, destPath, false);
 

ーーーーーーーーSearch the target string484ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:allow>1portperhost?
 
predict_string:
 //TODO:allow>1portperhost? 

line_no || similarity 

163 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-client/src/java/org/apache/hadoop/hive/llap/registry/impl/LlapFixedRegistryImpl.java 

under_code:
return LlapFixedRegistryImpl.this.port;
 

ーーーーーーーーSearch the target string485ーーーーーーーーーーーーーーー
 
search_string:
 //NOTE:Thisisforgeneratingtheinternalpathnameforpartitions.UsersshouldalwaysusetheMetaStoreAPItogetthepathnameforapartition.Usersshouldnotdirectlytakepartitionvaluesandturnitintoapathnamebythemselves,becausethelogicbelowmaychangeinthefuture.Inthefuture,it'sOKtoaddnewcharstotheescapelist,andolddatawon'tbecorrupt,becausethefullpathnameinmetastoreisstored.Inthatcase,Hivewillcontinuetoreadtheolddata,butwhenitcreatesnewpartitions,itwillusenewnames.edit:Therearesomeusecasesforwhichaddingnewcharsdoesnotseemtobebackwardcompatible-Eg.ifpartitionwascreatedwithnamehavingaspecialcharthatyouwanttostartescaping,andthenyoutrydroppingthepartitionwithahiveversionthatnowescapesthespecialcharusingthelistbelow,thenthedroppartitionfailstowork.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string486ーーーーーーーーーーーーーーー
 
search_string:
 //TODOcanwebemoreprecisethanstring,string?
 
predict_string:
 //TODOcanwebemoreprecisethanstring,string? 

line_no || similarity 

141 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/accumulo-handler/src/java/org/apache/hadoop/hive/accumulo/columns/ColumnMapper.java 

under_code:
sb.append(serdeConstants.MAP_TYPE_NAME).append("<").append(serdeConstants.STRING_TYPE_NAME)
 

ーーーーーーーーSearch the target string487ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thisiswrong;thistestsetsupdummytxnmanagerandsoitcannotcreateACIDtables.IfIchangeittousepropertxnmanager,thesetupforsometestshangs.Thisusedtoworkbyaccident,nowthisworksdueatestflag.Thetestneedstobefixed.Createtable
 
under_code:
too long.
 

ーーーーーーーーSearch the target string488ーーーーーーーーーーーーーーー
 
search_string:
 //TODO-currentlynowaytotestalterpartition,asHCatClientdoesn'tsupportit.
 
predict_string:
 //TODO-currentlynowaytotestalterpartition,asHCatClientdoesn'tsupportit. 

line_no || similarity 

218 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/api/TestHCatClientNotification.java 

under_code:
@Test
 

ーーーーーーーーSearch the target string489ーーーーーーーーーーーーーーー
 
search_string:
 //Note-someofthesescenarioscouldbehandled,buttheyarenotsupportedrightnow.Thereasonisthatwebindaquerytoapp/userusingthesignedtokeninformation,andwedon'twanttobotherfiguringoutwhichonetouseincaseofambiguityw/oausecase.Ambiguoususer.Ambiguoususer.Ambiguoususer.Ambiguousapp.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string490ーーーーーーーーーーーーーーー
 
search_string:
 //onlysupportbulkloadwhenahfile.family.pathhasbeenspecified.TODO:supportdetectingcf'sfromcolumnmappingTODO:supportloadingintomultipleCF'satatime
 
sub_line:
 //TODO:supportdetectingcf'sfromcolumnmapping 

frontremoved_sub_line:
 DO:supportdetectingcf'sfromcolumnmapping 

sub_line:
 //TODO:supportloadingintomultipleCF'satatime 

frontremoved_sub_line:
 DO:supportloadingintomultipleCF'satatime 

sub_line:
 Stringpath=HiveHFileOutputFormat.getFamilyPath(jobConf,tableProperties); 

frontremoved_sub_line:
 ngpath=HiveHFileOutputFormat.getFamilyPath(jobConf,tableProperties); 

predict_string:
 //onlysupportbulkloadwhenahfile.family.pathhasbeenspecified. 

line_no || similarity 

269 || 0.5882352941176471 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java 

under_code:
String path = HiveHFileOutputFormat.getFamilyPath(jobConf, tableProperties);
 

ーーーーーーーーSearch the target string491ーーーーーーーーーーーーーーー
 
search_string:
 //TODOWhyisthischangedfromthedefaultinhive-conf?
 
predict_string:
 //TODOWhyisthischangedfromthedefaultinhive-conf? 

line_no || similarity 

425 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/itests/util/src/main/java/org/apache/hadoop/hive/ql/QTestUtil.java 

under_code:
warehousePath = new Path(fsUriString, "/build/ql/test/data/warehouse/");
 

ーーーーーーーーSearch the target string492ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:needtosetcatalogparameter
 
predict_string:
 //TODO:needtosetcatalogparameter 

line_no || similarity 

729 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/jdbc/src/java/org/apache/hive/jdbc/HiveDatabaseMetaData.java 

under_code:
if (types != null) {
 

ーーーーーーーーSearch the target string493ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:Shouldhaveacheckontheserverside.EmbeddedmetastorethrowsNullPointerException,remotethrowsTTransportException
 
sub_line:
 //NullPointerException,remotethrowsTTransportException 

frontremoved_sub_line:
 llPointerException,remotethrowsTTransportException 

sub_line:
 Assert.fail("ExpectedanNullPointerExceptionorTTransportExceptiontobethrown"); 

frontremoved_sub_line:
 rt.fail("ExpectedanNullPointerExceptionorTTransportExceptiontobethrown"); 

predict_string:
 //TODO:Shouldhaveacheckontheserverside.Embeddedmetastorethrows 

line_no || similarity 

218 || 0.7045454545454546 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/client/TestFunctions.java 

under_code:
Assert.fail("Expected an NullPointerException or TTransportException to be thrown");
 

ーーーーーーーーSearch the target string494ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:thiswillprobablysendamessagetoAM.Isthatneededhere?
 
predict_string:
 //TODO:thiswillprobablysendamessagetoAM.Isthatneededhere? 

line_no || similarity 

632 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/daemon/impl/TaskExecutorService.java 

under_code:
taskWrapper.getTaskRunnerCallable().killTask();
 

ーーーーーーーーSearch the target string495ーーーーーーーーーーーーーーー
 
search_string:
 //There'sfullhashcodestoredinfrontofthekey.Wecouldcheckthatfirst.IfkeyLengthis<=4itobviouslydoesn'tmakesense,lessbytestocheckinakey.Then,ifthere'samatch,wecheckitinvain.Butwhatistheproportionofmatches?Forwritesitcouldbe0ifallkeysareunique,forreadswehopeit'sreallyhigh.Thenifthere'samismatchwhatprobabilityistherethatkeymismatchesin<4bytes(sojustcheckingthekeyisfaster)?
 
under_code:
too long.
 

ーーーーーーーーSearch the target string496ーーーーーーーーーーーーーーー
 
search_string:
 /**GivenaRexCall&TableScanfindmaxnoofnulls.Currentlyitpicksthe*colwithmaxnoofnulls.**TODO:improvethis**@paramcall*@paramt*@return*/
 
sub_line:
 *@return 

frontremoved_sub_line:
 turn 

sub_line:
 */ 

frontremoved_sub_line:
  

sub_line:
 privateBufferedRowsgetConfInternal(booleancall){ 

frontremoved_sub_line:
 ateBufferedRowsgetConfInternal(booleancall){ 

predict_string:
 *@paramcall 

line_no || similarity 

785 || 0.15492957746478872 

filepath:
   /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/beeline/src/java/org/apache/hive/beeline/Commands.java 

under_code:
private BufferedRows getConfInternal(boolean call) {
 

ーーーーーーーーSearch the target string497ーーーーーーーーーーーーーーー
 
search_string:
 //NOTE:BeeLineOptsusesReflectorinanextensivewaytocallgettersandsettersonitselfIfyouwanttoaddanygettersorsetterstothisclass,butnothaveitinterferewithsavedvariablesinbeeline.properties,carefuluseofthismarkerisneeded.AlsopossibletogetthisbynamingthesefunctionsobtainBlahinsteadofgetBlahandsoon,butthatisnotexplicitandwilllikelysurprisepeoplelookingatthecodeinthefuture.Bettertobeexplicitinintent.
 
under_code:
too long.
 

ーーーーーーーーSearch the target string498ーーーーーーーーーーーーーーー
 
search_string:
 //TODO:shouldthisbecurrentDirs?
 
predict_string:
 if(dirs.length!=0){//TODO:shouldthisbecurrentDirs? 

line_no || similarity 

761 || 0.7654320987654321 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/io/HiveInputFormat.java 

under_code:
if (LOG.isInfoEnabled()) {
 

ーーーーーーーーSearch the target string499ーーーーーーーーーーーーーーー
 
search_string:
 //TODOWhatelseisrequiredinthisenvironmentmap.
 
predict_string:
 //TODOWhatelseisrequiredinthisenvironmentmap. 

line_no || similarity 

235 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/llap-server/src/java/org/apache/hadoop/hive/llap/daemon/impl/ContainerRunnerImpl.java 

under_code:
env.putAll(localEnv);
 

ーーーーーーーーSearch the target string500ーーーーーーーーーーーーーーー
 
search_string:
 //FIXME:HIVE-18703shouldprobablymovethismethodsomewhereelse
 
predict_string:
 //FIXME:HIVE-18703shouldprobablymovethismethodsomewhereelse 

line_no || similarity 

1605 || 1.0 

filepath:
 /Users/yonekuramiki/Desktop/resarch/searchSATD-underCode/clone/ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java 

under_code:
public final boolean logicalEqualsTree(Operator<?> o) {
 
----------結果491件ヒットしました--------------------------

ans_lists1: private static boolean areMergeable(ParseContext pctx, SharedWorkOptimizerCache optimizerCache, 

ans_lists2: State s; 

ans_lists3: bucketColumns.add(new ExprNodeColumnDesc(ci)); 

ans_lists4: } while (result != null); 

ans_lists5: too long. 

ans_lists6: private final SemanticAnalyzer                              semanticAnalyzer; 

ans_lists7: for (Map.Entry<Long, Long> missingChunk : chunksInThisRead.entrySet()) { 

ans_lists8: None 

ans_lists9: too long. 

ans_lists10: System.out.println("Getting versions from " + queryDir); 

ans_lists11: throw new HiveException(ex, ErrorMsg.DATABSAE_ALREADY_EXISTS, crtDb.getName()); 

ans_lists12: private PreInsertTableDesc preInsertTableDesc; 

ans_lists13: throw new RuntimeException("ContainerInfo not found for container: " + containerId + 

ans_lists14: byte[] bytes = hiveVarchar.getValue().getBytes(); 

ans_lists15: update(); 

ans_lists16: public Map<String, String> getTblProps() { 

ans_lists17: public void testTriggerSlowQueryExecutionTime() throws Exception { 

ans_lists18: int nParts = partNames.size(); 

ans_lists19: //       supports all types 

ans_lists20: private FooterCache footerCache; 

ans_lists21: String parts[] = jobIdString.split("_"); 

ans_lists22: desc = new FileSinkDesc(basePath, tableDesc, false, 1, false, 

ans_lists23: s = "select count(*) from COMPLETED_TXN_COMPONENTS where CTC_TXNID = " + txnid; 

ans_lists24: // Assert.assertEquals("expected uri", api.getAddedResource("jar")); 

ans_lists25: if (this.canUpdateFinishable) { 

ans_lists26: RowResolver inputRR = this.relToHiveRR.get(srcRel), starRR = inputRR; 

ans_lists27: if (allPartitions != null) { 

ans_lists28: public class HiveCost implements RelOptCost { 

ans_lists29: selectivity = computeFunctionSelectivity(call) * (call.operands.size() - 1); 

ans_lists30: //       for TOK_JOIN and TOK_FULLOUTERJOIN. 

ans_lists31: if (!resp.isIsSupported()) { 

ans_lists32: public Builder location(String location) { 

ans_lists33: for(ReadEntity re : partitionsRead) { 

ans_lists34: while (command.charAt(startPosition++) != '`' && startPosition < command.length()){ 

ans_lists35: None 

ans_lists36: too long. 

ans_lists37: // First, we find the SELECT closest to the top. 

ans_lists38: @Override 

ans_lists39: HIVE_IN_TEST_REPL("hive.in.repl.test", false, "internal usage only, true in replication test mode", true), 

ans_lists40: String currDb = SessionState.get().getCurrentDatabase(); 

ans_lists41: Set<String> result = new LinkedHashSet<>(); 

ans_lists42: RowIndex[] getRowIndexes(); 

ans_lists43: return new Partition(); 

ans_lists44: theMRInput = (MRInputLegacy) inp.getValue(); 

ans_lists45: return valuesReader.readBytes().getBytesUnsafe(); 

ans_lists46: return Maps.fromProperties(properties); 

ans_lists47: too long. 

ans_lists48: @Test 

ans_lists49: case "-": 

ans_lists50: too long. 

ans_lists51: private static boolean hadBadBloomFilters(TypeDescription.Category category, 

ans_lists52: int numBuckets = (conf.getTable() != null) ? conf.getTable().getNumBuckets() 

ans_lists53: checkAndSetFileOwnerPermissions(fs, subFile, userName, groupName, dirPerms, filePerms, dryRun, recurse); 

ans_lists54: sb.append("\tFAILED container: "); 

ans_lists55: // args as child of func? 

ans_lists56: if (e instanceof MetaException) { 

ans_lists57: //       somewhere like ZK? Try to randomize it a bit for now... 

ans_lists58: too long. 

ans_lists59: setFsRelatedProperties(conf, fs.getScheme().equals("file"),fs); 

ans_lists60: private void initHS2(boolean enableXSRFFilter) throws Exception { 

ans_lists61: return new String((byte[])obj); 

ans_lists62: too long. 

ans_lists63: public String getDatabaseName() { 

ans_lists64: List<String> partitionNames = client.listPartitionNames(DB_NAME, TABLE_NAME, 

ans_lists65: public List<Order> getSortCols() { 

ans_lists66: throw new SerDeException("TypeInfo [" + typeInfo.getTypeName() 

ans_lists67: private Map<Integer, String> parentToInput = new HashMap<Integer, String>(); 

ans_lists68: public class LlapProtocolClientImpl implements LlapProtocolBlockingPB { 

ans_lists69: } 

ans_lists70: return StructStreamReader.builder() 

ans_lists71: MapWork mergeMapWork = (MapWork) mergeWork; 

ans_lists72: // can prevent updates from being sent out to the new node. 

ans_lists73: caughtException = (TException)t; 

ans_lists74: } 

ans_lists75: if (ss != null && HiveConf.getVar(job, ConfVars.HIVE_EXECUTION_ENGINE).equals("tez")) { 

ans_lists76: too long. 

ans_lists77: too long. 

ans_lists78: curr = genPostGroupByBodyPlan(groupByOperatorInfo, dest, qb, aliasToOpInfo, null); 

ans_lists79: if (type.equals(Type.JOB)) { 

ans_lists80: conf.setBoolean("tez.runtime.optimize.local.fetch", true); 

ans_lists81: assert root.equals(orcSplit.getRootDir()) : "root mismatch: baseDir=" + orcSplit.getRootDir() + 

ans_lists82: } 

ans_lists83: // if (bb.isDirect()) { 

ans_lists84: this.createViewDesc.setViewOriginalText(originalText); 

ans_lists85: } 

ans_lists86: MemoryBuffer[] tailBufferArray = tailBuffers.getMultipleBuffers(); 

ans_lists87: too long. 

ans_lists88: // SettableTreeReader so that we can avoid this check. 

ans_lists89: if (newCacheData == null) { 

ans_lists90: short twoScaleDown = (short) -exponent; 

ans_lists91: too long. 

ans_lists92: deleteDeltaIfExists(newPartitionPath, table.getWriteId(), newBucketId); 

ans_lists93: throw new RuntimeException("SubmissionState in response is expected!"); 

ans_lists94: private static final LlapCoordinator INSTANCE = new LlapCoordinator(); 

ans_lists95: TStatus tStatus = new TStatus(TStatusCode.ERROR_STATUS); 

ans_lists96: // TODO HIVE-16134. Differentiate between EXTERNAL_PREEMPTION_WAITQUEU vs EXTERNAL_PREEMPTION_FINISHABLE? 

ans_lists97: // This also gets us around the Enum issue since we just take the value 

ans_lists98: private static HCatSchema getOutputSchema(Configuration conf) 

ans_lists99: List<String> materializedViews = getTables(dbName, ".*", TableType.MATERIALIZED_VIEW); 

ans_lists100: too long. 

ans_lists101: output.add(new IntWritable(Integer.valueOf((String) value))); 

ans_lists102: private void checkForZKDTSMBug() { 

ans_lists103: super(LlapProtocolClientProxy.class.getSimpleName(), numThreads, conf, llapToken, 

ans_lists104: client.dropTable("no_such_database", table.getTableName()); 

ans_lists105: } 

ans_lists106: streams.out.close(); 

ans_lists107: if (useDelimitedJSON) { 

ans_lists108: public void createCatalogWithBadLocation() throws TException { 

ans_lists109: FileUtils.readFully(stream, length, bb); 

ans_lists110: TypeInfo tgtDT = null; 

ans_lists111: // TODO: we should be able to enable caches separately 

ans_lists112: private org.apache.hadoop.hive.ql.plan.TableDesc table; 

ans_lists113: too long. 

ans_lists114: assert isSplitUpdate : "should be true in Hive 3.0"; 

ans_lists115: too long. 

ans_lists116: public VectorMapJoinOptimizedMultiKeyHashMap(boolean isOuterJoin, 

ans_lists117: copyName = generateOldPlanName(newName, ++i); 

ans_lists118: private void dumpFunctionMetadata(String dbName, Path dumpRoot) throws Exception { 

ans_lists119: return compile_resp; 

ans_lists120: assert !isRepeated; 

ans_lists121: String isExternal = table.getParameters().get("EXTERNAL"); 

ans_lists122: return 0; 

ans_lists123: private Hive sessionHive; 

ans_lists124: pw.println( 

ans_lists125: expr = (ASTNode) child.getChild(0); 

ans_lists126: Utilities.clearWorkMap(conf); 

ans_lists127: too long. 

ans_lists128: // means serializing another instance. 

ans_lists129: private static class FetchInputFormatSplit extends HiveInputFormat.HiveInputSplit { 

ans_lists130: public Builder collectionItemsTerminatedBy(char delimiter) { 

ans_lists131: static String convertScanToString(Scan scan) throws IOException { 

ans_lists132: for (String partName : partNames) { 

ans_lists133: LOG.warn("Error during analyzeReplDump", e); 

ans_lists134: ShowCompactResponse currentCompactions = txnHandler.showCompact(new ShowCompactRequest()); 

ans_lists135: too long. 

ans_lists136: too long. 

ans_lists137: e.printStackTrace(); 

ans_lists138: newCall = 

ans_lists139: String tabAlias = addEmptyTabAlias ? "" : null; 

ans_lists140: boolean lastSeenRightOuterJoin = false; 

ans_lists141: private static final String HDFS_ID_PATH_PREFIX = "/.reserved/.inodes/"; 

ans_lists142: if (lbDirSuffix.startsWith(Path.SEPARATOR)) { 

ans_lists143: too long. 

ans_lists144: // authorization checks passed. 

ans_lists145: hookContext = new PrivateHookContext(plan, queryState, ctx.getPathToCS(), SessionState.get().getUserName(), 

ans_lists146: public class HiveRelMdPredicates implements MetadataHandler<BuiltInMetadata.Predicates> { 

ans_lists147: if (LOG.isTraceEnabled()) { 

ans_lists148: // in type system for this. 

ans_lists149: too long. 

ans_lists150: too long. 

ans_lists151: } 

ans_lists152: return (files.size() > otherFiles.size()) 

ans_lists153: String topicName = getTopicPrefix(tableEvent.getIHMSHandler().getConf()) + "." + table.getDbName().toLowerCase(); 

ans_lists154: private SessionState parentSessionState; 

ans_lists155: boolean useNontaged = conf.getBoolVar( 

ans_lists156: srv.set(kv.getKey(), kv.getValue()); 

ans_lists157: return null; 

ans_lists158: final List<OrcProto.Type> schemaTypes = OrcUtils.getOrcTypes(schema); 

ans_lists159: too long. 

ans_lists160: return new DoubleStreamReader(columnIndex, present, data, isFileCompressed, vectors); 

ans_lists161: this.version = version; 

ans_lists162: case '%': 

ans_lists163: // once the feature is stable 

ans_lists164: TGetResultSetMetadataResp  metadataResp; 

ans_lists165: // Don't acquire locks for any of these, we have already asked for them in DDLSemanticAnalyzer. 

ans_lists166: /* 

ans_lists167: LOG.warn("Session configuration is null for " + wmTezSession); 

ans_lists168: too long. 

ans_lists169: this.orcCvp = new OrcColumnVectorProducer( 

ans_lists170: too long. 

ans_lists171: for (int i = 0; i < includes.getReaderLogicalColumnIds().size(); ++i) { 

ans_lists172: HashPartition hashPartition = new HashPartition(1024, (float) 0.75, 524288, 1, true, null); 

ans_lists173: // those tables directory. 

ans_lists174: aggArgRelDTBldr.add(TypeConverter.convert(expr.getTypeInfo(), dtFactory)); 

ans_lists175: return false; 

ans_lists176: LOG.debug("Unable to stat file as current user, trying as table owner"); 

ans_lists177: if ("string".equalsIgnoreCase(type)) { 

ans_lists178: client.add_partitions_pspec(null); 

ans_lists179: if(tempDecimalBuffer == null || tempDecimalBuffer.length < length) { 

ans_lists180: } 

ans_lists181: zkConf.set(ZK_DTSM_ZK_AUTH_TYPE, "sasl"); 

ans_lists182: if (! (data instanceof List)) { 

ans_lists183: throw new IllegalStateException("Unable to initialize Warehouse from clientside."); 

ans_lists184: } 

ans_lists185: footerCache = useExternalCache ? metaCache : localCache; 

ans_lists186: isBigTable = 

ans_lists187: None 

ans_lists188: final Set<Operator<?>> workOps1 = findWorkOperators(optimizerCache, op1); 

ans_lists189: break; 

ans_lists190: c.isRepeating = false; 

ans_lists191: boolean retval = true; 

ans_lists192: synchronized (CACHE_TEARDOWN_LOCK) { 

ans_lists193: Path keyfile= new Path(getPath(type) + "/" + id + "/" + key); 

ans_lists194: too long. 

ans_lists195: } catch (Exception e) { 

ans_lists196: int scale = HiveDecimalUtils.getScaleForType(ptinfo); 

ans_lists197: return FETCH_NEXT; 

ans_lists198: this.metrics = LlapTaskSchedulerMetrics.create(displayName, sessionId); 

ans_lists199: public Builder isTableExternal(boolean isExternal) { 

ans_lists200: } 

ans_lists201: return cpr; 

ans_lists202: private void moveWork(SparkWork sparkWork, BaseWork work, SparkWork targetWork) { 

ans_lists203: JSONObject configs = createConfigJson(containerSize, cache, xmx, java_home); 

ans_lists204: boolean isManagedTable = part.getTable().getTableType() == TableType.MANAGED_TABLE; 

ans_lists205: boolean alreadyCommitted = rs2.next() && rs2.getInt(1) > 0; 

ans_lists206: too long. 

ans_lists207: too long. 

ans_lists208: too long. 

ans_lists209: assert info.lastSetGuaranteed == null; 

ans_lists210: "there should be " + String.valueOf(expectedNumOCleanedFiles) + " deleted files in cm root", 

ans_lists211: public String getLocation() { 

ans_lists212: return false; 

ans_lists213: tableCols = new ArrayList<>(); 

ans_lists214: } 

ans_lists215: private Deserializer inputKeyDeserializer; 

ans_lists216: private static class ReflectiveProgressHelper { 

ans_lists217: TezSessionPoolManager.closeIfNotDefault(ss.getTezSession(), true); 

ans_lists218: collSep = LazyUtils.getByte(tbl.getProperty(COLLECTION_DELIM), 

ans_lists219: private boolean hadCommFailure = false; 

ans_lists220: public class ProtobufProxy<BlockingInterface> { 

ans_lists221: LLAP_DAEMON_CONTAINER_ID("hive.llap.daemon.container.id", null, 

ans_lists222: too long. 

ans_lists223: @Override 

ans_lists224: // with the RS parent based on its position in the list of parents. 

ans_lists225: checkAcidConstraints(qb, table_desc, dest_tab); 

ans_lists226: keys[current].setFirst(JoinUtil.computeKeys(nextRow.o, keyFields, keyFieldOIs)); 

ans_lists227: too long. 

ans_lists228: LOG.info("Could not make " + Warehouse.getQualifiedName(newTable) + " acid: it's " + 

ans_lists229: JoinAlgorithm oldAlgo = join.getJoinAlgorithm(); 

ans_lists230: if (converter.getWindowFunctionSpec() != null) { 

ans_lists231: sb.append('='); 

ans_lists232: //which is not tracked directly but available on /jobs/<id> node via "mtime" in Stat 

ans_lists233: if (op1 instanceof ReduceSinkOperator) { 

ans_lists234: public class JoinCondTypeCheckProcFactory extends TypeCheckProcFactory { 

ans_lists235: private final static class CasLog { 

ans_lists236: final String mrValue = conf.get(dep.getKey()); 

ans_lists237: gbKeys.addAll(ExprNodeDescUtils.genExprNodeDesc(rs, groupingSetsColPosition, 

ans_lists238: if (sinks.contains(table)) { 

ans_lists239: public static boolean isInsertOnlyTable(Map<String, String> params, boolean isCtas) { 

ans_lists240: //todo: rename files case 

ans_lists241: if (session != null) { 

ans_lists242: TreeMap<Object, Object> tm1 = new TreeMap<Object, Object>(m1); 

ans_lists243: private enum TableType { 

ans_lists244: client.add_partitions_pspec(null); 

ans_lists245: too long. 

ans_lists246: throw new IllegalStateException("Uninitialized Warehouse from MetastoreHandler"); 

ans_lists247: public class LBExprProcCtx implements NodeProcessorCtx{ 

ans_lists248: public Builder nullDefinedAs(char nullChar) { 

ans_lists249: private final static CasLog casLog = null; //new CasLog(); 

ans_lists250: public class HBaseTableSnapshotInputFormatUtil { 

ans_lists251: replicas, 

ans_lists252: if (lastReduceKeyColName != null) { 

ans_lists253: //       Remains here as the legacy of the original higher-level interface (getInstance). 

ans_lists254: * @throws IOException 

ans_lists255: containsWindowing = true; 

ans_lists256: if (joinCond.getType() == HiveParser.TOK_TABCOLNAME 

ans_lists257: @VisibleForTesting 

ans_lists258: super.visit(node, ordinal, parent); 

ans_lists259: too long. 

ans_lists260: return SHIMS.cloneUgi(baseUgi); 

ans_lists261: return vertex; 

ans_lists262: String name = 

ans_lists263: conf = (configuration instanceof HiveConf) ? (HiveConf)configuration : 

ans_lists264: @Override 

ans_lists265: ecode = qt.executeClient(versionFile, fname); 

ans_lists266: if (candidateCached != null) { 

ans_lists267: if (commonTypeInfo instanceof DecimalTypeInfo) { 

ans_lists268: return null; 

ans_lists269: int numReducers = -1; 

ans_lists270: case DECIMAL: 

ans_lists271: enum OptionConstants { 

ans_lists272: None 

ans_lists273: private static final class DataLossLogger { 

ans_lists274: for (Task<? extends Serializable> task : plan.getRootTasks()) { 

ans_lists275: invokeFlag = false; 

ans_lists276: if (!(fs instanceof DistributedFileSystem)) return; 

ans_lists277: Ref<Integer> endpointVersion = new Ref<>(-1); 

ans_lists278: public List<ColumnStatistics> getPartitionColumnStatistics(String catName, String dbName, String tblName, 

ans_lists279: if (startPosition == null || arrayLength + 1 == startPosition.length) { 

ans_lists280: case BINARY: 

ans_lists281: // The hiveJarDir can be determined once per client. 

ans_lists282: if (hasIndexOnlyCols && (rgs == null)) { 

ans_lists283: if (getContext() == null) { 

ans_lists284: StringBuilder buf = new StringBuilder(); 

ans_lists285: @Override 

ans_lists286: return; 

ans_lists287: int numThreads = HiveConf.getIntVar(conf, HiveConf.ConfVars.LLAP_IO_THREADPOOL_SIZE); 

ans_lists288: too long. 

ans_lists289: public String getStatsAggPrefix() { 

ans_lists290: processorContext.waitForAllInputsReady(li); 

ans_lists291: too long. 

ans_lists292: .run("create table t1 (i int, j int) partitioned by (load_date date) " 

ans_lists293: File qf = new File(outDir, fileName); 

ans_lists294: @VisibleForTesting 

ans_lists295: FileSystem fs = deltaDirectory.getFileSystem(conf); 

ans_lists296: inputExpression = 

ans_lists297: too long. 

ans_lists298: String table = rsMeta.getTableName(col + 1); 

ans_lists299: RPC.stopProxy(umbilical); 

ans_lists300: }); 

ans_lists301: Class<? extends MetaException> exClass = JavaUtils.getClass( 

ans_lists302: return deltaFiles; 

ans_lists303: long partitionId = extractSqlLong(fields[0]); 

ans_lists304: public Builder bucketCols(List<String> bucketCols, int buckets) { 

ans_lists305: // if (oi instanceof TypeInfoBasedObjectInspector) { 

ans_lists306: result = new HiveVarchar(); 

ans_lists307: throw new SemanticException("Activate a resource plan to enable workload management"); 

ans_lists308: //         (* and $expr) 

ans_lists309: Map<String, ModuleConfig> moduleConfigs = extractModuleConfigs(); 

ans_lists310: too long. 

ans_lists311: work.getPartitionDescs().remove(desc); 

ans_lists312: if (assertsEnabled) { 

ans_lists313: too long. 

ans_lists314: too long. 

ans_lists315: synchronized void setAssignmentInfo(NodeInfo nodeInfo, ContainerId containerId, long startTime) { 

ans_lists316: Path scratchDir = utils.createTezDir(ctx.getMRScratchDir(), conf); 

ans_lists317: public void testOperatorNames() throws Exception { 

ans_lists318: LOG.debug("Replacing SETCOLREF with ALLCOLREF because of the nested node " 

ans_lists319: FileSystem fs = dbRoot.getFileSystem(conf); 

ans_lists320: CodedInputStream cis = CodedInputStream.newInstance( 

ans_lists321: too long. 

ans_lists322: public Map<String, String> getPartitionSpec() { 

ans_lists323: public class HiveFilterProjectTSTransposeRule extends RelOptRule { 

ans_lists324: logRefreshError("Unable to localize jars: ", jars, t); 

ans_lists325: public String getStorageHandler() { 

ans_lists326: org.apache.hadoop.hive.metastore.api.Table table = getTempTable(dbname, name); 

ans_lists327: //authorize against the table operation so that location permissions can be checked if any 

ans_lists328: String mappedPool = mapping.mapSessionToPoolName(input, allowAnyPool, null); 

ans_lists329: if (fetchOrientation.equals(FetchOrientation.FETCH_FIRST)) { 

ans_lists330: too long. 

ans_lists331: OrcTail orcTail = ReaderImpl.extractFileTail(fileMetadata); 

ans_lists332: too long. 

ans_lists333: qt.shutdown(); 

ans_lists334: // For now, this can simply be fetched from a single registry instance. 

ans_lists335: this.timeoutTimer = timeoutPool.schedule( 

ans_lists336: @Override 

ans_lists337: } 

ans_lists338: public List<String> getBucketCols() { 

ans_lists339: Field[] fields = c.getDeclaredFields(); 

ans_lists340: if (!work.isExplicitAnalyze() && !followedColStats1) { 

ans_lists341: Partition part = 

ans_lists342: loadTableWork.setInheritTableSpecs(false); 

ans_lists343: clusterType = MiniClusterType.valueForString(modeStr); 

ans_lists344: private static final Logger LOG = LoggerFactory.getLogger(ContainerRunnerImpl.class); 

ans_lists345: // Table operations. 

ans_lists346: @Test(expected = NullPointerException.class) 

ans_lists347: // Find the bucket id, and switch buckets if need to 

ans_lists348: too long. 

ans_lists349: String confQueueName = conf.get(TezConfiguration.TEZ_QUEUE_NAME); 

ans_lists350: private TezSessionPoolSession createAndInitSession( 

ans_lists351: None 

ans_lists352: boolean selectStar = false; 

ans_lists353: RexCall equals = (RexCall) conj; 

ans_lists354: if (!leftPosListOfLastRightOuterJoin.contains(condn.getRight())) { 

ans_lists355: TezSessionPoolManager.getInstance().closeNonDefaultSessions(); 

ans_lists356: PartitionDesc partDesc = pathToPartitionInfo.get(path); 

ans_lists357: List<String> materializedViews = getTables(dbName, ".*", TableType.MATERIALIZED_VIEW); 

ans_lists358: // use multiple lines for statements not terminated by the delimiter 

ans_lists359: too long. 

ans_lists360: txnHandler = getTxnHandler(); 

ans_lists361: private static ExprNodeDesc propConstDistUDAFParams() { 

ans_lists362: if (left[leftOffset + length - 1] != rightBuffer[rightFrom + length - 1]) { 

ans_lists363: public EmbeddedCLIServiceClient(ICLIService cliService, Configuration conf) { 

ans_lists364: boolean mergeJoins = !pctx.getConf().getBoolVar(HIVECONVERTJOIN) && 

ans_lists365: too long. 

ans_lists366: private static final String APPLY_PATCH_SCRIPT_PATH = "applyPatchScriptPath"; 

ans_lists367: None 

ans_lists368: private List<ShowLocksResponseElement> getLocksWithFilterOptions(HiveTxnManager txnMgr, 

ans_lists369: public Builder fieldsTerminatedBy(char delimiter) { 

ans_lists370: populateQuickStats(fileStatus, params); 

ans_lists371: too long. 

ans_lists372: abstract boolean useHive130DeltaDirName(); 

ans_lists373: jobProperties.put("mapred.output.dir", path); 

ans_lists374: LOG.trace("Non-parametrized map type: {}", field); 

ans_lists375: this.metrics = ms == null ? null : WmPoolMetrics.create(fullName, ms); 

ans_lists376: switch (schema.getCategory()) { 

ans_lists377: if (parent instanceof Filter || parent instanceof Join || parent instanceof SetOp || 

ans_lists378: too long. 

ans_lists379: static DiskRangeList planIndexReading(TypeDescription fileSchema, 

ans_lists380: if (fields == null) { 

ans_lists381: try { 

ans_lists382: byte[] floatBytes = Float.toString((float) inV.vector[i]).getBytes(); 

ans_lists383: throw new SemanticException( 

ans_lists384: processSetColsNode((ASTNode)child, searcher); 

ans_lists385: reduceWork.getEdgePropRef().setAutoReduce(null, false, 0, 0, 0); 

ans_lists386: ChannelFuture lastMap = null; 

ans_lists387: nonRecConf.setBoolean("mapreduce.input.fileinputformat.input.dir.nonrecursive.ignore.subdirs", true); 

ans_lists388: int urlIx = lastKnownGoodUrl, lastUrlIx = ((urlIx == 0) ? rmNodes.length : urlIx) - 1; 

ans_lists389: throw new HiveException(ErrorMsg.GENERIC_ERROR.getErrorCodedMsg()); 

ans_lists390: /* 

ans_lists391: if (LlapIoImpl.LOG.isTraceEnabled()) { 

ans_lists392: pairs.add(new Pair<Text,Text>(new Text(mapMapping.getColumnFamily()), null)); 

ans_lists393: // how to get around that. 

ans_lists394: Pattern internalPattern = Pattern.compile("_col([0-9]+)"); 

ans_lists395: public List<HCatFieldSchema> getPartitionCols() { 

ans_lists396: switch (hiveTypeCategory) { 

ans_lists397: // ^(TOK_LATERAL_VIEW ^(TOK_SELECT ^(TOK_SELEXPR ^(TOK_FUNCTION Identifier["inline"] valuesClause) identifier* tableAlias))) 

ans_lists398: too long. 

ans_lists399: return ETypeConverter.ETIMESTAMP_CONVERTER.getConverter(type, index, parent, hiveTypeInfo); 

ans_lists400: if (data.stripes == null || data.stripes.isEmpty()) { 

ans_lists401: if (qb.getParseInfo().getAlias() != null) { 

ans_lists402: byte[] bytes = hiveVarchar.getValue().getBytes(); 

ans_lists403: too long. 

ans_lists404: return value; 

ans_lists405: @Override 

ans_lists406: if (Double.isNaN((Double) value)) { 

ans_lists407: if (defaultPoolSize > 0) { 

ans_lists408: perfLogger.PerfLogBegin(CLASS_NAME, PerfLogger.TEZ_INIT_OPERATORS); 

ans_lists409: ShowCompactResponse allCompactions = db.showCompactions(); 

ans_lists410: PrimitiveTypeEntry typeEntry = getTypeFor(method.getReturnType()); 

ans_lists411: pm.deletePersistentAll(mfunc); 

ans_lists412: private static class IndexStream extends InputStream { 

ans_lists413: } 

ans_lists414: FunctionRegistry.unregisterTemporaryUDF("test_udaf"); 

ans_lists415: List<String> partNames = null; 

ans_lists416: public enum GenerateCategory { 

ans_lists417: public List<HCatFieldSchema> getCols() { 

ans_lists418: if (pathToPartInfo == null) { 

ans_lists419: private static final Map<Map<Path, PartitionDesc>, Map<Path, PartitionDesc>> cache = 

ans_lists420: old_dep.setExpr(null); 

ans_lists421: public static Builder create(String dbName, String tableName, List<HCatFieldSchema> columns) { 

ans_lists422: } 

ans_lists423: /*perfLogger.PerfLogBegin(this.getClass().getName(), PerfLogger.OPTIMIZER); 

ans_lists424: Collections.sort(batchToAbort);//easier to read logs 

ans_lists425: // Package permission so that HadoopThriftAuthBridge can construct it but others cannot. 

ans_lists426: private final Path indexPath; 

ans_lists427: DDLWork work = new DDLWork(new HashSet<>(), new HashSet<>(), createDbDesc); 

ans_lists428: //       This computes stats and should be in stats (de-duplicated too). 

ans_lists429: too long. 

ans_lists430: // Use RW, not PRIVATE because the copy-on-write is irrelevant for a deleted file 

ans_lists431: Map<?, ?> map = inputOI.getMap(input); 

ans_lists432: TableDesc keyTableDesc = mapJoinDesc.getKeyTblDesc(); 

ans_lists433: OrcInputFormat.setSearchArgument(readerOptions, schemaTypes, conf, true); 

ans_lists434: int[] filterColumns = RecordReaderImpl.mapSargColumnsToOrcInternalColIdx( 

ans_lists435: too long. 

ans_lists436: PerfLogger perfLogger = SessionState.getPerfLogger(); 

ans_lists437: SerDeEncodedDataReader reader = new SerDeEncodedDataReader(cache, bufferManager, conf, 

ans_lists438: public String getTableName() { 

ans_lists439: if (LOG.isDebugEnabled()) { 

ans_lists440: too long. 

ans_lists441: if (!validSetopParent(rel, parent)) 

ans_lists442: return JAVA64; 

ans_lists443: public class HiveJoin extends Join implements HiveRelNode { 

ans_lists444: locks = lockMgr.getLocks(false, isExt); 

ans_lists445: InputStream errorStream = connection.getErrorStream(); 

ans_lists446: sessionState.close(false); 

ans_lists447: final Reader.Options readOptions = OrcInputFormat.createOptionsForReader(conf); 

ans_lists448: sessionState.setIsHiveServerQuery(true); 

ans_lists449: UserPayload servicePluginPayload = TezUtils.createUserPayloadFromConf(tezConfig); 

ans_lists450: // to writing an instrumentation agent for object size estimation 

ans_lists451: switch (primitiveCategory) { 

ans_lists452: // We will estimate collection as an object (only if it's a field). 

ans_lists453: too long. 

ans_lists454: if (o instanceof java.sql.Date) { 

ans_lists455: checkAbortCondition(); 

ans_lists456: return plan.getStatus() == Status.ACTIVE ? fullFromMResourcePlan(plan) : null; 

ans_lists457: ExecutorService executor = Executors.newFixedThreadPool(THREAD_COUNT); 

ans_lists458: Integer genColListRegex(String colRegex, String tabAlias, ASTNode sel, 

ans_lists459: public void deriveExplainAttributes() { 

ans_lists460: too long. 

ans_lists461: TableDesc ret = getDefaultTableDesc(Integer.toString(Utilities.ctrlaCode), cols, 

ans_lists462: MapJoinDesc mapJoinDesc = MapJoinTestConfig.createMapJoinDesc(testDesc); 

ans_lists463: if (parts.isEmpty()) { 

ans_lists464: String defaultTestSrcTables = "src,src1,srcbucket,srcbucket2,src_json,src_thrift," + 

ans_lists465: if (oldtbl 

ans_lists466: List<FieldSchema> partCols = tTable.getPartitionKeys(); 

ans_lists467: return; 

ans_lists468: if (!isInitOk) { 

ans_lists469: for (String cmd : cmds) { 

ans_lists470: if (metadataCache != null) { 

ans_lists471: @SuppressWarnings("unused") 

ans_lists472: too long. 

ans_lists473: throw new IllegalArgumentException("Negations not yet implemented"); 

ans_lists474: disabledNodesQueue.add(nodeInfo); 

ans_lists475: List<Partition> partitions = client.getPartitionsByNames(DB_NAME, TABLE_NAME, 

ans_lists476: public static byte[] decodeIfNeeded(byte[] recv) { 

ans_lists477: Pattern regex = null; 

ans_lists478: too long. 

ans_lists479: too long. 

ans_lists480: char nextChar = result.charAt(i + 1); 

ans_lists481: None 

ans_lists482: } 

ans_lists483: pathCreated = wh.renameDir(sourcePath, destPath, false); 

ans_lists484: return LlapFixedRegistryImpl.this.port; 

ans_lists485: too long. 

ans_lists486: sb.append(serdeConstants.MAP_TYPE_NAME).append("<").append(serdeConstants.STRING_TYPE_NAME) 

ans_lists487: too long. 

ans_lists488: @Test 

ans_lists489: too long. 

ans_lists490: String path = HiveHFileOutputFormat.getFamilyPath(jobConf, tableProperties); 

ans_lists491: warehousePath = new Path(fsUriString, "/build/ql/test/data/warehouse/"); 

ans_lists492: if (types != null) { 

ans_lists493: Assert.fail("Expected an NullPointerException or TTransportException to be thrown"); 

ans_lists494: taskWrapper.getTaskRunnerCallable().killTask(); 

ans_lists495: too long. 

ans_lists496: private BufferedRows getConfInternal(boolean call) { 

ans_lists497: too long. 

ans_lists498: if (LOG.isInfoEnabled()) { 

ans_lists499: env.putAll(localEnv); 

ans_lists500: public final boolean logicalEqualsTree(Operator<?> o) { 

